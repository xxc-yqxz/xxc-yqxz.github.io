<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#5698c3"><meta name="author" content="语轻星子"><meta name="copyright" content="语轻星子"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>仿微信项目开发(一) | 轻语馆</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#5698c3"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"xxcijmz.top","root":"/","title":"轻语馆","version":"1.6.2","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"algolia":{"appID":"I6Q6TFSWKC","apiKey":"8299a265813c86a465cc32755761abc9","indexName":"blogs","hits":{"per_page":10}}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="/css/content.css"><meta name="description" content="项目和开启原生渲染 安装项目所需插件 新建项目     配置 manifest.json，修改 编译模式及 渲染模式    将项目目录下的 pages&#x2F;index&#x2F;index.vue 改为 pages&#x2F;index&#x2F;index.nvue  nvue介绍 nvue不同编译模式介绍 安卓真机调试配置 手机与电脑通过数据线相连，且选择 USB 用于 传输文件 手机开启了开发者模式（设置-&gt;关于手机-">
<meta property="og:type" content="article">
<meta property="og:title" content="仿微信项目开发(一)">
<meta property="og:url" content="https://xxcijmz.top/blogs/3d307dcc/index.html">
<meta property="og:site_name" content="轻语馆">
<meta property="og:description" content="项目和开启原生渲染 安装项目所需插件 新建项目     配置 manifest.json，修改 编译模式及 渲染模式    将项目目录下的 pages&#x2F;index&#x2F;index.vue 改为 pages&#x2F;index&#x2F;index.nvue  nvue介绍 nvue不同编译模式介绍 安卓真机调试配置 手机与电脑通过数据线相连，且选择 USB 用于 传输文件 手机开启了开发者模式（设置-&gt;关于手机-">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xxcijmz.top/.top//1.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//2.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//3.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//5.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//6.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//7.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//8.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//9.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//10.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//11.jpg">
<meta property="og:image" content="https://xxcijmz.top/.top//1111.jpg">
<meta property="article:published_time" content="2021-11-01T11:31:51.000Z">
<meta property="article:modified_time" content="2021-11-18T10:47:36.047Z">
<meta property="article:author" content="语轻星子">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="uniapp">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xxcijmz.top/.top//1.jpg"><script src="/js/ui/mode.js"></script></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="语轻星子"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/xxc-yqxz/xxc-yqxz.github.io/images/avatar.jpg" alt="语轻星子"></a><div class="site-author-name"><a href="/about/">语轻星子</a></div><span class="site-name">轻语馆</span><sub class="site-subtitle">我也会加油，所以你也要加油，这是约定</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">35</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/xxc-yqxz/xxc-yqxz.github.io" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=894043590&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1379764422" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/269921139" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%92%8C%E5%BC%80%E5%90%AF%E5%8E%9F%E7%94%9F%E6%B8%B2%E6%9F%93"><span class="toc-number">1.</span> <span class="toc-text">项目和开启原生渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%8D%93%E7%9C%9F%E6%9C%BA%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">安卓真机调试配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F-%E4%B8%80"><span class="toc-number">3.</span> <span class="toc-text">引入全局样式(一)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F-%E4%BA%8C"><span class="toc-number">4.</span> <span class="toc-text">引入全局样式(二)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E6%A0%87%E5%BA%93"><span class="toc-number">5.</span> <span class="toc-text">引入自定义图标库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E6%A0%87%E5%85%BC%E5%AE%B9%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%AB%AF"><span class="toc-number">6.</span> <span class="toc-text">图标兼容小程序端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-tabbar-%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-number">7.</span> <span class="toc-text">配置 tabbar 底部导航栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-globalStyle"><span class="toc-number">8.</span> <span class="toc-text">配置 globalStyle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E9%83%A8%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-number">9.</span> <span class="toc-text">头部导航组件开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E6%A0%87%E6%8C%89%E9%92%AE%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85"><span class="toc-number">10.</span> <span class="toc-text">图标按钮组件封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%A4%B4%E9%83%A8%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">11.</span> <span class="toc-text">封装头部导航组件（一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%A4%B4%E9%83%A8%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">12.</span> <span class="toc-text">封装头部导航组件（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%81%8A%E5%A4%A9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6-%E4%B8%80"><span class="toc-number">13.</span> <span class="toc-text">开发聊天列表组件(一)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%81%8A%E5%A4%A9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">14.</span> <span class="toc-text">开发聊天列表组件（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%A4%B4%E5%83%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">15.</span> <span class="toc-text">封装头像组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#badge-%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-number">16.</span> <span class="toc-text">badge 组件开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-badge-%E7%BB%84%E4%BB%B6"><span class="toc-number">17.</span> <span class="toc-text">封装 badge 组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E8%81%8A%E5%A4%A9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">18.</span> <span class="toc-text">封装聊天列表组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%85%A8%E5%B1%80-Mixin"><span class="toc-number">19.</span> <span class="toc-text">封装全局 Mixin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%AF%BC%E8%88%AA%E6%A0%8F%E6%98%BE%E7%A4%BA%E5%86%85%E5%AE%B9"><span class="toc-number">20.</span> <span class="toc-text">控制导航栏显示内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">21.</span> <span class="toc-text">开发弹出层组件（一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">22.</span> <span class="toc-text">开发弹出层组件（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E4%B8%89%EF%BC%89"><span class="toc-number">23.</span> <span class="toc-text">开发弹出层组件（三）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E5%9B%9B%EF%BC%89"><span class="toc-number">24.</span> <span class="toc-text">开发弹出层组件（四）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BA%94%EF%BC%89"><span class="toc-number">25.</span> <span class="toc-text">开发弹出层组件（五）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E5%85%AD%EF%BC%89"><span class="toc-number">26.</span> <span class="toc-text">开发弹出层组件（六）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E4%B8%83%EF%BC%89"><span class="toc-number">27.</span> <span class="toc-text">开发弹出层组件（七）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%B9%E5%87%BA%E5%B1%82%E7%BB%84%E4%BB%B6%EF%BC%88%E5%85%AB%EF%BC%89"><span class="toc-number">28.</span> <span class="toc-text">开发弹出层组件（八）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%AF%BC%E8%88%AA%E6%89%A9%E5%B1%95%E8%8F%9C%E5%8D%95%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">29.</span> <span class="toc-text">开发导航扩展菜单（一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%AF%BC%E8%88%AA%E6%89%A9%E5%B1%95%E8%8F%9C%E5%8D%95%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">30.</span> <span class="toc-text">开发导航扩展菜单（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D"><span class="toc-number">31.</span> <span class="toc-text">删除当前会话</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%AE%E9%A1%B6%E3%80%81%E5%8F%96%E6%B6%88%E7%BD%AE%E9%A1%B6%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D"><span class="toc-number">32.</span> <span class="toc-text">置顶、取消置顶当前会话</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%AE%AF%E5%BD%95%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-number">33.</span> <span class="toc-text">通讯录列表组件开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B9%E5%87%BA%E6%A1%86%E5%B1%95%E7%A4%BA%E6%97%B6%E4%BC%9A%E8%AF%9D%E6%A1%86%E4%BF%9D%E6%8C%81%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81"><span class="toc-number">34.</span> <span class="toc-text">弹出框展示时会话框保持选中状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%85%AC%E5%85%B1%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">35.</span> <span class="toc-text">封装公共列表组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E5%96%84%E9%80%9A%E8%AE%AF%E5%BD%95%E5%88%97%E8%A1%A8"><span class="toc-number">36.</span> <span class="toc-text">完善通讯录列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91find-%E9%A1%B5%E9%9D%A2%E5%8F%8A%E4%BC%98%E5%8C%96%E5%85%AC%E5%85%B1%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">37.</span> <span class="toc-text">开发find 页面及优化公共列表组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E5%96%84%E5%8F%91%E7%8E%B0%E9%A1%B5"><span class="toc-number">38.</span> <span class="toc-text">完善发现页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">39.</span> <span class="toc-text">优化自定义导航栏组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E5%8C%96%E5%85%A8%E5%B1%80%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">40.</span> <span class="toc-text">强化全局列表组件</span></a></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/JS/" style="font-size: 26.4px; color: #8cbbd1">JS</a> <a href="/tags/Vue/" style="font-size: 30px; color: #8abcd1">Vue</a> <a href="/tags/eggjs/" style="font-size: 19.2px; color: #8fb8d0">eggjs</a> <a href="/tags/serverless/" style="font-size: 19.2px; color: #8fb8d0">serverless</a> <a href="/tags/uniapp/" style="font-size: 22.8px; color: #8eb9d0">uniapp</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15.6px; color: #91b6cf">小程序</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 15.6px; color: #91b6cf">工程化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 12px; color: #93b5cf">日记</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 22.8px; color: #8eb9d0">概念</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 12px; color: #93b5cf">部署</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://xxcijmz.top/blogs/3d307dcc/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="语轻星子"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="轻语馆"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">仿微信项目开发(一)</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-11-01 19:31:51" itemprop="dateCreated datePublished" datetime="2021-11-01T19:31:51+08:00">2021-11-01</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2021-11-18 18:47:36" itemprop="dateModified" datetime="2021-11-18T18:47:36+08:00">2021-11-18</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">13k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">68m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">项目开发</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Vue/" style="--text-color:#4fc08d"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Vue</span></a><a class="tag-item" href="/tags/uniapp/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">uniapp</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#5698c3;"><h2 id="项目和开启原生渲染"><a href="#项目和开启原生渲染" class="headerlink" title="项目和开启原生渲染"></a>项目和开启原生渲染</h2><ol>
<li>安装项目所需插件</li>
<li>新建项目</li>
</ol>
<p><img src="/.top//1.jpg" loading="lazy"></p>
<p><img src="/.top//2.jpg" loading="lazy"></p>
<ol start="3">
<li>配置 manifest.json，修改 编译模式及 渲染模式</li>
</ol>
<p><img src="/.top//3.jpg" loading="lazy"></p>
<ol start="4">
<li>将项目目录下的 <code>pages/index/index.vue</code> 改为 <code>pages/index/index.nvue</code></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/nvue-outline">nvue介绍</a></p>
<p><a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/article/36074">nvue不同编译模式介绍</a></p>
<h2 id="安卓真机调试配置"><a href="#安卓真机调试配置" class="headerlink" title="安卓真机调试配置"></a>安卓真机调试配置</h2><ol>
<li>手机与电脑通过数据线相连，且选择 USB 用于 传输文件</li>
<li>手机开启了开发者模式（设置-&gt;关于手机-&gt;多次点击版本信息），且启动了USB调试（其他设置-&gt;开发者选项-&gt;USB调试）。</li>
</ol>
<p>不同手机可能操作不同。</p>
<ol start="3">
<li>启动运行命令，过程中会要求手机安装相关软件。安装完后，且 控制台 编译完成后，即可在 <strong>软件</strong> 中查看到实时效果。</li>
</ol>
<h2 id="引入全局样式-一"><a href="#引入全局样式-一" class="headerlink" title="引入全局样式(一)"></a>引入全局样式(一)</h2><p>在项目中新建 styles/free.css` ，并导入如下代码，其中为一些自定义的样式：</p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 图标 */</span>
<span class="token selector">.iconfont</span><span class="token punctuation">&#123;</span>
	<span class="token property">font-family</span><span class="token punctuation">:</span>iconfont<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.view,.text</span><span class="token punctuation">&#123;</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span>28rpx<span class="token punctuation">;</span> 
	<span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span> 
	<span class="token property">color</span><span class="token punctuation">:</span>#0E151D<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 宽度 */</span>
<span class="token selector">.w-100</span><span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

<span class="token selector">.row</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> -20rpx<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -20rpx<span class="token punctuation">;</span>
  <span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token comment">/* #endif */</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.col-1,
.col-2,
.col-3,
.col-4,
.col-5,
.col-6,
.col-7,
.col-8,
.col-9,
.col-10,
.col-11,
.col-12</span><span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.col-12</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-11</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 687.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-10</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 625rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-9</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 562.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-8</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 500rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-7</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 437.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-6</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 375rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-5</span> <span class="token punctuation">&#123;</span> <span class="token property">width</span><span class="token punctuation">:</span> 312.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-4</span> <span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 250rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-3</span> <span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 187.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-2</span> <span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 125rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-1</span> <span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 62.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>

<span class="token selector">.col-offset-12</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-11</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 687.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-10</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 625rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-9</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 562.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-8</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 500rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-7</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 437.5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-6</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 375rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 312.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-4</span> <span class="token punctuation">&#123;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 250rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-3</span> <span class="token punctuation">&#123;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 187.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-2</span> <span class="token punctuation">&#123;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 125rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-1</span> <span class="token punctuation">&#123;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 62.5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.col-offset-0</span> <span class="token punctuation">&#123;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>

<span class="token comment">/* flex 布局 */</span>
<span class="token selector">.flex</span><span class="token punctuation">&#123;</span>
	<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
	<span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
	<span class="token comment">/* #endif */</span>
	<span class="token property">flex-direction</span><span class="token punctuation">:</span>row<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.flex-row</span><span class="token punctuation">&#123;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span>row<span class="token important">!important</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-column</span><span class="token punctuation">&#123;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span>column<span class="token important">!important</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-row-reverse</span><span class="token punctuation">&#123;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span>row-reverse<span class="token important">!important</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-column-reverse</span><span class="token punctuation">&#123;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span>column-reverse<span class="token important">!important</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-wrap</span><span class="token punctuation">&#123;</span> <span class="token property">flex-wrap</span><span class="token punctuation">:</span>wrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.flex-nowrap</span><span class="token punctuation">&#123;</span> <span class="token property">flex-wrap</span><span class="token punctuation">:</span>nowrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.justify-start</span><span class="token punctuation">&#123;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.justify-end</span><span class="token punctuation">&#123;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.justify-between</span><span class="token punctuation">&#123;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.justify-center</span><span class="token punctuation">&#123;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.align-center</span><span class="token punctuation">&#123;</span> <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.align-stretch</span><span class="token punctuation">&#123;</span> <span class="token property">align-items</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.align-start</span><span class="token punctuation">&#123;</span> <span class="token property">align-items</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.align-end</span><span class="token punctuation">&#123;</span> <span class="token property">align-items</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.content-start</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.content-end</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.content-center</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.content-between</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.content-around</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.content-stretch</span> <span class="token punctuation">&#123;</span><span class="token property">align-content</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.flex-1</span><span class="token punctuation">&#123;</span> <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-2</span><span class="token punctuation">&#123;</span> <span class="token property">flex</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-3</span><span class="token punctuation">&#123;</span> <span class="token property">flex</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-4</span><span class="token punctuation">&#123;</span> <span class="token property">flex</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.flex-5</span><span class="token punctuation">&#123;</span> <span class="token property">flex</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.flex-shrink</span><span class="token punctuation">&#123;</span> <span class="token property">flex-shrink</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>

<span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*  -- 内外边距 -- */</span>
<span class="token selector">.m-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.m-auto</span><span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.m-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.m-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.m-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.m-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.m-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mt-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.mt-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.mt-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mt-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mt-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mt-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mt-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mb-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.mb-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.mb-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mb-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mb-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mb-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mb-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.ml-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.ml-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.ml-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.ml-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.ml-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.ml-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.ml-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mr-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.mr-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.mr-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mr-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mr-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mr-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mr-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.my-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.my-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.my-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.my-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.my-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.my-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.my-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.mx-0</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.mx-auto</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token selector">.mx-1</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.mx-2</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.mx-3</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.mx-4</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.mx-5</span> <span class="token punctuation">&#123;</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>

<span class="token selector">.p-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.p-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pt-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pb-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pl-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.pr-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.py-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-top</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.px-0</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.px-1</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.px</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.px-2</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.px-3</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.px-4</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.px-5</span> <span class="token punctuation">&#123;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span> <span class="token property">padding-right</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 文字大小 */</span>
<span class="token selector">.font-small</span> <span class="token punctuation">&#123;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 20upx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.font-sm</span> <span class="token punctuation">&#123;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 25upx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.font</span> <span class="token punctuation">&#123;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 30upx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.font-md</span> <span class="token punctuation">&#123;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 35upx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.font-lg</span> <span class="token punctuation">&#123;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 40upx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h1</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>80upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h2</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>60upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h3</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>45upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h4</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>32upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h5</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>30upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.h6</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>28upx<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>1.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 文字缩进 */</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.text-indent</span><span class="token punctuation">&#123;</span><span class="token property">text-indent</span><span class="token punctuation">:</span>2<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token comment">/* 文字划线 */</span>
<span class="token selector">.text-through</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>line-through<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 文字对齐 */</span>
<span class="token selector">.text-left</span> <span class="token punctuation">&#123;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-right</span> <span class="token punctuation">&#123;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-center</span> <span class="token punctuation">&#123;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 文字换行溢出处理 */</span>
<span class="token selector">.text-ellipsis</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span><span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
	<span class="token comment">/* #endif */</span>
	<span class="token comment">/* #ifdef APP-PLUS-NVUE */</span>
	<span class="token property">lines</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
	<span class="token comment">/* #endif */</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 文字粗细和斜体 */</span>
<span class="token selector">.font-weight-light</span> <span class="token punctuation">&#123;</span><span class="token property">font-weight</span><span class="token punctuation">:</span> 300<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>      <span class="token comment">/*细*/</span>
<span class="token selector">.font-weight-lighter</span> <span class="token punctuation">&#123;</span><span class="token property">font-weight</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*更细*/</span>
<span class="token selector">.font-weight-normal</span> <span class="token punctuation">&#123;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token comment">/*正常*/</span>
<span class="token selector">.font-weight-bold</span> <span class="token punctuation">&#123;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>      <span class="token comment">/*粗*/</span>
<span class="token selector">.font-weight-bolder</span> <span class="token punctuation">&#123;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">/*更粗*/</span>
<span class="token selector">.font-italic</span> <span class="token punctuation">&#123;</span> <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">/*斜体*/</span>
<span class="token comment">/* 文字颜色 */</span>
<span class="token selector">.text-white</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-primary</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #007bff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-primary</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #0056b3<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-secondary</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-secondary</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #494f54<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-success</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #28a745<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-success</span><span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #19692c<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-info</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #17a2b8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-info</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #0f6674<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-warning</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #ffc107<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-warning</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #ba8b00<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-danger</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #dc3545<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-danger</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #a71d2a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-light</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #f8f9fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-light</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #cbd3da<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-dark</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #343a40<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-hover-dark</span><span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #121416<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-body</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #212529<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-muted</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-light-muted</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> #A9A5A0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-light-black</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.text-light-white</span> <span class="token punctuation">&#123;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>

<span class="token comment">/* 背景颜色 */</span>
<span class="token selector">.bg-primary</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #007bff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-primary:hover</span><span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #0062cc<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-secondary</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-secondary:hover</span><span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #545b62<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-success</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #28a745<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-success</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #1e7e34<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-info</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #17a2b8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-info</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #117a8b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-warning</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #ffc107<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-warning</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #d39e00<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-danger</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #dc3545<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-danger</span><span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #bd2130<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-light</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #f8f9fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-light</span><span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #dae0e5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-dark</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #343a40<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-hover-dark</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #1d2124<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-white</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.bg-transparent</span> <span class="token punctuation">&#123;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 边框 */</span>
<span class="token selector">.border</span> <span class="token punctuation">&#123;</span> <span class="token property">border-width</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span><span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #dee2e6<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-top</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-top-width</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
  <span class="token property">border-top-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-top-color</span><span class="token punctuation">:</span> #dee2e6<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.border-right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-right-width</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
  <span class="token property">border-right-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-right-color</span><span class="token punctuation">:</span> #dee2e6<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.border-bottom</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-bottom-width</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
  <span class="token property">border-bottom-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-bottom-color</span><span class="token punctuation">:</span> #dee2e6<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.border-left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-left-width</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
  <span class="token property">border-left-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-left-color</span><span class="token punctuation">:</span> #dee2e6<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.border-0</span> <span class="token punctuation">&#123;</span> <span class="token property">border-width</span><span class="token punctuation">:</span> 0<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-top-0</span> <span class="token punctuation">&#123;</span> <span class="token property">border-top-width</span><span class="token punctuation">:</span> 0<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-right-0</span> <span class="token punctuation">&#123;</span><span class="token property">border-right-width</span><span class="token punctuation">:</span> 0<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-bottom-0</span> <span class="token punctuation">&#123;</span><span class="token property">border-bottom-width</span><span class="token punctuation">:</span> 0<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-left-0</span> <span class="token punctuation">&#123;</span><span class="token property">border-left-width</span><span class="token punctuation">:</span> 0<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-primary</span> <span class="token punctuation">&#123;</span> <span class="token property">border-color</span><span class="token punctuation">:</span> #007bff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-secondary</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-light-secondary</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #E9E8E5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-success</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #28a745<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-info</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #17a2b8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-warning</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #ffc107<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-danger</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #dc3545<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-light</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #f8f9fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-dark</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #343a40<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.border-white</span> <span class="token punctuation">&#123;</span><span class="token property">border-color</span><span class="token punctuation">:</span> #FFFFFF<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 圆角 */</span>
<span class="token selector">.rounded</span> <span class="token punctuation">&#123;</span> <span class="token property">border-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-top</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-top-left-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
  <span class="token property">border-top-right-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-top-right-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
  <span class="token property">border-bottom-right-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-bottom</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-bottom-right-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
  <span class="token property">border-bottom-left-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-top-left-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
  <span class="token property">border-bottom-left-radius</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-circle</span> <span class="token punctuation">&#123;</span> <span class="token property">border-radius</span><span class="token punctuation">:</span> 100rpx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.rounded-0</span> <span class="token punctuation">&#123;</span> <span class="token property">border-radius</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 显示 */</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.d-none</span><span class="token punctuation">&#123;</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.d-inline-block</span><span class="token punctuation">&#123;</span> <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.d-block</span><span class="token punctuation">&#123;</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span>
<span class="token comment">/* 内容溢出 */</span>
<span class="token selector">.overflow-hidden</span> <span class="token punctuation">&#123;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 定位 */</span>
<span class="token selector">.position-relative</span> <span class="token punctuation">&#123;</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.position-absolute</span> <span class="token punctuation">&#123;</span> <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.position-fixed</span> <span class="token punctuation">&#123;</span> <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* 定位 - 固定顶部 */</span>
<span class="token selector">.fixed-top</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1030<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 定位 - 固定底部 */</span>
<span class="token selector">.fixed-bottom</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1030<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.top-0</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.left-0</span> <span class="token punctuation">&#123;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.right-0</span> <span class="token punctuation">&#123;</span> <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token selector">.bottom-0</span> <span class="token punctuation">&#123;</span> <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

<span class="token comment">/* 阴影 */</span>
<span class="token comment">/* #ifndef APP-PLUS-NVUE */</span>
<span class="token selector">.shadow</span> <span class="token punctuation">&#123;</span> <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 2upx 12upx <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.shadow-lg</span> <span class="token punctuation">&#123;</span> <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0upx 40upx 100upx 0upx <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.175<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">.shadow-none</span> <span class="token punctuation">&#123;</span> <span class="token property">box-shadow</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/* #endif */</span></code></pre>

<p>在 <code>App.vue</code> 中引入该样式文件：</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">...
&lt;style&gt;
&#x2F;*每个页面公共css *&#x2F;
@import &quot;.&#x2F;styles&#x2F;free.css&quot;;
&lt;&#x2F;style</code></pre>

<p>此后即可使用该样式文件中定义的类名：</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;view class&#x3D;&quot;content&quot;&gt;
		&lt;view class&#x3D;&quot;flex&quot;&gt;
			&lt;view class&#x3D;&quot;flex-1 border rounded-circle&quot; style&#x3D;&quot;height: 200rpx&quot;
				&gt;123&lt;&#x2F;view
			&gt;
			&lt;view class&#x3D;&quot;flex-1 border&quot; style&#x3D;&quot;height: 200rpx&quot;&gt;456&lt;&#x2F;view&gt;
		&lt;&#x2F;view&gt;
	&lt;&#x2F;view&gt;
&lt;&#x2F;template&gt;</code></pre>

<h2 id="引入全局样式-二"><a href="#引入全局样式-二" class="headerlink" title="引入全局样式(二)"></a>引入全局样式(二)</h2><p>新建 <strong><code>styles/common.css</code></strong> ，用于创建全局共用样式</p>
<p>我们试着在此处写一些样式，注意此处的样式属性因尽可能的具体：</p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 1.页面背景色 */</span>
<span class="token selector">.page</span><span class="token punctuation">&#123;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #0056B3<span class="token punctuation">;</span>
    <span class="token property">min-height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>可以看到报错：</p>
<p><img src="/.top//5.jpg" loading="lazy"></p>
<p>原因是因为 nvue 中不支持对应的 min-height 属性。所以我们要为其做一些**<code>条件编译</code>**：</p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 1.页面背景色 */</span>
<span class="token selector">.page</span><span class="token punctuation">&#123;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #EDEDED<span class="token punctuation">;</span>
    <span class="token comment">/* #ifndef APP-NVUE */</span>
    <span class="token property">min-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span>
    <span class="token comment">/* #endif */</span>
    <span class="token comment">/* #ifdef APP-NVUE */</span>
    <span class="token comment">/* 此处 flex:1 可以生效的原因是因为：nvue编译为H5、小程序时，会自动把页面默认布局设为flex、方向为垂直。当然开发者手动设置后会覆盖默认设置。*/</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token comment">/* #endif */</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 2.主背景色（原谅绿） */</span>
<span class="token selector">.main-bg-color</span><span class="token punctuation">&#123;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #08C060<span class="token punctuation">;</span>
    
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 3.主文字色（原谅绿） */</span>
<span class="token selector">.main-text-color</span><span class="token punctuation">&#123;</span>
    <span class="token property">color</span><span class="token punctuation">:</span>#08C060<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h2 id="引入自定义图标库"><a href="#引入自定义图标库" class="headerlink" title="引入自定义图标库"></a>引入自定义图标库</h2><ol>
<li>在 <strong><code>iconfont</code></strong> 中选择合适的图标后，添加至项目</li>
</ol>
<p><img src="/.top//6.jpg" loading="lazy"></p>
<ol start="2">
<li>点击生成链接，并赋值 对应的 <strong><code>ttf</code></strong> 文件链接</li>
</ol>
<p><img src="/.top//7.jpg" loading="lazy"></p>
<ol start="3">
<li>在 <code>App.vue</code> 文件中导入对应的图标库</li>
</ol>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// 加载公共图标库</span>
		<span class="token comment">/* #ifdef APP-NVUE */</span>
		<span class="token keyword">const</span> domModule <span class="token operator">=</span> weex<span class="token punctuation">.</span><span class="token function">requireModule</span><span class="token punctuation">(</span><span class="token string">"dom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		domModule<span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token string">"fontFace"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
			fontFamily<span class="token operator">:</span> <span class="token string">"iconfont"</span><span class="token punctuation">,</span>
			src<span class="token operator">:</span> <span class="token string">"url('https://at.alicdn.com/t/font_2908079_zziutlqbc1d.ttf?t=1635815894519')"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">/* #endif */</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<ol start="4">
<li>配置完后，便可在 <code>index.nvue</code> 中正常使用</li>
</ol>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 注意：图标必须写在 text 组件中 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 200rpx</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe63d;">&amp;#xe63d;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<div class="danger">

<blockquote>
<p>nvue 中不能在 style 中引入字体文件，nvue 中字体图标的使用参考：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/nvue-api?id=addrule">加载自定义字体</a> 。</p>
</blockquote>
</div>



<h2 id="图标兼容小程序端"><a href="#图标兼容小程序端" class="headerlink" title="图标兼容小程序端"></a>图标兼容小程序端</h2><p>当我们将项目运行到小程序端时，可以看到之前配置的图标失效了。</p>
<p>为了兼容小程序端，首先我们需要将字体图标库下载至本地，并将其中的 <strong><code>iconfont.css</code></strong> 文件复制。</p>
<p><img src="/.top//8.jpg" loading="lazy"></p>
<p><img src="/.top//9.jpg" loading="lazy"></p>
<p>之后，我们在项目中新建 styles/free-icon.css 文件，并在 App.vue 中导入。将复制的 css 粘贴到 free-icon 中，并将其删减至如下。同时修改其中的 tff 文件路径为在线链接：</p>
<p><strong><code>free-icon.css</code></strong></p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"iconfont"</span><span class="token punctuation">;</span> <span class="token comment">/* Project id 2908079 */</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://at.alicdn.com/t/font_2908079_zziutlqbc1d.ttf?t=1635815894519'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token selector">.iconfont</span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"iconfont"</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
    <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span></code></pre>

<p><strong><code>App.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
...
<span class="token comment">/* #ifndef APP-NVUE */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"./styles/free-icon.css"</span><span class="token punctuation">;</span></span> <span class="token comment">/* #endif */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>

<h2 id="配置-tabbar-底部导航栏"><a href="#配置-tabbar-底部导航栏" class="headerlink" title="配置 tabbar 底部导航栏"></a>配置 tabbar 底部导航栏</h2><ol>
<li><p>在 <strong><code>iconfont</code></strong> 中下载对应的双色图片</p>
</li>
<li><p>在项目中新建 <strong><code>static/tabbar</code></strong> 文件夹，将图片移至其中</p>
</li>
<li><p>在 pages/tabbar 中新建 mail、find、my 三个页面，并将 index 页面移入其中</p>
</li>
</ol>
<p><img src="/.top//10.jpg" loading="lazy"></p>
<p><img src="/.top//11.jpg" loading="lazy"></p>
<ol start="4">
<li>修改 <strong><code>pages.json</code></strong> 文件，为其新增 tabBar 选项：</li>
</ol>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
	<span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//pages数组中第一项表示应用启动页，参考：https://uniapp.dcloud.io/collocation/pages</span>
		<span class="token punctuation">&#123;</span>
			<span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/index/index"</span><span class="token punctuation">,</span>
			<span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				<span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			<span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/mail/mail"</span><span class="token punctuation">,</span>
			<span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				<span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			<span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/find/find"</span><span class="token punctuation">,</span>
			<span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				<span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			<span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/my/my"</span><span class="token punctuation">,</span>
			<span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				<span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	...
	<span class="token property">"tabBar"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token property">"borderStyle"</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>		<span class="token comment">// tabBar 上边框颜色</span>
		<span class="token property">"backgroundColor"</span><span class="token operator">:</span> <span class="token string">"#F7F7F7"</span><span class="token punctuation">,</span>
		<span class="token property">"color"</span><span class="token operator">:</span> <span class="token string">"#000000"</span><span class="token punctuation">,</span>		<span class="token comment">// 字体默认颜色</span>
		<span class="token property">"selectedColor"</span><span class="token operator">:</span> <span class="token string">"#08C261"</span><span class="token punctuation">,</span>	<span class="token comment">// 字体选中颜色</span>
		<span class="token property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">&#123;</span>
				<span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/index.png"</span><span class="token punctuation">,</span>
				<span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/index-select.png"</span><span class="token punctuation">,</span>
				<span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
				<span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/index/index"</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#123;</span>
				<span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/mail.png"</span><span class="token punctuation">,</span>
				<span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/mail-select.png"</span><span class="token punctuation">,</span>
				<span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"通讯录"</span><span class="token punctuation">,</span>
				<span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/mail/mail"</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#123;</span>
				<span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/find.png"</span><span class="token punctuation">,</span>
				<span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/find-select.png"</span><span class="token punctuation">,</span>
				<span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"发现"</span><span class="token punctuation">,</span>
				<span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/find/find"</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#123;</span>
				<span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/my.png"</span><span class="token punctuation">,</span>
				<span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"static/tabbar/my-select.png"</span><span class="token punctuation">,</span>
				<span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"我的"</span><span class="token punctuation">,</span>
				<span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/my/my"</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="配置-globalStyle"><a href="#配置-globalStyle" class="headerlink" title="配置 globalStyle"></a>配置 globalStyle</h2><p>修改 <strong><code>pages.json</code></strong> 中的 globalStyle 选项：</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"globalStyle"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token property">"navigationBarTextStyle"</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>
		<span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"我的微信"</span><span class="token punctuation">,</span>
		<span class="token property">"navigationBarBackgroundColor"</span><span class="token operator">:</span> <span class="token string">"#F8F8F8"</span><span class="token punctuation">,</span>
		<span class="token property">"backgroundColor"</span><span class="token operator">:</span> <span class="token string">"#F8F8F8"</span><span class="token punctuation">,</span>
		<span class="token property">"app-plus"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			<span class="token property">"titleNView"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>	<span class="token comment">// 关闭 顶部导航栏（只在 nvue中生效）</span>
			<span class="token property">"scrollIndicator"</span><span class="token operator">:</span> <span class="token string">"none"</span>	<span class="token comment">// 关闭滚动条</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code></pre>

<h2 id="头部导航组件开发"><a href="#头部导航组件开发" class="headerlink" title="头部导航组件开发"></a>头部导航组件开发</h2><p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 状态栏 --></span>
			<span class="token comment">&lt;!-- 此处的 statusBarHeight 是动态获取的，所以应该用 'px' 作为单位 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>height:<span class="token punctuation">'</span>+statusBarHeight+<span class="token punctuation">'</span>px<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 导航 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>w-100 flex align-center justify-between border<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span> 
				<span class="token comment">&lt;!-- 右边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3 font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>我的微信(10)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 左边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
						<span class="token comment">&lt;!-- nvue 中text 不可以绑定事件，此处通过 view来绑定事件，通过 text 来显示图标 --></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe62f;">&amp;#xe62f;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe657;">&amp;#xe657;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			statusBarHeight<span class="token operator">:</span><span class="token number">0</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// #ifdef APP-NVUE</span>
		<span class="token comment">// 只有NVUE 端才有 状态栏</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>statusBarHeight <span class="token operator">=</span> plus<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">getStatusbarHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// #endif</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/frame?id=css%E5%8F%98%E9%87%8F">nvue页面获取状态栏高度</a></p>
<p><a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/use-html5plus">uniapp使用plus注意事项</a></p>
<p><a target="_blank" rel="noopener" href="https://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.getStatusbarHeight">plus.navigator.getStatusbarHeight</a></p>
<h2 id="图标按钮组件封装"><a href="#图标按钮组件封装" class="headerlink" title="图标按钮组件封装"></a>图标按钮组件封装</h2><p>新建 <strong><code>components/free-ui/free-icon-button.vue</code></strong> 组件：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center<span class="token punctuation">"</span></span>
		<span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span>
		<span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>click<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span>
		<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
	<span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- nvue 中text 不可以绑定事件，此处通过 view来绑定事件，通过 text 来显示图标 --></span>
		<span class="token comment">&lt;!-- 此处的图标需要传入\u + unicode 码才可以使用，具体原因未知 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;icon&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">&#123;</span>
		name<span class="token operator">:</span><span class="token string">'free-icon-button'</span><span class="token punctuation">,</span>
		props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			icon<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				type<span class="token operator">:</span>String<span class="token punctuation">,</span>
				required<span class="token operator">:</span><span class="token boolean">true</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>pages/tabbar/index.nvue</code></strong> 中使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			...
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
				<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>w-100 flex align-center justify-between border<span class="token punctuation">"</span></span>
				<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
			<span class="token punctuation">></span></span>
				...
				<span class="token comment">&lt;!-- 左边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue62f<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue657<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> freeIconButton <span class="token keyword">from</span> <span class="token string">'@/components/free-ui/free-icon-button.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		freeIconButton
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="封装头部导航组件（一）"><a href="#封装头部导航组件（一）" class="headerlink" title="封装头部导航组件（一）"></a>封装头部导航组件（一）</h2><p>新建 <strong><code>components/free-ui/free-nav-bar.vue</code></strong> 文件，将原先 <strong><code>index.nvue</code></strong> 中的 有关导航栏的代码剪切到其中，需要注意uniapp组件中没有 onLoad 等生命周期方法，只有基本的 vue生命周期函数：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 导航栏 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 状态栏 --></span>
				<span class="token comment">&lt;!-- 此处的 statusBarHeight 是动态获取的，所以应该用 'px' 作为单位 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>height:<span class="token punctuation">'</span> + statusBarHeight + <span class="token punctuation">'</span>px<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 导航 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
					<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>w-100 flex align-center justify-between bg-nav<span class="token punctuation">"</span></span>
					<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
				<span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 右边区域 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3 font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 左边区域 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue62f<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue657<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> freeIconButton <span class="token keyword">from</span> <span class="token string">'./free-icon-button.vue'</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				freeIconButton
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				title<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
					statusBarHeight<span class="token operator">:</span><span class="token number">0</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// #ifdef APP-NVUE</span>
				<span class="token comment">// 只有NVUE 端才可以通过如下方式获取状态栏</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>statusBarHeight <span class="token operator">=</span> plus<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">getStatusbarHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// #endif</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>index.nvue</code></strong> 中使用</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fooNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信(10)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fooNavBar</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> fooNavBar <span class="token keyword">from</span> <span class="token string">'@/components/free-ui/free-nav-bar.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		fooNavBar
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="封装头部导航组件（二）"><a href="#封装头部导航组件（二）" class="headerlink" title="封装头部导航组件（二）"></a>封装头部导航组件（二）</h2><p>在原先添加的导航组件的基础上，添加 <strong><code>固定定位</code></strong> 并 为其设置 <strong><code>不遮挡下方标签</code></strong> 的效果，同时设置props 参数，来决定是否开启固定定位：</p>
<p> <strong><code>components/free-ui/free-nav-bar.vue</code></strong> </p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fixed?<span class="token punctuation">'</span>fixed-top<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 状态栏 --></span>
			<span class="token comment">&lt;!-- 此处的 statusBarHeight 是动态获取的，所以应该用 'px' 作为单位 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>height:<span class="token punctuation">'</span> + statusBarHeight + <span class="token punctuation">'</span>px<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 导航 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
				<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>w-100 flex align-center justify-between bg-nav<span class="token punctuation">"</span></span>
				<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
			<span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 右边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3 font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 左边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue62f<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>freeIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue657<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>freeIconButton</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 占位 --></span>
		<span class="token comment">&lt;!-- 原先的布局使用了 fixed布局，导致其脱离的标准文档流，所以在其同位置下设置一个跟导航栏高度一样的 view 组件。 --></span>
		<span class="token comment">&lt;!-- 就可以使使用这个组件的地方的下方 标签元素 不会被本组件遮挡 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fixed<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fixedStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> freeIconButton <span class="token keyword">from</span> <span class="token string">'./free-icon-button.vue'</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				freeIconButton
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				title<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				fixed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
					statusBarHeight<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
					navBarHeight<span class="token operator">:</span><span class="token number">0</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// #ifdef APP-NVUE</span>
				<span class="token comment">// 只有NVUE 端才可以通过如下方式获取状态栏</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>statusBarHeight <span class="token operator">=</span> plus<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">getStatusbarHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// #endif</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>navBarHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>statusBarHeight <span class="token operator">+</span> uni<span class="token punctuation">.</span><span class="token function">upx2px</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">fixedStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">height:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>navBarHeight<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>



<h2 id="开发聊天列表组件-一"><a href="#开发聊天列表组件-一" class="headerlink" title="开发聊天列表组件(一)"></a>开发聊天列表组件(一)</h2><p>创建聊天列表组件的 静态结构</p>
<p><strong><code>pages/tabbar/index/index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fooNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信(10)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fooNavBar</span><span class="token punctuation">></span></span>
		
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 列表 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 左侧 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 145rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.avatar<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rounded<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 右侧 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>border-bottom flex-1 py-1 pr-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 上方 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex justify-between mb-1 pt-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token comment">&lt;!-- 昵称 --></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.nickName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm text-light-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.update_time&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 下方 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pb-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm text-light-muted text-ellipsis<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.content&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> fooNavBar <span class="token keyword">from</span> <span class="token string">'@/components/free-ui/free-nav-bar.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			list<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					avatar<span class="token operator">:</span><span class="token string">"/static/images/demo/demo.jpg"</span><span class="token punctuation">,</span>
					nickName<span class="token operator">:</span><span class="token string">"xxc"</span><span class="token punctuation">,</span>
					update_time<span class="token operator">:</span><span class="token number">1567695767</span><span class="token punctuation">,</span>
					content<span class="token operator">:</span><span class="token string">"哈哈哈哈哈"</span>
				<span class="token punctuation">&#125;</span>
                <span class="token operator">...</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发聊天列表组件（二）"><a href="#开发聊天列表组件（二）" class="headerlink" title="开发聊天列表组件（二）"></a>开发聊天列表组件（二）</h2><p>创建一个 时间的过滤器，并使用到聊天列表组件的 update_time 中</p>
<p>新建 <strong><code>fliters/index.js</code></strong> ，定义 getToTime 过滤器（此处用到了dayjs 模块，需要先进行安装）：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">'dayjs'</span>
<span class="token keyword">import</span> rTime <span class="token keyword">from</span> <span class="token string">'dayjs/plugin/relativeTime'</span>
<span class="token keyword">import</span> calendar <span class="token keyword">from</span> <span class="token string">'dayjs/plugin/calendar'</span>
<span class="token keyword">import</span> <span class="token string">'dayjs/locale/zh-cn'</span>

dayjs<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">'zh-cn'</span><span class="token punctuation">)</span>
dayjs<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>rTime<span class="token punctuation">)</span>
dayjs<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>calendar<span class="token punctuation">)</span>


<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getToTime</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> dayjs<span class="token punctuation">.</span><span class="token function">unix</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">calendar</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
  sameDay<span class="token operator">:</span> <span class="token string">'[今天] HH:mm '</span><span class="token punctuation">,</span> 
  lastDay<span class="token operator">:</span> <span class="token string">'[昨天]'</span><span class="token punctuation">,</span> 
  lastWeek<span class="token operator">:</span> <span class="token string">'MM[月]DD[日]'</span><span class="token punctuation">,</span>
  sameElse<span class="token operator">:</span> <span class="token string">'MM[月]DD[日]'</span> 
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>在 <strong><code>pages/tabbar/index/index.nvue</code></strong> 中使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
     ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm text-light-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.update_time | getToTime&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>getToTime<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/filters/index.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
<span class="token operator">...</span>
	filters<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		getToTime
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<div class="danger">

<blockquote>
<p>注意：在 nvue 中，过滤器只能在 nvue 文件中单独导入使用。不可以在 全局注册使用。</p>
</blockquote>
</div>

<h2 id="封装头像组件"><a href="#封装头像组件" class="headerlink" title="封装头像组件"></a>封装头像组件</h2><p>头像将来会在 多处 用到，所以有必要封装为一个组件。</p>
<p>新建 <strong><code>components/my-ui/my-avatar.vue</code></strong> ：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeStyle<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>type<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				size<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token operator">|</span>Number<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token number">90</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				src<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">""</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token comment">// 设置 image 是否为圆角</span>
				type<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">"rounded"</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">computeStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">rpx;width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">rpx;</span><span class="token template-punctuation string">`</span></span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>index.nvue</code></strong> 中使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myAvatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.avatar<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>92<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myAvatar</span><span class="token punctuation">></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token operator">...</span>
<span class="token keyword">import</span> myAvatar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-avatar.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		myAvatar
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="badge-组件开发"><a href="#badge-组件开发" class="headerlink" title="badge 组件开发"></a>badge 组件开发</h2><pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信(10)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 列表 --></span>
			<span class="token comment">&lt;!-- 此处使用 align-stretch是为了使其内部的元素在侧轴拉伸，占满整个list 的高度 --></span>
			<span class="token comment">&lt;!-- 以便下面使用 position 定位，能够更好的确定距离 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-stretch<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 左侧 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center position-relative<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 145rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myAvatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.avatar<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>92<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myAvatar</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-danger text-white rounded-circle font-sm position-absolute<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">padding-left</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span><span class="token property">padding-right</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span><span class="token property">padding-top</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span><span class="token property">padding-bottom</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span><span class="token property">right</span><span class="token punctuation">:</span> 15rpx<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 右侧 --></span>
				...
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<div class="warning">

<blockquote>
<p>注意：此处的 myAvatar 和 text 的顺序不可以替换，否则 text 会一直压在图片下方。即使设置了 z-index 也无效。原因是因为 原生 渲染 是从上往下渲染的。这一点与 vue 中不同，需要注意。</p>
</blockquote>
</div>

<h2 id="封装-badge-组件"><a href="#封装-badge-组件" class="headerlink" title="封装 badge 组件"></a>封装 badge 组件</h2><p>新建 <strong><code>components/my-ui/my-badge.vue</code></strong> ：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-badge bg-danger text-white rounded-circle font-sm<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>badgeClass<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>badgeStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;num&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				badgeClass<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				badgeStyle<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				num<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>Number<span class="token operator">|</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
<span class="token selector">.my-badge</span><span class="token punctuation">&#123;</span>
	<span class="token property">padding-left</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
	<span class="token property">padding-right</span><span class="token punctuation">:</span> 8rpx<span class="token punctuation">;</span>
	<span class="token property">padding-top</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
	<span class="token property">padding-bottom</span><span class="token punctuation">:</span> 1rpx<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>index.nvue</code></strong> 中进行使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
        ...
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-stretch<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 左侧 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center position-relative<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 145rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myAvatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.avatar<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>92<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myAvatar</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myBadge</span> <span class="token attr-name">num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">badgeClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-absolute<span class="token punctuation">"</span></span> <span class="token attr-name">badgeStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>top:15rpx;right:15rpx;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myBadge</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token operator">...</span>
<span class="token keyword">import</span> myBadge <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-badge.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		myBadge
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="封装聊天列表组件"><a href="#封装聊天列表组件" class="headerlink" title="封装聊天列表组件"></a>封装聊天列表组件</h2><p>新建 <strong><code>components/my-ui/my-chat-list.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- 列表 --></span>
    <span class="token comment">&lt;!-- 为了使得 长按样式生效，此处需要在最外层用一个 view 包裹，但实际上此时hover在 APP 端也无法生效 --></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 此处使用 align-stretch是为了使其内部的元素在侧轴拉伸，占满整个list 的高度 --></span>
		<span class="token comment">&lt;!-- 以便下面使用 position 定位，能够更好的确定距离 --></span>
		<span class="token comment">&lt;!-- 此处需要将 view 改为 div，否则 longpress 事件无法获取到坐标 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span> <span class="token attr-name">@longpress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 左侧 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
				<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center position-relative<span class="token punctuation">"</span></span>
				<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 145rpx</span><span class="token punctuation">"</span></span></span>
			<span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myAvatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chatData.avatar<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>92<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myAvatar</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myBadge</span>
					<span class="token attr-name">:num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chatData.noReadNum<span class="token punctuation">"</span></span>
					<span class="token attr-name">badgeClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-absolute<span class="token punctuation">"</span></span>
					<span class="token attr-name">badgeStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>top:15rpx;right:15rpx;<span class="token punctuation">"</span></span>
				<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myBadge</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 右侧 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>border-bottom flex-1 py-1 pr-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 上方 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex justify-between mb-1 pt-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 昵称 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; chatData.nickName &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm text-light-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;
							chatData.update_time | getToTime
						&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 下方 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pb-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm text-light-muted text-ellipsis<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;
						chatData.content
					&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> myAvatar <span class="token keyword">from</span> <span class="token string">"@/components/my-ui/my-avatar.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> myBadge <span class="token keyword">from</span> <span class="token string">"@/components/my-ui/my-badge.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getToTime <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/filters/index.js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		chatData<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
			required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		index<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>Number <span class="token operator">|</span> String<span class="token punctuation">,</span>
			required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		myAvatar<span class="token punctuation">,</span>
		myBadge<span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	filters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		getToTime<span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">/**
		 * 点击事件
		 */</span>
		<span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token comment">/**
		 * 长按事件
		 */</span>
		<span class="token function">onLongPress</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>index.nvue</code></strong> 中进行使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
     ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> myChatList <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-chat-list.vue'</span>
<span class="token operator">...</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		myNavBar<span class="token punctuation">,</span>
		myChatList
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="封装全局-Mixin"><a href="#封装全局-Mixin" class="headerlink" title="封装全局 Mixin"></a>封装全局 Mixin</h2><p>新建 <strong><code>mixins/index.js</code></strong> ，通过这个文件来定义一些全局的 mixin，供其它组件或页面使用：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>getToTime<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/filters'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	filters<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		getToTime
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>在 <strong><code>components/my-ui/my-chat-list.vue</code></strong> 中进行使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Mixins <span class="token keyword">from</span> <span class="token string">'@/mixins/index.js'</span>
<span class="token comment">// 将原先的filters 导入删除</span>
<span class="token operator">...</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	mixins<span class="token operator">:</span><span class="token punctuation">[</span>Mixins<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="控制导航栏显示内容"><a href="#控制导航栏显示内容" class="headerlink" title="控制导航栏显示内容"></a>控制导航栏显示内容</h2><p>导航栏中的标题内容有可能是包含 <code>未读消息数</code> 的，也有可能是不包含的，此时就需要我们去手动控制：</p>
<p><strong><code>my-nav-bar.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- 右边区域 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ml-3 font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;computeTitle&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
        props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            title<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                type<span class="token operator">:</span>String<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            noReadNum<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                type<span class="token operator">:</span>Number<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">computeTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token comment">// 判断是否有传入 noReadNum ，有传入拼接，没传入则只显示 title</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>noReadNum<span class="token operator">?</span><span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token operator">+</span><span class="token string">'('</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>noReadNum<span class="token operator">+</span><span class="token string">')'</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>title
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong>index.nvue</strong> 中使用:</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信<span class="token punctuation">"</span></span> <span class="token attr-name">noReadNum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">@loadSearchPopup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span></code></pre>



<h2 id="开发弹出层组件（一）"><a href="#开发弹出层组件（一）" class="headerlink" title="开发弹出层组件（一）"></a>开发弹出层组件（一）</h2><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 弹出层 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 蒙版 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed top-0 left-0 right-0 bottom-0<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 弹出层内容 --></span>
    
    
    <span class="token comment">&lt;!-- 此处设置了 right:0，left:0 后，可以使得整个 div 的宽度占满整个屏幕，子元素就不用再设置宽度了 --></span>
    <span class="token comment">&lt;!-- 实现了从底部弹出的效果 --></span>
    <span class="token comment">&lt;!-- &lt;div class="position-fixed right-0 left-0 bottom-0 bg-white"> --></span>
    <span class="token comment">&lt;!-- &lt;view style="height: 300rpx;"> --></span>
    
    
    <span class="token comment">&lt;!-- 也可以通过设置父元素具体定位偏移量，子元素设置宽高来使得弹出层具体定位到页面某处 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed bg-white<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></code></pre>




<h2 id="开发弹出层组件（二）"><a href="#开发弹出层组件（二）" class="headerlink" title="开发弹出层组件（二）"></a>开发弹出层组件（二）</h2><p>为了控制弹出层的显示与关闭，我们需要给其定义 一个 <strong><code>status</code></strong> 变量，同时定义两个用于回调的方法，来切换 显示与关闭状态。</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 弹出层 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    	<span class="token comment">&lt;!-- 蒙版 --></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed top-0 left-0 right-0 bottom-0<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    	<span class="token comment">&lt;!-- 弹出层内容 --></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed bg-white<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">left</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
    			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span><span class="token punctuation">&#123;</span>
					status<span class="token operator">:</span><span class="token boolean">false</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">false</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>我们可以知道，在点击蒙版的时候将弹出层关闭，那么在什么时候显示弹出层呢？ 这里，我们以点击导航栏的 搜索按钮为触发条件。</p>
<p>首先我们需要在导航栏的图标组件处定义对应的方法：</p>
<p><strong><code>my-nav-bar.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue62f<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadSearchPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myIconButton</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
        methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token operator">...</span>
            <span class="token function">loadSearchPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'loadSearchPopup'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>而此处的 myIconButton 是一个组件，我们当然可以在 @click后添加.native 直接触发点击事件，但由于 nvue 中不支持这种写法。所以我们需要给 myIconButton 组件 定义对应的 <strong><code>$emit</code></strong> 来触发对应的 click 事件</p>
<p><strong><code>my-icon-button.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center<span class="token punctuation">"</span></span>
		<span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span>
		<span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>click<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span>
		<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
	<span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;icon&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<p>最后，由于 item.nvue 中使用到了**<code>my-nav-bar</code>** ，我们就需要在其中接收事件，同时定义事件的回调函数，在其中通过 $refs 的方式获取弹出层组件。来调用其中的 <strong><code>show</code></strong> 方法 </p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信<span class="token punctuation">"</span></span> <span class="token attr-name">noReadNum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">@loadSearchPopup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 400rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">showPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>

	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（三）"><a href="#开发弹出层组件（三）" class="headerlink" title="开发弹出层组件（三）"></a>开发弹出层组件（三）</h2><p>有时我们需要 弹出层的蒙版颜色透明 、弹出层的蒙版消失（已达到弹出框不会一点击就消失的效果）、弹出框固定到底部的效果。本节我们就通过定义几个变量来达成这些效果：</p>
<p><strong><code>my-popup.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 弹出层 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    	<span class="token comment">&lt;!-- 蒙版 --></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowmask<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed top-0 left-0 right-0 bottom-0<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMaskColor<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    	<span class="token comment">&lt;!-- 弹出层内容 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed bg-white<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computePopClass<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
        props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token comment">// 是否开启蒙版颜色</span>
            maskColor<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token comment">// 是否开启蒙版</span>
            isShowmask<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token comment">// 弹出层是否处于底部</span>
            fixedBottom<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>
        computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">computeMaskColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-color: rgba(0,0,0,</span><span class="token template-punctuation string">`</span></span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>maskColor <span class="token operator">?</span><span class="token number">.5</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">);</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">computePopClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fixedBottom<span class="token operator">?</span><span class="token string">'left-0 right-0 bottom-0'</span><span class="token operator">:</span><span class="token string">''</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>index.nvue</code></strong> 中传入对应的props 属性：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 弹出层 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:maskColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:fixedBottom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 400rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（四）"><a href="#开发弹出层组件（四）" class="headerlink" title="开发弹出层组件（四）"></a>开发弹出层组件（四）</h2><p>本节为弹出层组件指定两个 x，y 属性，用于记录弹出层的弹出位置。通过父组件中调用 show 方法时传入来为其赋值。</p>
<p>注意：当使用弹出层组件，并为其x，y赋值的话，就 <strong><code>不能</code></strong> 够为其传递 <strong><code>fixedBottom</code></strong> 为 true。否则会导致效果冲突。</p>
<p><strong><code>my-popup.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 弹出层 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        ...
    	<span class="token comment">&lt;!-- 弹出层内容 --></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed bg-white<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computePopClass<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeBodyStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span><span class="token punctuation">&#123;</span>
					status<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
					x<span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
					y<span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
					<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
					<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token operator">...</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token operator">...</span>
				<span class="token function">computePopClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token comment">// 如果不是 固定在底部的情况，则为其加圆角和 边框</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fixedBottom<span class="token operator">?</span><span class="token string">'left-0 right-0 bottom-0'</span><span class="token operator">:</span><span class="token string">'rounded border'</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token function">computeBodyStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token comment">// 如果调用 this.show 传入了 x、y ,则说明其并非是 固定在底部的。此时不可以传 fixedBottom</span>
					<span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">left:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px;</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span><span class="token string">''</span>
					<span class="token keyword">let</span> top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">top:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px;</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span>
					<span class="token keyword">return</span> left <span class="token operator">+</span> top
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的微信<span class="token punctuation">"</span></span> <span class="token attr-name">noReadNum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">@loadSearchPopup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:maskColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 400rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">showPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（五）"><a href="#开发弹出层组件（五）" class="headerlink" title="开发弹出层组件（五）"></a>开发弹出层组件（五）</h2><p>本节课来实现 根据 <strong>聊天列表</strong> 长按位置弹出 <strong><code>弹出层</code></strong> 的效果。</p>
<p>注意：小程序端 与 App 端 获取长按位置 的方式不同，故需要使用条件编译</p>
<p><strong><code>my-chat-list.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span> <span class="token attr-name">@longpress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            ...
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token comment">/**
		 * 长按事件
		 */</span>
		<span class="token function">onLongPress</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				x <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>screenX
				y <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>screenY
			<span class="token punctuation">&#125;</span>
			<span class="token comment">// #endif</span>
			<span class="token comment">// #ifdef MP</span>
			x <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>x
			y <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>y
			<span class="token comment">// #endif</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'loadLongPress'</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">showLongPress</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（六）"><a href="#开发弹出层组件（六）" class="headerlink" title="开发弹出层组件（六）"></a>开发弹出层组件（六）</h2><p>本节实现设置一个最大宽高让 <strong><code>弹出层</code></strong> 无法超出页面显示</p>
<p><strong><code>my-chat-list.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		popWidth<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>Number<span class="token operator">|</span>String<span class="token punctuation">,</span>
			required<span class="token operator">:</span><span class="token boolean">true</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		popHeight<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>Number<span class="token operator">|</span>String<span class="token punctuation">,</span>
			required<span class="token operator">:</span><span class="token boolean">true</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token operator">...</span>
			maxWidth<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			maxHeight<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// 在 mounted 中为 maxWidth 和 maxHeight 赋值</span>
		<span class="token keyword">const</span> res <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getSystemInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 注意 此处的windowWidth、windowHeight 为 px</span>
        <span class="token comment">// 而调用 show 方法时传入的 ，传入的 screenX、screenY 也是 px</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth <span class="token operator">=</span> res<span class="token punctuation">.</span>windowWidth <span class="token operator">-</span> uni<span class="token punctuation">.</span><span class="token function">upx2px</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>popWidth<span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight <span class="token operator">=</span> res<span class="token punctuation">.</span>windowHeight <span class="token operator">-</span> uni<span class="token punctuation">.</span><span class="token function">upx2px</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>popHeight<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth<span class="token operator">:</span>x<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight<span class="token operator">:</span>y<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>index.nvue</code></strong></p>
<p>使用弹出层的地方需要传入 弹出框 的宽高属性</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 400rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（七）"><a href="#开发弹出层组件（七）" class="headerlink" title="开发弹出层组件（七）"></a>开发弹出层组件（七）</h2><p>本节实现 弹出层 的内容样式实现及高度自适应，同时为弹出层的每项实现 点击事件区分的功能：</p>
<p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMenuHeight<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex flex-column<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 200rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMenuStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 此处加 flex-1 ，使得子元素可以均分父元素的的空间(主轴空间，侧轴默认铺满) --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex-1 flex align-center<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in menus<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickEvent(item.event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md pl-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			menus<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'取消置顶'</span><span class="token punctuation">,</span>
					event<span class="token operator">:</span><span class="token string">'setTop'</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'删除该聊天'</span><span class="token punctuation">,</span>
					event<span class="token operator">:</span><span class="token string">'delChat'</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
	computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		<span class="token comment">// 动态获取菜单的高度</span>
		<span class="token function">computeMenuHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">let</span> <span class="token constant">H</span> <span class="token operator">=</span> <span class="token number">100</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>menus<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token constant">H</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token comment">// 获取菜单的样式</span>
		<span class="token function">computeMenuStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">height:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>computeMenuHeight<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">rpx</span><span class="token template-punctuation string">`</span></span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token comment">// 分发菜单事件</span>
		<span class="token function">clickEvent</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">switch</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">case</span> <span class="token string">"setTop"</span><span class="token operator">:</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token string">"delChat"</span><span class="token operator">:</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发弹出层组件（八）"><a href="#开发弹出层组件（八）" class="headerlink" title="开发弹出层组件（八）"></a>开发弹出层组件（八）</h2><p>本节为弹出层组件添加 动画效果</p>
<p>注意：只有在 nvue 端可以生效</p>
<p><strong><code>my-popup.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- 弹出层 --></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
			<span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popup<span class="token punctuation">"</span></span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed bg-white popup-animate<span class="token punctuation">"</span></span>
			<span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computePopClass<span class="token punctuation">"</span></span>
			<span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeBodyStyle<span class="token punctuation">"</span></span>
		<span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// #ifdef APP-NVUE</span>
<span class="token keyword">const</span> animation <span class="token operator">=</span> weex<span class="token punctuation">.</span><span class="token function">requireModule</span><span class="token punctuation">(</span><span class="token string">'animation'</span><span class="token punctuation">)</span>
<span class="token comment">// #endif</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth<span class="token operator">:</span>x<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight<span class="token operator">:</span>y<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token comment">// 此处要加 $nextTick，确保在 dom 树渲染完成后（及弹出框显示之后），再为其添加animation 动画</span>
             <span class="token comment">// 否则弹出框未显示就添加，将添加失败</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				animation<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popup<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
				    styles<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				        transform<span class="token operator">:</span><span class="token string">'scale(1,1)'</span><span class="token punctuation">,</span>
								transformOrigin<span class="token operator">:</span><span class="token string">'left top'</span><span class="token punctuation">,</span>
				        opacity<span class="token operator">:</span><span class="token number">1</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token comment">//ms</span>
				    timingFunction<span class="token operator">:</span> <span class="token string">'ease'</span><span class="token punctuation">,</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
				        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'成功'</span><span class="token punctuation">)</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				animation<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popup<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
				    styles<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				        transform<span class="token operator">:</span><span class="token string">'scale(0,0)'</span><span class="token punctuation">,</span>
								transformOrigin<span class="token operator">:</span><span class="token string">'left top'</span><span class="token punctuation">,</span>
				        opacity<span class="token operator">:</span><span class="token number">0</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token comment">//ms</span>
				    timingFunction<span class="token operator">:</span> <span class="token string">'ease'</span><span class="token punctuation">,</span>
                    <span class="token comment">// 此处要用箭头函数，否则内部的 this 为 null。</span>
                    <span class="token comment">// 在回调函数中添加 this.status ，确保动画执行完后再消失，否则动画可能会失效。</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>
				        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">false</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
			<span class="token comment">// #ifndef APP-NVUE</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">false</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
<span class="token selector">.popup-animate</span><span class="token punctuation">&#123;</span>
	<span class="token comment">/* #ifdef APP-NVUE */</span>
	<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token comment">/* #endif */</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发导航扩展菜单（一）"><a href="#开发导航扩展菜单（一）" class="headerlink" title="开发导航扩展菜单（一）"></a>开发导航扩展菜单（一）</h2><p>本节开发 导航扩展菜单的 背景色传递，内容结构</p>
<p><strong><code>free-nav-bar.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
        ...
        <span class="token comment">&lt;!-- 左边区域 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue657<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadExtendPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myIconButton</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 扩展菜单 --></span>
        <span class="token comment">&lt;!-- 此处设置固定宽高 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myExtend<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>525<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">popBgColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex flex-column<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 320rpx<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 525rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 此处加 flex-1 ，使得子元素可以均分父元素的的空间 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex-1 flex align-center<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in myExtends<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickEvent(item.event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont pl-2 pr-2 text-white<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.icon&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md  text-white<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> myPopup <span class="token keyword">from</span> <span class="token string">'./my-popup.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
        myPopup
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token operator">...</span>
            myExtends<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'发起群聊'</span><span class="token punctuation">,</span>
                    event<span class="token operator">:</span><span class="token string">'setTop'</span><span class="token punctuation">,</span>
                    icon<span class="token operator">:</span><span class="token string">'\ue633'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'添加好友'</span><span class="token punctuation">,</span>
                    event<span class="token operator">:</span><span class="token string">'delChat'</span><span class="token punctuation">,</span>
                    icon<span class="token operator">:</span><span class="token string">'\ue65d'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'扫一扫'</span><span class="token punctuation">,</span>
                    event<span class="token operator">:</span><span class="token string">'delChat'</span><span class="token punctuation">,</span>
                    icon<span class="token operator">:</span><span class="token string">'\ue672'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'收付款'</span><span class="token punctuation">,</span>
                    event<span class="token operator">:</span><span class="token string">'delChat'</span><span class="token punctuation">,</span>
                    icon<span class="token operator">:</span><span class="token string">'\ue63d'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'帮助与反馈'</span><span class="token punctuation">,</span>
                    event<span class="token operator">:</span><span class="token string">'delChat'</span><span class="token punctuation">,</span>
                    icon<span class="token operator">:</span><span class="token string">'\ue67b'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
        <span class="token function">loadExtendPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        	<span class="token comment">// 此处传递固定位置</span>
        	<span class="token comment">// 注意此处需要传递 转换后的 px。</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myExtend<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>uni<span class="token punctuation">.</span><span class="token function">upx2px</span><span class="token punctuation">(</span><span class="token number">415</span><span class="token punctuation">)</span><span class="token punctuation">,</span>uni<span class="token punctuation">.</span><span class="token function">upx2px</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>my-popup.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 弹出层内容 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
			<span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popup<span class="token punctuation">"</span></span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed popup-animate z-index<span class="token punctuation">"</span></span>
			<span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computePopClass<span class="token punctuation">"</span></span>
			<span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeBodyStyle<span class="token punctuation">"</span></span>
		<span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token comment">// 蒙版颜色</span>
		popBgColor<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>String<span class="token punctuation">,</span>
			<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'bg-white'</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth<span class="token operator">:</span>x<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight<span class="token operator">:</span>y<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">computePopClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// 如果不是 固定在底部的情况，则为其加圆角和 边框</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fixedBottom <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">left-0 right-0 bottom-0 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>popBgColor<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rounded border </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>popBgColor<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token function">computeBodyStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// 如果调用 this.show 传入了 x、y ,则说明其并非是 固定在底部的。</span>
			<span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">left:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px;</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
			<span class="token keyword">let</span> top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">top:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px;</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> left <span class="token operator">+</span> top<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="开发导航扩展菜单（二）"><a href="#开发导航扩展菜单（二）" class="headerlink" title="开发导航扩展菜单（二）"></a>开发导航扩展菜单（二）</h2><p>本节课实现动态控制导航扩展菜单 **<code>动画起始位置</code>**的效果：</p>
<p><strong><code>my-popup.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// #ifdef APP-NVUE</span>
<span class="token keyword">const</span> animation <span class="token operator">=</span> weex<span class="token punctuation">.</span><span class="token function">requireModule</span><span class="token punctuation">(</span><span class="token string">'animation'</span><span class="token punctuation">)</span>
<span class="token comment">// #endif</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token comment">// 弹出框动画起点</span>
		transformOrigin<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>String<span class="token punctuation">,</span>
			<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'left top'</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxWidth<span class="token operator">:</span>x<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxHeight<span class="token operator">:</span>y<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token comment">// 此处要加 $nextTick，确保在 dom 树渲染完成后，再为其添加animation 动画</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				animation<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popup<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
				    styles<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				        transform<span class="token operator">:</span><span class="token string">'scale(1,1)'</span><span class="token punctuation">,</span>
								transformOrigin<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>transformOrigin<span class="token punctuation">,</span>
				        opacity<span class="token operator">:</span><span class="token number">1</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token comment">//ms</span>
				    timingFunction<span class="token operator">:</span> <span class="token string">'ease'</span><span class="token punctuation">,</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
				        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'成功'</span><span class="token punctuation">)</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				animation<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popup<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
				    styles<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
				        transform<span class="token operator">:</span><span class="token string">'scale(0,0)'</span><span class="token punctuation">,</span>
								transformOrigin<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>transformOrigin<span class="token punctuation">,</span>
				        opacity<span class="token operator">:</span><span class="token number">0</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token comment">//ms</span>
				    timingFunction<span class="token operator">:</span> <span class="token string">'ease'</span><span class="token punctuation">,</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">&#123;</span>
				        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">false</span>
				    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
			<span class="token comment">// #ifndef APP-NVUE</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token boolean">false</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>my-nav-bar.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 扩展菜单 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myExtend<span class="token punctuation">"</span></span> <span class="token attr-name">:isShowmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>525<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">popBgColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-dark<span class="token punctuation">"</span></span> <span class="token attr-name">transformOrigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right top<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<h2 id="删除当前会话"><a href="#删除当前会话" class="headerlink" title="删除当前会话"></a>删除当前会话</h2><p>要删除某个会话，首先得确定会话的 **<code>索引</code>**，这个我们可以根据 <strong><code>my-chat-list</code></strong> 的 <strong>loadLongPress</strong> 事件，将父元素传递给其的 <strong><code>index</code></strong> 作为参数返回给父元素，然后父元素根据 这个索引去对应会话数组中删除指定 数据，同时要判断弹出层点击事件传入的事件名，来触发不同的事件（此处只讨论 <strong>delChat</strong> 事件）。删除完后注意要关闭 弹出层。</p>
<p><strong><code>my-chat-list.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- 列表 --></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 此处需要将 view 改为 div，否则 longpress 事件无法获取到坐标 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span> <span class="token attr-name">@longpress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		index<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span> Number <span class="token operator">|</span> String<span class="token punctuation">,</span>
			required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token function">onLongPress</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'loadLongPress'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>index<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
        ...
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMenuHeight<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex flex-column<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 200rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMenuStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 此处加 flex-1 ，使得子元素可以均分父元素的的空间 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex-1 flex align-center<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in menus<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickEvent(item.event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md pl-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token operator">...</span>
			propIndex<span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		<span class="token comment">// 分发菜单事件</span>
		<span class="token function">clickEvent</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">switch</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">case</span> <span class="token string">"setTop"</span><span class="token operator">:</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token string">"delChat"</span><span class="token operator">:</span>	<span class="token comment">// 删除当前绘画</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">delChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token comment">// 删除当前会话</span>
		<span class="token function">delChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>propIndex<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>



<h2 id="置顶、取消置顶当前会话"><a href="#置顶、取消置顶当前会话" class="headerlink" title="置顶、取消置顶当前会话"></a>置顶、取消置顶当前会话</h2><p>关于 置顶 ，首先会想到 通过移动会话数组的方式来进行。但是这样的话，当我们取消置顶后，置顶的会话就无法再回到原先的 位置了。</p>
<p>所以我们需要换个思路，给每个 会话数据 添加一个 <strong><code>istop</code></strong> 属性来判断是否需要指定，然后 渲染时，进行两次 v-for 循环渲染（确保置顶会话在未指定会话之前）。同时要修改 长按弹出框的内容，让其根据 是否指定来显示 不同的 文本内容。</p>
<hr>
<p><strong><code>index.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
        ...
		<span class="token comment">&lt;!-- 置顶列表 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.istop<span class="token punctuation">"</span></span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 非置顶列表 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!item.istop<span class="token punctuation">"</span></span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
        ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			menus<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'取消置顶'</span><span class="token punctuation">,</span>
					event<span class="token operator">:</span><span class="token string">'setTop'</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'删除该聊天'</span><span class="token punctuation">,</span>
					event<span class="token operator">:</span><span class="token string">'delChat'</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
			list<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					avatar<span class="token operator">:</span><span class="token string">"/static/images/demo/demo.jpg"</span><span class="token punctuation">,</span>
					nickName<span class="token operator">:</span><span class="token string">"xxc"</span><span class="token punctuation">,</span>
					update_time<span class="token operator">:</span><span class="token number">1567695767</span><span class="token punctuation">,</span>
					content<span class="token operator">:</span><span class="token string">"哈哈哈哈哈"</span><span class="token punctuation">,</span>
					noReadNum<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
					istop<span class="token operator">:</span><span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token punctuation">&#123;</span>
					avatar<span class="token operator">:</span><span class="token string">"/static/images/demo/demo.jpg"</span><span class="token punctuation">,</span>
					nickName<span class="token operator">:</span><span class="token string">"xxc123"</span><span class="token punctuation">,</span>
					update_time<span class="token operator">:</span><span class="token string">"14:00"</span><span class="token punctuation">,</span>
					content<span class="token operator">:</span><span class="token string">"哈哈哈哈哈"</span><span class="token punctuation">,</span>
					istop<span class="token operator">:</span><span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token punctuation">&#123;</span>
					avatar<span class="token operator">:</span><span class="token string">"/static/images/demo/demo.jpg"</span><span class="token punctuation">,</span>
					nickName<span class="token operator">:</span><span class="token string">"xxc"</span><span class="token punctuation">,</span>
					update_time<span class="token operator">:</span><span class="token number">1635860156</span><span class="token punctuation">,</span>
					content<span class="token operator">:</span><span class="token string">"哈哈哈哈哈"</span><span class="token punctuation">,</span>
					noReadNum<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
					istop<span class="token operator">:</span><span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token punctuation">&#123;</span>
					avatar<span class="token operator">:</span><span class="token string">"/static/images/demo/demo.jpg"</span><span class="token punctuation">,</span>
					nickName<span class="token operator">:</span><span class="token string">"xxc"</span><span class="token punctuation">,</span>
					update_time<span class="token operator">:</span><span class="token string">"14:00"</span><span class="token punctuation">,</span>
					content<span class="token operator">:</span><span class="token string">"哈哈哈哈哈"</span><span class="token punctuation">,</span>
					noReadNum<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
					istop<span class="token operator">:</span><span class="token boolean">false</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">showLongPress</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>index<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>propIndex <span class="token operator">=</span> index
			<span class="token comment">// 此处需要在长按事件触发时就 修改 menus 的值</span>
			<span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>propIndex<span class="token punctuation">]</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>istop<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>menus<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'取消置顶'</span>
			<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>menus<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'设为置顶'</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token comment">// 分发菜单事件</span>
		<span class="token function">clickEvent</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">switch</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				<span class="token keyword">case</span> <span class="token string">"setTop"</span><span class="token operator">:</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token string">"delChat"</span><span class="token operator">:</span>	<span class="token comment">// 删除当前绘画</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">delChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token function">setTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>propIndex<span class="token punctuation">]</span>
			item<span class="token punctuation">.</span>istop <span class="token operator">=</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>istop
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>my-chat-list.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chatData.istop?<span class="token punctuation">'</span>bg-hover-light<span class="token punctuation">'</span>:<span class="token punctuation">'</span>bg-white<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-hover-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<h2 id="通讯录列表组件开发"><a href="#通讯录列表组件开发" class="headerlink" title="通讯录列表组件开发"></a>通讯录列表组件开发</h2><p><strong><code>mail.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>通讯录<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		
		<span class="token comment">&lt;!-- 通讯录列表 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex bg-white align-stretch<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center px-3 py-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../../static/images/mail/group.png<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center flex-1 border-bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md text-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>服务<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> myNavBar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-nav-bar.vue'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			myNavBar
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="弹出框展示时会话框保持选中状态"><a href="#弹出框展示时会话框保持选中状态" class="headerlink" title="弹出框展示时会话框保持选中状态"></a>弹出框展示时会话框保持选中状态</h2><p>此处原先想使用 全局事件总线，但发现无法生效。</p>
<p>后来发现 uniapp 中有专门的 api 可实现类似效果： <strong><code>uni.$on</code></strong> <strong><code>uni.$emit</code></strong></p>
<p>首先在 <strong><code>my-chat-list.vue</code></strong> 中定义对应的 属性来控制，同时 注册事件：</p>
<p>注意：注册事件时要带上 index，确保每个 my-chat-list 注册的事件都不同，同时 触发事件时也是这样。要达到这个效果，需要它们的共同的父组件为其传递 propIndex。</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>( isHover || chatData.istop)?<span class="token punctuation">'</span>bg-hover-light<span class="token punctuation">'</span>:<span class="token punctuation">'</span>bg-white<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">&#123;</span>
			isHover<span class="token operator">:</span><span class="token boolean">false</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
		index<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span> Number <span class="token operator">|</span> String<span class="token punctuation">,</span>
			required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		uni<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">changeHover</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>isHover <span class="token operator">=</span> <span class="token boolean">false</span>     
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		uni<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'changeHover'</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">/**
		 * 长按事件
		 */</span>
		<span class="token function">onLongPress</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token comment">// #ifdef APP-NVUE</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
				x <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>screenX
				y <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>screenY
			<span class="token punctuation">&#125;</span>
			<span class="token comment">// #endif</span>
			<span class="token comment">// #ifdef MP</span>
			x <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientX
			y <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY
			<span class="token comment">// #endif</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'loadLongPress'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>index<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>isHover <span class="token operator">=</span> <span class="token boolean">true</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>然后在 **<code>my-popup.vue</code>**中的 <strong>hide</strong> 方法中触发对应的事件：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>z-index:9999;overflow:hidden;<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 蒙版 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
			<span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowmask<span class="token punctuation">"</span></span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-fixed top-0 left-0 right-0 bottom-0 z-index<span class="token punctuation">"</span></span>
			<span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMaskColor<span class="token punctuation">"</span></span>
			<span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide<span class="token punctuation">"</span></span>
		<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		index<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			type<span class="token operator">:</span>String<span class="token operator">|</span>Number<span class="token punctuation">,</span>
			required<span class="token operator">:</span><span class="token boolean">true</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		<span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			uni<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">changeHover</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>最后确保父组件 <strong><code>index.nvue</code></strong> 中传递了 index：</p>
<pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 置顶列表 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.istop<span class="token punctuation">"</span></span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
		
		<span class="token comment">&lt;!-- 非置顶列表 --></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-chat-list</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!item.istop<span class="token punctuation">"</span></span> <span class="token attr-name">:chatData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@loadLongPress</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showLongPress<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-chat-list</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 弹出层 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myPopup</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popUp<span class="token punctuation">"</span></span> <span class="token attr-name">:popHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeMenuHeight<span class="token punctuation">"</span></span> <span class="token attr-name">:popWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>propIndex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myPopup</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			propIndex<span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">showLongPress</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>index<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>propIndex <span class="token operator">=</span> index
            <span class="token operator">...</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>popUp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>这样就能确保在 弹出框显示期间 ，选中会话框一直保持选中状态，而在点击蒙版后，选中状态消失。</p>
<h2 id="封装公共列表组件"><a href="#封装公共列表组件" class="headerlink" title="封装公共列表组件"></a>封装公共列表组件</h2><p>考虑到公共列表会在多次用到，所以将其封装为一个组件：</p>
<p><strong><code>my-list-item.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 通讯录列表 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex bg-white align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>click<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center px-3 py-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center flex-1 border-bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md text-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// 封面</span>
				cover<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span><span class="token string">'String'</span><span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token comment">// 标题</span>
				title<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span><span class="token string">'String'</span><span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p>在 <strong><code>mail.nvue</code></strong> 中使用：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>通讯录<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in topList<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.title<span class="token punctuation">"</span></span> <span class="token attr-name">:cover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> myNavBar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-nav-bar.vue'</span>
	<span class="token keyword">import</span> myListItem <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-list-item.vue'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				topList<span class="token operator">:</span><span class="token punctuation">[</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"新的朋友"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/friend.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"群聊"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/group.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"标签"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/tag.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span>
				<span class="token punctuation">]</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			myNavBar<span class="token punctuation">,</span>
			myListItem
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

...</code></pre>

<h2 id="完善通讯录列表"><a href="#完善通讯录列表" class="headerlink" title="完善通讯录列表"></a>完善通讯录列表</h2><p>本节为通讯录列表增加联系人模块。根据 字母进行划分 ，并判断对应字母的联系人数组是否为空，为空则不渲染：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>通讯录<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in topList<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.title<span class="token punctuation">"</span></span> <span class="token attr-name">:cover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		
		<span class="token comment">&lt;!-- 此处需要注意，v-if 和 v-for 不能放在同一个标签中 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.data.length>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>py-2 px-3 border-bottom bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md text-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.letter&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item2,index2) in item.data<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index2<span class="token punctuation">"</span></span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item2<span class="token punctuation">"</span></span> <span class="token attr-name">cover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/images/mail/friend.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> myNavBar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-nav-bar.vue'</span>
	<span class="token keyword">import</span> myListItem <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-list-item.vue'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				list<span class="token operator">:</span><span class="token punctuation">[</span>
					<span class="token punctuation">&#123;</span>
						letter<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
						data<span class="token operator">:</span><span class="token punctuation">[</span>
							<span class="token string">"xxc"</span><span class="token punctuation">,</span>
							<span class="token string">"jmz"</span>
						<span class="token punctuation">]</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						letter<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
						data<span class="token operator">:</span><span class="token punctuation">[</span>
							<span class="token string">"xxc"</span><span class="token punctuation">,</span>
							<span class="token string">"jmz"</span>
						<span class="token punctuation">]</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						letter<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
						data<span class="token operator">:</span><span class="token punctuation">[</span>
							<span class="token string">"xxc"</span><span class="token punctuation">,</span>
							<span class="token string">"jmz"</span>
						<span class="token punctuation">]</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						letter<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
						data<span class="token operator">:</span><span class="token punctuation">[</span>
							<span class="token string">"xxc"</span><span class="token punctuation">,</span>
							<span class="token string">"jmz"</span>
						<span class="token punctuation">]</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						letter<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
						data<span class="token operator">:</span><span class="token punctuation">[</span>
							
						<span class="token punctuation">]</span>
					<span class="token punctuation">&#125;</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
				topList<span class="token operator">:</span><span class="token punctuation">[</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"新的朋友"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/friend.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"群聊"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/group.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token punctuation">&#123;</span>
						title<span class="token operator">:</span><span class="token string">"标签"</span><span class="token punctuation">,</span>
						cover<span class="token operator">:</span><span class="token string">"/static/images/mail/tag.png"</span><span class="token punctuation">,</span>
						event<span class="token operator">:</span><span class="token string">""</span>
					<span class="token punctuation">&#125;</span>
				<span class="token punctuation">]</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			myNavBar<span class="token punctuation">,</span>
			myListItem
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37024887/article/details/104970950">v-if 与 v-for 同时使用的问题及解决方法</a></p>
<h2 id="开发find-页面及优化公共列表组件"><a href="#开发find-页面及优化公共列表组件" class="headerlink" title="开发find 页面及优化公共列表组件"></a>开发find 页面及优化公共列表组件</h2><p><strong><code>find.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>发现<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>朋友圈<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe60b;">&amp;#xe60b;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> myNavBar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-nav-bar.vue'</span>
	<span class="token keyword">import</span> myListItem <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-list-item.vue'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			myNavBar<span class="token punctuation">,</span>
			myListItem
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>

<p>由于 find 页面中的 myListItem 需要显示右箭头及 他人动态提示，所以将其修改：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 通讯录列表 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex bg-white align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>click<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center px-3 py-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-between flex-1 border-bottom pr-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md text-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showRight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 右箭头 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont text-light-muted font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe775;">&amp;#xe775;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// 显示</span>
				showRight<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="完善发现页"><a href="#完善发现页" class="headerlink" title="完善发现页"></a>完善发现页</h2><p>本节实现发现页的 <code>&lt;slot name=&quot;right&quot;&gt;&lt;/slot&gt;</code> 的内容实现，并封装一个 <strong><code>my-divider</code></strong> 组件，用于分割。</p>
<p><strong><code>find.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- 为根标签添加 page 类，使其布满整个屏幕，同时具有背景色 --></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>发现<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>朋友圈<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe601;">&amp;#xe601;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position-relative p-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-avatar</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/images/demo/demo.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>55<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-avatar</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rounded-circle bg-danger position-absolute top-0 right-0<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myDivider</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myDivider</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>扫一扫<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe62e;">&amp;#xe62e;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>摇一摇<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe63f;">&amp;#xe63f;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myDivider</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myDivider</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>看一看<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe60b;">&amp;#xe60b;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>搜一搜<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe611;">&amp;#xe611;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myDivider</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myDivider</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>购物<span class="token punctuation">"</span></span> <span class="token attr-name">:showRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-lg py-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe899;">&amp;#xe899;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>myDivider.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 分割线组件 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 18rpx<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> #EDEDED<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>

<h2 id="优化自定义导航栏组件"><a href="#优化自定义导航栏组件" class="headerlink" title="优化自定义导航栏组件"></a>优化自定义导航栏组件</h2><p>由于我们在 <strong><code>my.nvue</code></strong> 中使用 自定义导航栏组件 <strong><code>my-nav-bar.vue</code></strong> 时，需要为其 设置背景色，同时还需要为其 手动设置 图标。</p>
<p>所以就需要 为 <strong><code>my-nav-bar.vue</code></strong> 设置一个命名插槽，用于 手动设置图标，同时为其 新定义一个 props ：bgColor，用于设置 导航栏背景颜色</p>
<p><strong><code>my-nav-bar.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 导航栏 --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeClass<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            ...
			<span class="token comment">&lt;!-- 导航 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>
				<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>w-100 flex align-center justify-between bg-nav<span class="token punctuation">"</span></span>
				<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 90rpx</span><span class="token punctuation">"</span></span></span>
			<span class="token punctuation">></span></span>
                ...
				<span class="token comment">&lt;!-- 左边区域 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue62f<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadSearchPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myIconButton</span><span class="token punctuation">></span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myIconButton</span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue657<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadExtendPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myIconButton</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token operator">...</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// 导航栏颜色</span>
				bgColor<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'bg-light'</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">computeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">let</span> fixed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fixed<span class="token operator">?</span><span class="token string">'fixed-top'</span><span class="token operator">:</span><span class="token string">''</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>fixed<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
				<span class="token punctuation">&#125;</span>
                <span class="token operator">...</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>my.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myNavBar</span> <span class="token attr-name">bgColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-white<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myIconButton</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>\ue61c<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadExtendPopup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myIconButton</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myNavBar</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> myNavBar <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-nav-bar.vue'</span>
	<span class="token keyword">import</span> myIconButton <span class="token keyword">from</span> <span class="token string">'@/components/my-ui/my-icon-button.vue'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		components<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			myNavBar<span class="token punctuation">,</span>
			myIconButton
		<span class="token punctuation">&#125;</span>
        <span class="token operator">...</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h2 id="强化全局列表组件"><a href="#强化全局列表组件" class="headerlink" title="强化全局列表组件"></a>强化全局列表组件</h2><p>由于在 <strong><code>my.nvue</code></strong> 中使用到 <strong><code>my-list-item.vue</code></strong> 组件时，图片及文字 的样式及布局都与之前不同，所以我们需要去强化 全局列表组件，让其能够 使使用者手动控制 <strong><code>传入的图片大小</code></strong> 及 <strong><code>文字区域的布局</code></strong> 。</p>
<p><strong><code>my-list-item.vue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 通讯录列表 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex bg-white align-stretch<span class="token punctuation">"</span></span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-light<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>click<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 左侧头像部分 --></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-center px-3 py-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rounded<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>computeImgStyle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- 右侧文字内容及角标及提示信息部分 --></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center justify-between flex-1 border-bottom pr-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 文字内容部分用插槽来进行替换 --></span>
    			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md text-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
				<span class="token comment">&lt;!-- 角标及提示信息部分 --></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex align-center<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showRight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 添加提示信息用的插槽 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
					<span class="token comment">&lt;!-- 右箭头 --></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont text-light-muted font-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe775;">&amp;#xe775;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
			props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token comment">// 图片</span>
				cover<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token comment">// 标题</span>
				title<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token comment">// 显示</span>
				showRight<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token comment">// 图片大小</span>
				coverSize<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					type<span class="token operator">:</span>String<span class="token operator">|</span>Number<span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span><span class="token number">75</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token function">computeImgStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>coverSize<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">rpx;height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>coverSize<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">rpx;</span><span class="token template-punctuation string">`</span></span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><strong><code>my.nvue</code></strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>myListItem</span> <span class="token attr-name">cover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/images/demo/demo.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">coverSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">showRight</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex flex-column <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-md font-weight-bold<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>语轻星子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-sm mt-2 text-hover-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>微信号:xxcijmz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iconfont font-md text-light-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&#xe62e;">&amp;#xe62e;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>myListItem</span><span class="token punctuation">></span></span></code></pre>





















<p><img src="/.top//1111.jpg" loading="lazy"></p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>语轻星子</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://xxcijmz.top/blogs/3d307dcc/" title="仿微信项目开发(一)">https://xxcijmz.top/blogs/3d307dcc/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/blogs/joiasdd/" rel="prev" title="仿微信项目开发(二)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">仿微信项目开发(二)</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/blogs/320d3645/" rel="next" title="imooc-blog项目开发-下(uniapp)"><span class="post-nav-text">imooc-blog项目开发-下(uniapp)</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"MnqOxUn1tp2XfaBiRJqcPNC3-MdYXbMMI","appKey":"BUJAYYUt5IhdIDVVvHH8aHMx","placeholder":"来与我一起讨论吧","avatar":null,"pageSize":10,"visitor":false,"highlight":true,"recordIP":false,"enableQQ":true,"meta":["nick"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/blogs/3d307dcc/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">闽ICP备2021017107号-1</a></div><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 语轻星子</span></div><div class="live_time"><span>本博客已运行：</span><span id="display_live_time"></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-09-23T00:03:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#5698c3" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"dialog":{"enable":true},"log":false});</script></body></html>