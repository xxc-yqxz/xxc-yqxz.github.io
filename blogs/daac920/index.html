<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#5698c3"><meta name="author" content="语轻星子"><meta name="copyright" content="语轻星子"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ECMA新特性 | 轻语馆</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#5698c3"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"xxcijmz.top","root":"/","title":"轻语馆","version":"1.6.2","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"algolia":{"appID":"I6Q6TFSWKC","apiKey":"8299a265813c86a465cc32755761abc9","indexName":"blogs","hits":{"per_page":10}}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="/css/content.css"><meta name="description" content="为什么还要再次聊起ECMAScript ?   很多开发者并没有理解语言和平台之间的关系 对ES的理解和掌握程度都不尽相同 系统化的学习ECMAScript很有必要  ECMAScript概述 通常被看作JavaScript的标准化规范，实际上JavaScript是ECMAScript的扩展语言。   浏览器环境下的JS：    Node环境下的JS：    JavaScript语言本身指的就是">
<meta property="og:type" content="article">
<meta property="og:title" content="ECMA新特性">
<meta property="og:url" content="https://xxcijmz.top/blogs/daac920/index.html">
<meta property="og:site_name" content="轻语馆">
<meta property="og:description" content="为什么还要再次聊起ECMAScript ?   很多开发者并没有理解语言和平台之间的关系 对ES的理解和掌握程度都不尽相同 系统化的学习ECMAScript很有必要  ECMAScript概述 通常被看作JavaScript的标准化规范，实际上JavaScript是ECMAScript的扩展语言。   浏览器环境下的JS：    Node环境下的JS：    JavaScript语言本身指的就是">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/1.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/2.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/3.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/4.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/5.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/6.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/7.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/8.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/9.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/10.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/11.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/12.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/13.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/15.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/14.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/16.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/daac920/17.jpg">
<meta property="article:published_time" content="2021-10-03T02:38:38.000Z">
<meta property="article:modified_time" content="2021-10-03T13:40:31.863Z">
<meta property="article:author" content="语轻星子">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xxcijmz.top/blogs/daac920/1.jpg"><script src="/js/ui/mode.js"></script></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="语轻星子"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/xxc-yqxz/xxc-yqxz.github.io/images/avatar.jpg" alt="语轻星子"></a><div class="site-author-name"><a href="/about/">语轻星子</a></div><span class="site-name">轻语馆</span><sub class="site-subtitle">我也会加油，所以你也要加油，这是约定</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">40</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/xxc-yqxz/xxc-yqxz.github.io" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=894043590&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1379764422" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/269921139" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ECMAScript%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">ECMAScript概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES2015-%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">ES2015 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#let-%E4%B8%8E%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.</span> <span class="toc-text">let 与块级作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%80%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">场景一：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%BA%8C%EF%BC%9A"><span class="toc-number">3.2.</span> <span class="toc-text">场景二：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%89%EF%BC%9A"><span class="toc-number">3.3.</span> <span class="toc-text">场景三：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E5%9B%9B%EF%BC%9A"><span class="toc-number">3.4.</span> <span class="toc-text">场景四：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const"><span class="toc-number">4.</span> <span class="toc-text">const</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%A3%E6%9E%84"><span class="toc-number">5.</span> <span class="toc-text">数组的解构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84"><span class="toc-number">6.</span> <span class="toc-text">对象的解构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">7.</span> <span class="toc-text">模板字符串字面量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%87%E7%AD%BE%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">模板字符串标签函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95%E6%96%B9%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text">字符串的扩展方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">10.</span> <span class="toc-text">参数默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0"><span class="toc-number">11.</span> <span class="toc-text">剩余参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%95%E5%BC%80%E6%95%B0%E7%BB%84"><span class="toc-number">12.</span> <span class="toc-text">展开数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8Ethis"><span class="toc-number">14.</span> <span class="toc-text">箭头函数与this</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E5%A2%9E%E5%BC%BA"><span class="toc-number">15.</span> <span class="toc-text">对象字面量增强</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95%E6%96%B9%E6%B3%95"><span class="toc-number">16.</span> <span class="toc-text">对象扩展方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Proxy%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1"><span class="toc-number">17.</span> <span class="toc-text">Proxy代理对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Proxy%E5%AF%B9%E6%AF%94Object-defineProperty"><span class="toc-number">18.</span> <span class="toc-text">Proxy对比Object.defineProperty()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reflect"><span class="toc-number">19.</span> <span class="toc-text">Reflect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise"><span class="toc-number">20.</span> <span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class%E7%B1%BB"><span class="toc-number">21.</span> <span class="toc-text">Class类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="toc-number">22.</span> <span class="toc-text">静态成员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">23.</span> <span class="toc-text">类的继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">24.</span> <span class="toc-text">Set数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">25.</span> <span class="toc-text">Map数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol"><span class="toc-number">26.</span> <span class="toc-text">Symbol</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol%E8%A1%A5%E5%85%85"><span class="toc-number">27.</span> <span class="toc-text">Symbol补充</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E2%80%A6of%E5%BE%AA%E7%8E%AF"><span class="toc-number">28.</span> <span class="toc-text">for…of循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E6%8E%A5%E5%8F%A3Iterable"><span class="toc-number">29.</span> <span class="toc-text">可迭代接口Iterable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%8F%AF%E8%BF%AD%E4%BB%A3%E6%8E%A5%E5%8F%A3"><span class="toc-number">30.</span> <span class="toc-text">实现可迭代接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">31.</span> <span class="toc-text">迭代器模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8Generator"><span class="toc-number">32.</span> <span class="toc-text">生成器Generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%BA%94%E7%94%A8"><span class="toc-number">33.</span> <span class="toc-text">生成器应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Modules"><span class="toc-number">34.</span> <span class="toc-text">ES Modules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES2016"><span class="toc-number">35.</span> <span class="toc-text">ES2016</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES2017"><span class="toc-number">36.</span> <span class="toc-text">ES2017</span></a></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/JS/" style="font-size: 26.4px; color: #8cbbd1">JS</a> <a href="/tags/React/" style="font-size: 19.2px; color: #8fb8d0">React</a> <a href="/tags/Vue/" style="font-size: 30px; color: #8abcd1">Vue</a> <a href="/tags/eggjs/" style="font-size: 19.2px; color: #8fb8d0">eggjs</a> <a href="/tags/serverless/" style="font-size: 19.2px; color: #8fb8d0">serverless</a> <a href="/tags/uniapp/" style="font-size: 22.8px; color: #8eb9d0">uniapp</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15.6px; color: #91b6cf">小程序</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 15.6px; color: #91b6cf">工程化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 12px; color: #93b5cf">日记</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 22.8px; color: #8eb9d0">概念</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 12px; color: #93b5cf">部署</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://xxcijmz.top/blogs/daac920/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="语轻星子"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="轻语馆"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ECMA新特性</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-10-03 10:38:38" itemprop="dateCreated datePublished" datetime="2021-10-03T10:38:38+08:00">2021-10-03</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">7.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">34m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">大前端</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JS/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">JS</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/JS/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JS</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#5698c3;"><blockquote>
<p>为什么还要再次聊起ECMAScript ?</p>
</blockquote>
<ul>
<li>很多开发者并没有理解语言和平台之间的关系</li>
<li>对ES的理解和掌握程度都不尽相同</li>
<li>系统化的学习ECMAScript很有必要</li>
</ul>
<h2 id="ECMAScript概述"><a href="#ECMAScript概述" class="headerlink" title="ECMAScript概述"></a>ECMAScript概述</h2><blockquote>
<p>通常被看作JavaScript的标准化规范，实际上JavaScript是ECMAScript的扩展语言。</p>
</blockquote>
<ul>
<li>浏览器环境下的JS：</li>
</ul>
<p><img src="/blogs/daac920/1.jpg" loading="lazy"></p>
<ul>
<li>Node环境下的JS：</li>
</ul>
<p><img src="/blogs/daac920/2.jpg" loading="lazy"></p>
<ul>
<li><p>JavaScript语言本身指的就是ECMAScript。</p>
</li>
<li><p>ES2015 是在ES5发现后过了进6年才发行的一个版本，这段时间是Web发展的一段黄金时期，因此ES2015中包含了很多颠覆式的新功能。</p>
</li>
<li><p>ES2015 之后的版本都是按照年份进行命名，很多人也把ES2015称之为ES6。</p>
</li>
</ul>
<h2 id="ES2015-概述"><a href="#ES2015-概述" class="headerlink" title="ES2015 概述"></a>ES2015 概述</h2><ul>
<li>最新ECMAScript标准的代表版本（相比于ES5.1的变化比较大，至此之后新版本的命名规则发生变化），此后开发者习惯用ES6泛指所有的新标准。</li>
</ul>
<blockquote>
<p>作用</p>
</blockquote>
<ul>
<li>解决原有语法上的一些问题或者不足</li>
<li>对原有语法进行增强</li>
<li>全新的对象、全新的方法、全新的功能</li>
<li>全新的数据类型和数据结构</li>
</ul>
<h2 id="let-与块级作用域"><a href="#let-与块级作用域" class="headerlink" title="let 与块级作用域"></a>let 与块级作用域</h2><blockquote>
<p>作用域：某个成员能够起作用的范围</p>
</blockquote>
<p>&emsp;&emsp;在ES2015前，ECMAScript只有全局作用域和函数作用域。ES2015中新增了块级作用域</p>
<blockquote>
<p>块：用{}包裹起来的代码块</p>
</blockquote>
<p><img src="/blogs/daac920/3.jpg" loading="lazy"></p>
<p>&emsp;&emsp;之前块是没有单独的作用域的，这就导致在块中定义的成员在外部也可以访问到。这很明显不安全。</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">"zce"</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>	<span class="token comment">// zce</span></code></pre>

<p>&emsp;&emsp;而使用let定义的变量，会在保存在块级作用域中，外部无法访问到。这很适用于for循环的计数器</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">"zce"</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>	<span class="token comment">// 报错</span></code></pre>

<h3 id="场景一："><a href="#场景一：" class="headerlink" title="场景一："></a>场景一：</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'内层结束 i ='</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>		<span class="token comment">// 3</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>结果：</li>
</ul>
<p><img src="/blogs/daac920/4.jpg" loading="lazy"></p>
<div class="warning">

<blockquote>
<p>原因：内层循环一次之后，i变为3，并会覆盖外层的i，导致外层循环只会执行一次。而使用let时，就会正常执行9次输出：</p>
</blockquote>
</div>

<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'内层结束 i ='</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><img src="/blogs/daac920/5.jpg" loading="lazy"></p>
<blockquote>
<p>虽然let能够解决同名计数器覆盖的问题，但是仍然不建议使用同名的计数器。</p>
</blockquote>
<h3 id="场景二："><a href="#场景二：" class="headerlink" title="场景二："></a>场景二：</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> elements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
elements<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">onclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<blockquote>
<p>此种情况下，无论elements[x].onclick()中x为何值，最终输出的i都是3。因为i作为全局作用域下的变量，在循环结束后便会变为3。我们可以使用闭包解决此问题：</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> elements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
elements<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">onclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<blockquote>
<p>实际上闭包也是借助函数作用域来摆脱全局作用域的影响。同时也可以使用let的块级作用域来解决问题</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> elements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
elements<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">onclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h3 id="场景三："><a href="#场景三：" class="headerlink" title="场景三："></a>场景三：</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'foo'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>结果：</li>
</ul>
<p><img src="/blogs/daac920/6.jpg" loading="lazy"></p>
<blockquote>
<p>此处产生了两个作用域：for循环条件的作用域，for代码块中的作用域。</p>
<p>相当于如下代码：</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'foo'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

i<span class="token operator">++</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'foo'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

i<span class="token operator">++</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'foo'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

i<span class="token operator">++</span></code></pre>

<h3 id="场景四："><a href="#场景四：" class="headerlink" title="场景四："></a>场景四：</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">'xxc'</span>	<span class="token comment">// undefined</span></code></pre>

<blockquote>
<p>用var定义的变量会声明提升。ES2015中的let取消了这个特性</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'xxc'</span>	<span class="token comment">// 报错</span></code></pre>

<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><blockquote>
<p>用于定义一个只读的恒量/常量，在let基础上添加了一个只读特性（变量声明后不允许再被修改）</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// const name = 'xxc'</span>
<span class="token comment">// name = 'jav'     // 报错</span>

<span class="token comment">// const name</span>
<span class="token comment">// name = 'xxc'    // 报错</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'xxc'</span>    <span class="token comment">// 允许</span>

obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token comment">// 指向新地址，报错</span></code></pre>

<ul>
<li>const定义的值定义后必须立即初始化。</li>
<li>const只是不允许修改地址指向，并不是不允许修改指向内容的值。</li>
</ul>
<div class="success">

<blockquote>
<p>推荐：不用var，主用const，配合let</p>
</blockquote>
</div>

<h2 id="数组的解构"><a href="#数组的解构" class="headerlink" title="数组的解构"></a>数组的解构</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 数组的解构</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token comment">// 传统获取数组元素写法</span>
<span class="token comment">// const foo = arr[0]</span>
<span class="token comment">// const bar = arr[1]</span>
<span class="token comment">// const baz = arr[2]</span>
<span class="token comment">// console.log(foo, bar, baz)</span>

<span class="token comment">// const [foo, bar, baz] = arr</span>
<span class="token comment">// console.log(foo, bar, baz)</span>

<span class="token comment">// const [, , baz] = arr</span>
<span class="token comment">// console.log(baz)     // 300</span>

<span class="token comment">// const [foo, ...rest] = arr</span>
<span class="token comment">// console.log(rest)   // [ 200, 300 ]</span>

<span class="token comment">// const [foo] = arr</span>
<span class="token comment">// console.log(foo)   // 100</span>

<span class="token comment">// const [foo, bar, baz, more] = arr</span>
<span class="token comment">// console.log(more)   // undefined</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">,</span> baz<span class="token punctuation">,</span> more <span class="token operator">=</span> <span class="token string">"default value"</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>more<span class="token punctuation">)</span>   <span class="token comment">// default value</span></code></pre>

<h2 id="对象的解构"><a href="#对象的解构" class="headerlink" title="对象的解构"></a>对象的解构</h2><blockquote>
<p>对象的解构需要根据属性名进行提取，而不是位置</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 对象的解构</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'zce'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span>

<span class="token comment">// const &#123; name &#125; = obj</span>
<span class="token comment">// console.log(name)   // zce</span>
<span class="token comment">// 对象解构与数组解构一样也可以设置默认值，匹配不到的返回undefined。此处不做设置</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'tom'</span>
<span class="token comment">// const &#123; name &#125; = obj  // 此处会报错，可以使用重命名的方式来解决问题。</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> objName <span class="token punctuation">&#125;</span> <span class="token operator">=</span> obj
<span class="token comment">// 还可以在重命名的同时设置默认值。</span>
<span class="token comment">// const &#123; name: objName ='jack'&#125; = obj</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objName<span class="token punctuation">)</span>

<span class="token comment">// 此处可以将log方法解构出来，方便代码的编写</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> log <span class="token punctuation">&#125;</span> <span class="token operator">=</span> console
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xxc'</span><span class="token punctuation">)</span></code></pre>

<h2 id="模板字符串字面量"><a href="#模板字符串字面量" class="headerlink" title="模板字符串字面量"></a>模板字符串字面量</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 模板字符串</span>
<span class="token comment">// 1.支持换行 2.支持通过插值表达式嵌入JS语句</span>

<span class="token comment">// const str = 'hello es2015, this is a string'</span>

<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello es2015,this 
is a \`string\`</span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>


<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'tom'</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hey,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">---</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">---</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span></code></pre>

<h2 id="模板字符串标签函数"><a href="#模板字符串标签函数" class="headerlink" title="模板字符串标签函数"></a>模板字符串标签函数</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 带标签的模板字符串</span>

<span class="token comment">// const str = console.log`hello world`    // [ 'hello world' ]</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'tom'</span>
<span class="token keyword">const</span> gender <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token keyword">function</span> <span class="token function">myTagFunc</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span>    <span class="token comment">// [ 'hey,', ' is a ', '.' ]    按表达式分割过后形成的数组</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>   <span class="token comment">// tom true</span>
    <span class="token comment">// return '123'</span>
    <span class="token keyword">const</span> sex <span class="token operator">=</span> gender <span class="token operator">?</span> <span class="token string">'man'</span> <span class="token operator">:</span> <span class="token string">'woman'</span>
    <span class="token keyword">return</span> strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> name <span class="token operator">+</span> strings<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> sex <span class="token operator">+</span> strings<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> myTagFunc<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hey,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> is a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>gender<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// console.log(result)     // 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>     <span class="token comment">// hey,tom is a man.</span>

<span class="token comment">// 我们可以使用标签函数来进行模板字符串的加工，甚至可以使用这种特性来实现一个小型的模板引擎</span></code></pre>

<h2 id="字符串的扩展方法"><a href="#字符串的扩展方法" class="headerlink" title="字符串的扩展方法"></a>字符串的扩展方法</h2><blockquote>
<p>ECMAScript2015中为字符串添加了一些方法，比如：includes()、startWith()、endsWith()</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 字符串的扩展方法</span>

<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">'Error：foo is not defined.'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token comment">// message.startsWith('Error'),    // true</span>
    <span class="token comment">// message.endsWith('.'),  // true</span>
    message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>     <span class="token comment">// true</span>
<span class="token punctuation">)</span></code></pre>

<h2 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 函数参数的默认值</span>

<span class="token comment">// 原本使用默认值的写法</span>
<span class="token comment">// function foo(enable) &#123;</span>
<span class="token comment">//     // enable = enable || true        // 此种写法有误，因为当enable为false时也会使用默认值</span>
<span class="token comment">//     enable = enable === undefined ? true : enable   // 应改为此种写法</span>
<span class="token comment">//     console.log('foo invoked - enable：')</span>
<span class="token comment">//     console.log(enable)</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// ECMA2015 写法</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">bar<span class="token punctuation">,</span> enable <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">// 此种写法，只有当没有传递enable或enable为undefined时使用。同时要注意：若函数带有多个参数，那默认值形参必须写在最后。否则默认值将无法正常工作</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo invoked - enable：'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>enable<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre>

<h2 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 剩余参数</span>

<span class="token comment">// 之前的写法</span>
<span class="token comment">// function foo() &#123;</span>
<span class="token comment">//     console.log(arguments)  // arguments为伪数组</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// ECMAScript2015中的写法</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>	<span class="token comment">// 注意:...args只能出现在数组的最后一位，而且只能使用1次。</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>   <span class="token comment">// [1,2,3,4]</span>
<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span></code></pre>

<h2 id="展开数组"><a href="#展开数组" class="headerlink" title="展开数组"></a>展开数组</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 展开数组参数</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>

<span class="token comment">// 之前的写法：</span>
<span class="token comment">// console.log(</span>
<span class="token comment">//     arr[0],</span>
<span class="token comment">//     arr[1],</span>
<span class="token comment">//     arr[2]</span>
<span class="token comment">// )</span>

<span class="token comment">// console.log.apply(console, arr)  // foo bar baz</span>

<span class="token comment">// ES2015中的写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>     <span class="token comment">// foo bar baz</span></code></pre>

<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 箭头函数</span>

<span class="token comment">// 原始写法</span>
<span class="token comment">// function inc(number) &#123;</span>
<span class="token comment">//     return number + 1</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// ES2015中的写法</span>
<span class="token comment">// const inc = n => n + 1  // 函数体只有return时，可以省略函数体，将其变为要return的值</span>
<span class="token comment">// const inc = n => &#123;      // 若不省略，则需要我们手动return</span>
<span class="token comment">//     return n + 1</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// console.log(inc(100))</span>

<span class="token comment">// 使用箭头函数极大的简便了回调函数的编写</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span></code></pre>

<h2 id="箭头函数与this"><a href="#箭头函数与this" class="headerlink" title="箭头函数与this"></a>箭头函数与this</h2><blockquote>
<p>箭头函数不会改变this的指向</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 箭头函数与this</span>

<span class="token comment">// const person = &#123;</span>
<span class="token comment">//     name: 'tom',</span>
<span class="token comment">//     sayHi: function () &#123;</span>
<span class="token comment">//         console.log(`hi,my name is $&#123;this.name&#125;`)</span>
<span class="token comment">//     &#125;</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// person.sayHi()  //  hi,my name is tom</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi,my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayHiAsync</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 此处的定时器回调函数如果写成普通函数，则其由于被放到全局对象上被调用，所以其内部是拿不到当前作用域中的this对象，他拿到的是全局对象</span>
            <span class="token comment">// 而使用箭头函数，其内部的this就是sayHiAsync对应函数的this，即person</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 此处的person处在全局上下文中，其内部的this为全局对象，所以sayHi由于是写成了箭头函数，其就会获取到全局对象。</span>
person<span class="token punctuation">.</span><span class="token function">sayHiAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// hi,my name is undefined</span></code></pre>

<h2 id="对象字面量增强"><a href="#对象字面量增强" class="headerlink" title="对象字面量增强"></a>对象字面量增强</h2><blockquote>
<p>包括对象函数属性的简写方式及计算属性名的推出</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 对象字面量</span>

<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token string">'123'</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    foo<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token comment">// bar: bar,</span>
    bar<span class="token punctuation">,</span>
    <span class="token comment">// method1: function () &#123;</span>
    <span class="token comment">//     console.log('method111')</span>
    <span class="token comment">// &#125;,</span>
    <span class="token comment">// 等价于：</span>
    <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'method111'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>   <span class="token comment">// 当前对象obj</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// ES2015中的写法(计算属性名)</span>
    <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 原始写法：</span>
<span class="token comment">// obj[Math.random()] = 123</span>

obj<span class="token punctuation">.</span><span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h2 id="对象扩展方法"><a href="#对象扩展方法" class="headerlink" title="对象扩展方法"></a>对象扩展方法</h2><blockquote>
<p>Object.assign：将多个源对象的属性复制到一个目标对象中。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Object.assign 方法</span>

<span class="token comment">// const source1 = &#123;</span>
<span class="token comment">//     a: 123,</span>
<span class="token comment">//     b: 123</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// const source2 = &#123;</span>
<span class="token comment">//     b: 789,</span>
<span class="token comment">//     d: 789</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// const target = &#123;</span>
<span class="token comment">//     a: 456,</span>
<span class="token comment">//     c: 456</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// // 用后面对象中的属性去覆盖第一个对象，assign方法的返回值就是第一个对象。</span>
<span class="token comment">// const result = Object.assign(target, source1, source2)</span>
<span class="token comment">// console.log(result)     // &#123; a: 123, c: 456, b: 789, d: 789 &#125;</span>
<span class="token comment">// console.log(result === target)  // true</span>

<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// obj.name = 'func obj'</span>
    <span class="token comment">// console.log(obj)     // 此种写法当obj改变时，外部的obj也会随之改变，因为它们指向同一个地址</span>

    <span class="token keyword">const</span> funcObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span>  <span class="token comment">// 此种写法，首先将obj赋值给一个全新的对象，在用新对象改值，就不会影响obj了。</span>
    funcObj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'func obj'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>funcObj<span class="token punctuation">)</span>    <span class="token comment">// &#123; name: 'func obj' &#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'gl'</span> <span class="token punctuation">&#125;</span>
<span class="token function">func</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>    <span class="token comment">// &#123; name: 'gl' &#125;</span></code></pre>

<blockquote>
<p>Object.is：用来判断两个值是否相等</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Object is</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token comment">// 0 == false // true，因为==会在比较前自动转换类型</span>
    <span class="token comment">// 0 === false // false</span>
    <span class="token comment">// +0 === -0   // true  +-0无法区分</span>
    <span class="token comment">// NaN === NaN // false 注意此处NaN被认为是非数字，有无限种可能。</span>
    <span class="token comment">// Object.is(+0, -0)   // false</span>
    Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">)</span></code></pre>

<h2 id="Proxy代理对象"><a href="#Proxy代理对象" class="headerlink" title="Proxy代理对象"></a>Proxy代理对象</h2><blockquote>
<p>ES5中的Object.defineProperty方法可以用于监视数据的读写，Vue3.0之前的版本就是使用其来实现数据响应，从而完成双向数据绑定。</p>
<p>ES2015中产生了Proxy，其是专门为数据设置访问代理器的。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Proxy对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 第一个参数为代理对象，第二个为代理的处理对象</span>
<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span>   <span class="token comment">// &#123; name: 'xxc', age: 20 &#125; name</span>
        <span class="token keyword">return</span> <span class="token number">100</span>  <span class="token comment">// 此处返回的值为外部访问perProxy.xxx得到的属性</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personProxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span>   <span class="token comment">// 100</span></code></pre>

<blockquote>
<p>get基本写法：</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Proxy对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 第一个参数为代理对象，第二个为代理的处理对象</span>
<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> property <span class="token keyword">in</span> target <span class="token operator">?</span> property <span class="token operator">:</span> <span class="token string">'default'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personProxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span>     <span class="token comment">// name</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personProxy<span class="token punctuation">.</span>xxx<span class="token punctuation">)</span>    <span class="token comment">//default</span></code></pre>

<div class="danger">

<blockquote>
<p>js使用in和hasOwnProperty获取对象属性的区别：<br>in判断的是对象的所有属性，包括对象实例及其原型的属性；<br>而hasOwnProperty则是判断对象实例的是否具有某个属性。</p>
</blockquote>
</div>



<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Proxy对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 第一个参数为代理对象，第二个为代理的处理对象</span>
<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> property <span class="token keyword">in</span> target <span class="token operator">?</span> property <span class="token operator">:</span> <span class="token string">'default'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span>    <span class="token comment">// &#123; name: 'xxc', age: 20 &#125; gender true</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

personProxy<span class="token punctuation">.</span>gender <span class="token operator">=</span> <span class="token boolean">true</span></code></pre>

<blockquote>
<p>set基本写法：</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Proxy对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 第一个参数为代理对象，第二个为代理的处理对象</span>
<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> property <span class="token keyword">in</span> target <span class="token operator">?</span> property <span class="token operator">:</span> <span class="token string">'default'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>property <span class="token operator">===</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> is not an int</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// personProxy.age = 'xxc' // 报错</span>
personProxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span>

personProxy<span class="token punctuation">.</span>gender <span class="token operator">=</span> <span class="token boolean">true</span></code></pre>

<h2 id="Proxy对比Object-defineProperty"><a href="#Proxy对比Object-defineProperty" class="headerlink" title="Proxy对比Object.defineProperty()"></a>Proxy对比Object.defineProperty()</h2><blockquote>
<p>defineProperty 只能监视属性的读写，Proxy能够监视到更多对象操作。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Proxy对比 Object.defineProperty()</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 当外部对象对当前代理对象进行delete操作时会自动执行</span>
    <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delete'</span><span class="token punctuation">,</span> property<span class="token punctuation">)</span>
        <span class="token keyword">delete</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token keyword">delete</span> personProxy<span class="token punctuation">.</span>age
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span></code></pre>

<p>其余属性：</p>
<p><img src="/blogs/daac920/7.jpg" loading="lazy"></p>
<blockquote>
<p>Proxy更好的支持数组对象的监视。以往要根据Object.defineProperty监视数组，最常见的方式就是重写数组的操作方法。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> listProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token comment">/*
        set 0 100   表明了proxy内部会自动根据push操作推算其值所处的下标
        set length 1    同时还会自动输出这一行，表名添加属性后数组中自带的length属性也会发生修改。
        */</span>
        target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
        <span class="token keyword">return</span> <span class="token boolean">true</span>     <span class="token comment">// 表示设置成功</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

listProxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></code></pre>

<blockquote>
<p>Proxy是以非侵入的方式监管了对象的读写，一个已经定义好的对象，我们不需要对对象本身进行任何操作，就可以监测到其内部成员的读写。</p>
<p>而Object.defineProperty则需要我们以特定的方式，单独去定义对象当中需要被监视的属性。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name 被访问'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> person<span class="token punctuation">.</span>_name
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name 被设置'</span><span class="token punctuation">)</span>
        person<span class="token punctuation">.</span>_name <span class="token operator">=</span> value
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'age 被访问'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> person<span class="token punctuation">.</span>_age
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'age 被设置'</span><span class="token punctuation">)</span>
        person<span class="token punctuation">.</span>_age <span class="token operator">=</span> value
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jack'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">// Proxy 方式更为合理</span>
<span class="token keyword">const</span> person2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'zce'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person2<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> property<span class="token punctuation">)</span>
        <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
        target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

personProxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jack'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personProxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre>

<p><img src="/blogs/daac920/8.jpg" loading="lazy"></p>
<h2 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h2><blockquote>
<p>Reflect 属于一个静态类，不能通过new去创建一个实例对象，只能通过Reflect.xxx()来使用其相关方法。与JS中的Math对象相同。</p>
<p>Reflect内部封装了一系列对对象的底层操作，统一提供一套用于操作对象的API。</p>
<p>Reflect成员方法就是Proxy处理对象的默认实现。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Reflect 对象</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    foo<span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token string">'456'</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 当我们没有定义get方法时，Proxy内部会将参数以Reflect.xxx(此处xxx对应Proxy的配置方法，Reflect中的方法与其一一对应)的方式进行执行</span>
    <span class="token comment">// 类似于以下写法</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'watch logic~~'</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span></code></pre>

<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 原始操作对象的写法，很明显，过于混乱</span>
<span class="token comment">// console.log('name' in obj)</span>
<span class="token comment">// console.log(delete obj['age'])</span>
<span class="token comment">// console.log(Object.keys(obj))</span>

<span class="token comment">// 使用Reflect方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<blockquote>
<p>ECMAScript标准中虽然允许使用原始操作对象的写法，但慢慢发展后原先的写法都将被废弃。</p>
</blockquote>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><blockquote>
<p>Promise提供了一种更优的异步编程解决方案，通过链式调用的方式解决了传统异步编程中回调函数嵌套过深的问题。</p>
</blockquote>
<p>具体内容可以查看：</p>
<p><a target="_blank" rel="noopener" href="https://blogs.xxcijmz.top/blogs/a093bbe6/">JavaScipt异步编程</a></p>
<p><a target="_blank" rel="noopener" href="https://blogs.xxcijmz.top/blogs/4548d372/">手写Promise源码</a></p>
<h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// class 关键词</span>

<span class="token comment">// // 原始写法：构造函数</span>
<span class="token comment">// function Person(name) &#123;</span>
<span class="token comment">//     this.name = name</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// // 通过函数对象的prototype来实现共享成员</span>
<span class="token comment">// Person.prototype.say = function () &#123;</span>
<span class="token comment">//     console.log(`hi,my name is $&#123;this.name&#125;`)</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// ES6 中类实现</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">&#125;</span>

    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi,my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h2 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h2><blockquote>
<p>以前我们添加静态方法是直接在构造函数对象上挂载对象。而ES6中新增添加静态成员的static关键词</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">></span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>

<span class="token operator">&lt;</span>head<span class="token operator">></span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>title<span class="token operator">></span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>

<span class="token operator">&lt;</span>body<span class="token operator">></span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>
        <span class="token comment">// static 方法</span>

        <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
            <span class="token punctuation">&#125;</span>

            <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi,my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>

            <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token comment">// 静态方法内部的this不是实例对象，而是当前的Person</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span>

        <span class="token keyword">const</span> tom <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>
        tom<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre>

<p><img src="/blogs/daac920/9.jpg" loading="lazy"></p>
<div class="warning">

<blockquote>
<p>实例对象中：constructor中定义的属性会被挂载到实例对象自身，而构造类Person中定义的属性会被挂载到实例的隐式原型上</p>
</blockquote>
</div>

<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><blockquote>
<p>ES2015之前大多数情况都是使用原型的方式实现继承，<a target="_blank" rel="noopener" href="https://www.cnblogs.com/LuckyWinty/p/5824073.html">可参考</a>。而ES6之后新增了类的继承(extends)</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// extends继承</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">&#125;</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi,my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number
    <span class="token punctuation">&#125;</span>
    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my school number is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<h2 id="Set数据结构"><a href="#Set数据结构" class="headerlink" title="Set数据结构"></a>Set数据结构</h2><blockquote>
<p>与传统的数组很相似，但是Set内部的成员是不允许重复的</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Set 数据结构</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">// console.log(s)</span>

<span class="token comment">// 可以使用forEach来遍历集合对象</span>
<span class="token comment">// s.forEach(i => &#123;</span>
<span class="token comment">//     console.log(i)</span>
<span class="token comment">// &#125;);</span>

<span class="token comment">// 使用 fot of来遍历集合对象</span>
<span class="token comment">// for (let i of s) &#123;</span>
<span class="token comment">//     console.log(i)</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// 通过.size来获取整个集合的长度</span>
<span class="token comment">// console.log(s.size)  // 4</span>

<span class="token comment">// 通过has方法判断集合中是否存在某个值</span>
<span class="token comment">// console.log(s.has(100)) // false</span>

<span class="token comment">// 通过delete方法删除集合当中的某个值</span>
<span class="token comment">// console.log(s.delete(3))    // true</span>

<span class="token comment">// 通过clear方法清空集合</span>
<span class="token comment">// s.clear()</span>
<span class="token comment">// console.log(s)</span>

<span class="token comment">// 通过集合为数组去重</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// const result = Array.from(new Set(arr)) // Array.from可以将Set再次转换为数组</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token comment">// 使用...将Set中的成员解构，再在外层包裹数组，可以达到同样效果</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></code></pre>

<h2 id="Map数据结构"><a href="#Map数据结构" class="headerlink" title="Map数据结构"></a>Map数据结构</h2><blockquote>
<p>Map与对象很类似，本质都是键值对集合。但是对象的键只能是字符串类型，而map可以使用任意数据作为键。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Map数据结构</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
obj<span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'val'</span>
obj<span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'value'</span>
obj<span class="token punctuation">[</span><span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'value'</span>
<span class="token comment">// 可以发现obj中所有的键都被转换为了字符串形式（说明如果我们给对象的键类型不是字符串的话，内部会将其的toString返回值作为覆盖值）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//[ '123', 'true', '[object Object]' ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'[object Object]'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment">// value</span>

<span class="token comment">// 使用map可以解决这个问题，可以看出map才是严格意义上的键值对集合，用来映射两个任意数据类型的对应关系</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'tom'</span> <span class="token punctuation">&#125;</span>

m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>tom<span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>  <span class="token comment">// Map(1) &#123; &#123; name: 'tom' &#125; => 90 &#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 90</span>

<span class="token comment">// 同时map也可以使用has()方法判断某个键是否存在，用delete方法去删除某个键，clear方法去清空所有的键值</span>

<span class="token comment">// 使用forEach去遍历map方法</span>
m<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token comment">// 90 &#123; name: 'tom' &#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><blockquote>
<p>作用：表示一个独一无二的值</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Symbol数据类型</span>

<span class="token comment">// shared.js ====================================</span>

<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// a.js ===================================</span>

cache<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// b.js ===================================</span>

cache<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span>

<span class="token comment">// 现在我们大量使用第三方模块，而有些时候我们要扩展第三方模块，可是却不知道第三方模块是否存在某个键，此时便可能产生上方的冲突</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cache<span class="token punctuation">)</span></code></pre>

<blockquote>
<p>Symbol的用法</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// const s = Symbol()</span>
<span class="token comment">// console.log(s)</span>
<span class="token comment">// console.log(typeof s)</span>

<span class="token comment">// console.log(</span>
<span class="token comment">//     Symbol() === Symbol()       // false</span>
<span class="token comment">// )</span>

<span class="token comment">// console.log(Symbol('foo'))  // Symbol(foo)</span>
<span class="token comment">// console.log(Symbol('bar'))  // Symbol(bar)</span>
<span class="token comment">// console.log(Symbol('baz'))  // Symbol(baz)</span>

<span class="token comment">// ES2015开始，对象可以直接使用Symbol 类型的值作为属性名。这也代表此后着对象的属性可以为String和Symbol</span>

<span class="token comment">// const obj = &#123;&#125;</span>
<span class="token comment">// obj[Symbol()] = '123'</span>
<span class="token comment">// obj[Symbol()] = '456'</span>
<span class="token comment">// console.log(obj)    // &#123; [Symbol()]: '123', [Symbol()]: '456' &#125;</span>

<span class="token comment">// 在对象字面量中使用Symbol</span>
<span class="token comment">// const obj = &#123;</span>
<span class="token comment">//     [Symbol()]: 123</span>
<span class="token comment">// &#125;</span>
<span class="token comment">// console.log(obj)</span>


<span class="token comment">// 用Symbol()来定义私有成员</span>
<span class="token comment">// a.js========================================</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// b.js========================================</span>

<span class="token comment">// console.log(person[Symbol()])   // undefined</span>
person<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// xxc</span></code></pre>

<div class="success">

<blockquote>
<p>可以看到，目前Symbol对象最主要的作用就是为对象添加独一无二的属性名。</p>
<p>截止到ECMAScript2019，ECMA定义了8中数据类型（7种基本数据类型+Object）：</p>
</blockquote>
</div>

<p><img src="/blogs/daac920/10.jpg" loading="lazy"></p>
<h2 id="Symbol补充"><a href="#Symbol补充" class="headerlink" title="Symbol补充"></a>Symbol补充</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Symbol补充</span>

<span class="token comment">// console.log(</span>
<span class="token comment">//     // Symbol得到的值不会因为描述文本相同而相同。全部都是不同的！！</span>
<span class="token comment">//     Symbol('foo') === Symbol('foo') // false</span>
<span class="token comment">// )</span>

<span class="token comment">// for静态方法可以接受一个字符作为参数，相同的字符串一定会返回相同的Symbol类型的值。</span>
<span class="token comment">// 其内部维护了一个全局的注册表，为字符串和Symbol值提供了一一对应的关系</span>
<span class="token keyword">const</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span>  <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token comment">// 由于其内部维护的是字符串和Symbol值对应的关系，所以若传入的不是字符串，也会转为字符串</span>
    Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">===</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">)</span>     <span class="token comment">// true</span>
<span class="token punctuation">)</span>

<span class="token comment">// Symbol中提供了很多内置的Symbol常量，用于作为内部方法的标识，这些标识符可以让自定义对象去实现一些JS中内置的接口</span>
<span class="token comment">// 如Symbol.iterable、Symbol.hasInstance</span>

<span class="token comment">// const obj = &#123;</span>
<span class="token comment">// 使用Symbol.toStringTag自定义字符串toString标签</span>
<span class="token comment">//     [Symbol.toStringTag]: 'XObject'</span>
<span class="token comment">// &#125;</span>
<span class="token comment">// console.log(obj.toString())     // [object XObject]</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 使用Symbol作为对象的属性名时，通过for in 循环、Object.keys、JSON.stringfy都无法获取到</span>
    <span class="token comment">// 这使得使用Symbol作为属性名的属性很适合作为对象的私有属性</span>
    <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'symbol value'</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> <span class="token string">'normal value'</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// foo</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// [ 'foo' ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &#123;"foo":"normal value"&#125;</span>

<span class="token comment">// 获取对象中Symbol类型的属性名的方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// [ Symbol() ]</span></code></pre>

<h2 id="for…of循环"><a href="#for…of循环" class="headerlink" title="for…of循环"></a>for…of循环</h2><blockquote>
<p>for循环比较适合遍历普通数组，for…in比较适合遍历键值对。但都有一些局限性</p>
<p>for…of将来将作为遍历所有数据结构的统一方式</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhilu/p/13856912.html">区别看这里</a></p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// for...of循环</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>   <span class="token comment">// 与for..in不同，for...of拿到的item即为数组中的元素，而不是索引值</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">break</span>   <span class="token comment">// 与forEach不同，for...of可以使用break、continue、return关键字随时终止循环</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 以前为了终止遍历，使用的是数组实例的some()和every()方法</span>
<span class="token comment">/* const arr = [1, 2, 3, 4, 5, 6, 7];
// some 返回true时终端遍历
arr.some(item => &#123;
    console.log(item); // 1 2 3
    if (item == 3) &#123;
        return true;
    &#125;
&#125;);

// every 返回false时终端遍历,返回true继续遍历
arr.every(item => &#123;
    console.log(item); // 1 2 3 4
    if (item == 4) &#123;
        return false;
    &#125; else &#123;
        return true;
    &#125;
&#125;); */</span>

<span class="token comment">// 除了数组可以使用for...of进行遍历，一些伪数组也可以使用for...of进行遍历。</span>
<span class="token comment">// const s = new Set(['foo', 'bar'])</span>
<span class="token comment">// for (const item of s) &#123;  </span>
<span class="token comment">//     console.log(item)</span>
<span class="token comment">// &#125;</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'345'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// [ 'foo', '123' ]</span>
<span class="token comment">// [ 'bar', '345' ]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// foo 123</span>
<span class="token comment">// bar 345</span>

<span class="token comment">// for...of不可直接遍历普通对象</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">456</span> <span class="token punctuation">&#125;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">// 报错</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="可迭代接口Iterable"><a href="#可迭代接口Iterable" class="headerlink" title="可迭代接口Iterable"></a>可迭代接口Iterable</h2><blockquote>
<p>ES 中能够表示有结构的数据类型越来越多，为了给各种各样的数据结构提供统一遍历方式，ES2015提供了Iterable接口。实现Iterable接口就是for…of的前提</p>
</blockquote>
<ul>
<li>下面三张图可以看出，数组、Set、Map的原型对象上都有Symbol.Iterable函数。</li>
</ul>
<p><img src="/blogs/daac920/11.jpg" loading="lazy"></p>
<p><img src="/blogs/daac920/12.jpg" loading="lazy"></p>
<p><img src="/blogs/daac920/13.jpg" loading="lazy"></p>
<ul>
<li>输出Symbol.iterator的执行结果（迭代器）可以发现其内部有一个next()方法</li>
</ul>
<p><img src="/blogs/daac920/15.jpg" loading="lazy"></p>
<ul>
<li>不断的执行next()方法便可遍历数组。这也是for…of的实现原理</li>
</ul>
<p><img src="/blogs/daac920/14.jpg" loading="lazy"></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 迭代器(Iterator)</span>

<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 此处set[Symbol.iterator]()返回一个含有next()方法的Array Iterator对象（迭代器）</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &#123; value: 'foo', done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &#123; value: 'bar', done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &#123; value: 'baz', done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &#123; value: undefined, done: true &#125;</span></code></pre>

<h2 id="实现可迭代接口"><a href="#实现可迭代接口" class="headerlink" title="实现可迭代接口"></a>实现可迭代接口</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 实现可迭代接口(Iterable)</span>

<span class="token comment">// const obj = &#123;</span>
<span class="token comment">// 此处的Symbol.iterator、next、value、done都是固定的，不可改成别的写法</span>
<span class="token comment">//     [Symbol.iterator]: function () &#123;    // Symbol类型提供的常量iterator，此处使用计算属性名。返回一个实现迭代器接口的对象</span>
<span class="token comment">//         return &#123;</span>
<span class="token comment">//             next: function () &#123; // next()方法中返回迭代结果</span>
<span class="token comment">//                 return &#123;</span>
<span class="token comment">//                     value: 'zce',</span>
<span class="token comment">//                     done: true</span>
<span class="token comment">//                 &#125;</span>
<span class="token comment">//             &#125;</span>
<span class="token comment">//         &#125;</span>
<span class="token comment">//     &#125;</span>
<span class="token comment">// &#125;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    store<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Symbol类型提供的常量iterator，此处使用计算属性名。返回一个实现迭代器接口的对象</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// next()方法中返回迭代结果</span>
                <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                    value<span class="token operator">:</span> self<span class="token punctuation">.</span>store<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
                    done<span class="token operator">:</span> index <span class="token operator">>=</span> self<span class="token punctuation">.</span>store<span class="token punctuation">.</span>length
                <span class="token punctuation">&#125;</span>
                index<span class="token operator">++</span>
                <span class="token keyword">return</span> result
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>



<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h2><blockquote>
<p>一种设计模式</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 迭代器设计模式 核心：对外提供统一遍历接口，让外部不用再去关注数据内部结构</span>

<span class="token comment">// 场景：你我协同开发一个任务清单应用</span>

<span class="token comment">// 我的代码 =================================</span>
<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    life<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'吃饭'</span><span class="token punctuation">,</span> <span class="token string">'睡觉'</span><span class="token punctuation">,</span> <span class="token string">'打豆豆'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    learn<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'语文'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token string">'外语'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    work<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'喝茶'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 定义each方法统一遍历接口</span>
    <span class="token function-variable function">each</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> all <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>learn<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> all<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// 定义iterator来实现外部可以使用for...of来统一遍历</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> all <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>learn<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">]</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
                    value<span class="token operator">:</span> all<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
                    done<span class="token operator">:</span> index<span class="token operator">++</span> <span class="token operator">>=</span> all<span class="token punctuation">.</span>length
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 此处each只适用于当前，而iterator是语言层面实现了迭代器模式，可以适用于任合数据结构，只需要你通过代码实现iterator方法。</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">// 你的代码 =================================</span>

<span class="token comment">// 下方遍历方式，耦合度高，需要关注todos的内部结构</span>
<span class="token comment">// for (const item of todos.life) &#123;</span>
<span class="token comment">//     console.log(item)</span>
<span class="token comment">// &#125;</span>
<span class="token comment">// for (const item of todos.learn) &#123;</span>
<span class="token comment">//     console.log(item)</span>
<span class="token comment">// &#125;</span>
<span class="token comment">// for (const item of todos.work) &#123;</span>
<span class="token comment">//     console.log(item)</span>
<span class="token comment">// &#125;</span>

todos<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---------------------'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> todos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="生成器Generator"><a href="#生成器Generator" class="headerlink" title="生成器Generator"></a>生成器Generator</h2><blockquote>
<p>作用：为了避免异步编程中回调嵌套过深的问题，提供更好的异步编程解决方案。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Generator 函数</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xxc'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">100</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></code></pre>

<ul>
<li>结果：</li>
</ul>
<p><img src="/blogs/daac920/16.jpg" loading="lazy"></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Generator 函数</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xxc'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">100</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<ul>
<li>结果：</li>
</ul>
<p><img src="/blogs/daac920/17.jpg" loading="lazy"></p>
<blockquote>
<p>可以看出，生成器对象也实现了iterator接口协议。</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'111'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span> <span class="token number">100</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'222'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span> <span class="token number">200</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'333'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span> <span class="token number">300</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 生成器函数调用后会返回一个生成器对象，只有我们调用了这个对象的next()方法，这个函数才开始执行，当执行时遇到yield时，函数的执行就会暂停。且yield后面的值将会作为next()的返回值中的value。只有当返回的值中的done为true时，函数才执行完毕</span>
<span class="token keyword">const</span> generator <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// &#123; value: 100, done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// &#123; value: 200, done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// &#123; value: 300, done: false &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// &#123; value: undefined, done: true &#125;</span></code></pre>

<h2 id="生成器应用"><a href="#生成器应用" class="headerlink" title="生成器应用"></a>生成器应用</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Genarator 应用</span>

<span class="token comment">// 案例1：发号器</span>

<span class="token comment">// function* createIdMaker() &#123;</span>
<span class="token comment">//     let id = 1</span>
<span class="token comment">//     while (true) &#123;</span>
<span class="token comment">//         yield id++</span>
<span class="token comment">//     &#125;</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// const idMaker = createIdMaker()</span>

<span class="token comment">// console.log(idMaker.next().value)</span>
<span class="token comment">// console.log(idMaker.next().value)</span>
<span class="token comment">// console.log(idMaker.next().value)</span>
<span class="token comment">// console.log(idMaker.next().value)</span>

<span class="token comment">// 案例2：使用 Generator 函数实现 iterator 方法</span>

<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    life<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'吃饭'</span><span class="token punctuation">,</span> <span class="token string">'睡觉'</span><span class="token punctuation">,</span> <span class="token string">'打豆豆'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    learn<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'语文'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token string">'外语'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    work<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'喝茶'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 此处function *()&#123;&#125; 返回的值满足了iterator中要求的包含next()方法，且调用next()方法可以得到value和done属性的条件。</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> all <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>learn<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">]</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> all<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">yield</span> item
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> todos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="ES-Modules"><a href="#ES-Modules" class="headerlink" title="ES Modules"></a>ES Modules</h2><p><a href>请参照xxxxxx</a></p>
<h2 id="ES2016"><a href="#ES2016" class="headerlink" title="ES2016"></a>ES2016</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ECMAScript 2016</span>

<span class="token comment">// Array.prototype.includes --------------------- 用于判断数组当中是否包含指定元素（返回布尔值）</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0 indexOf 返回元素在数组中的下标，没有找到返回-1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// -1 indexOf 不能查找数组中的NaN</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// true </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// true </span>


<span class="token comment">// 指数运算符   ---------------------</span>
<span class="token comment">// 原始写法：</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES2016中的指数运算符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">10</span><span class="token punctuation">)</span>    <span class="token comment">// 1024</span></code></pre>

<h2 id="ES2017"><a href="#ES2017" class="headerlink" title="ES2017"></a>ES2017</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ECMAScript 2017</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    foo<span class="token operator">:</span> <span class="token string">'value1'</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token string">'value2'</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// Object.values    -------------------------------</span>
<span class="token comment">// 与ES5的Object.keys方法非常类似，一个返回键，一个返回值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [ 'value1', 'value2' ]</span>

<span class="token comment">// Object.entries  ----------------------------- 以数组的形式返回对象中所有的键值对</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// [ [ 'foo', 'value1' ], [ 'bar', 'value2' ] ]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// foo value1</span>
<span class="token comment">// bar value2</span>

<span class="token comment">// Map的构造函数可以直接转换[ [ 'foo', 'value1' ], [ 'bar', 'value2' ] ]这种格式的数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// Map(2) &#123; 'foo' => 'value1', 'bar' => 'value2' &#125;</span>

<span class="token comment">// Object.getOwnPropertyDescriptors ------------------------------- 用于获取对象中属性的完整描述信息，用于配合ES5的getter与setter</span>
<span class="token comment">// Object.getOwnPropertyDescriptors</span>

<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    firstName<span class="token operator">:</span> <span class="token string">'Lei'</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
    <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// const p2 = Object.assign(&#123;&#125;, p1)</span>
<span class="token comment">// p2.firstName = 'zce'</span>
<span class="token comment">// // 可以看到，在使用Object.assign()进行赋值时，fullName被当成了普通属性进行了赋值</span>
<span class="token comment">// console.log(p2)    // &#123; firstName: 'zce', lastName: 'Wang', fullName: 'Lei Wang' &#125;</span>

<span class="token keyword">const</span> descriptors <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptors<span class="token punctuation">)</span>
<span class="token comment">// 此处不用assign的原因是：assign复制对象会原封不动的复制，而此时的descriptors是对象的详细信息，如下：</span>
<span class="token comment">/*
&#123;
  firstName: &#123;
    value: 'Lei',
    writable: true,
    enumerable: true,
    configurable: true
  &#125;,
  lastName: &#123;
    value: 'Wang',
    writable: true,
    enumerable: true,
    configurable: true
  &#125;,
  fullName: &#123;
    get: [Function: get fullName],
    set: undefined,
    enumerable: true,
    configurable: true
  &#125;
&#125;
*/</span>
<span class="token comment">// 而使用defineProperties可以解决此问题</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> descriptors<span class="token punctuation">)</span>
p2<span class="token punctuation">.</span>firstName <span class="token operator">=</span> <span class="token string">'zce'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span>    <span class="token comment">// zce Wang</span>


<span class="token comment">// String.prototype.padStart / String.prototype.padEnd-----------------------用给定的字符填充字符串的开始或结束位置，直到字符串达到指定长度</span>
<span class="token keyword">const</span> books <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    html<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    css<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    javascript<span class="token operator">:</span> <span class="token number">128</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> count<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
html 5
css 16
javascript 128
*/</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> count<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">|</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>count<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
html------------|005
css-------------|016
javascript------|128
*/</span>


<span class="token comment">// 在函数参数中添加尾逗号 -------</span>
<span class="token comment">// function foo(</span>
<span class="token comment">//     xxc,</span>
<span class="token comment">//     jmz,</span>
<span class="token comment">// ) &#123;</span>

<span class="token comment">// &#125;</span>

<span class="token comment">// 在结束位置添加','可以方便添加新属性，同时由于格式一致，调整起来也很容易</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">300</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>

<blockquote>
<p>最重要的一点是：ES2017标准化了Async/Await。</p>
</blockquote>
<ul>
<li>补充阅读</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_48027328/article/details/109658558?utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2.no_search_link">defineProperty与defineProperties的区别</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xinggood/p/6601029.html">js中get和set的使用</a></p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>语轻星子</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://xxcijmz.top/blogs/daac920/" title="ECMA新特性">https://xxcijmz.top/blogs/daac920/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/blogs/d660c3e3/" rel="prev" title="TypeScript语言"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">TypeScript语言</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/blogs/708ebb10/" rel="next" title="js面试题"><span class="post-nav-text">js面试题</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"MnqOxUn1tp2XfaBiRJqcPNC3-MdYXbMMI","appKey":"BUJAYYUt5IhdIDVVvHH8aHMx","placeholder":"来与我一起讨论吧","avatar":null,"pageSize":10,"visitor":false,"highlight":true,"recordIP":false,"enableQQ":true,"meta":["nick"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/blogs/daac920/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">闽ICP备2021017107号-1</a></div><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 语轻星子</span></div><div class="live_time"><span>本博客已运行：</span><span id="display_live_time"></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-09-23T00:03:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#5698c3" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"dialog":{"enable":true},"log":false});</script></body></html>