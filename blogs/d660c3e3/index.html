<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#5698c3"><meta name="author" content="语轻星子"><meta name="copyright" content="语轻星子"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>TypeScript语言 | 轻语馆</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#5698c3"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"xxcijmz.top","root":"/","title":"轻语馆","version":"1.6.2","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"algolia":{"appID":"I6Q6TFSWKC","apiKey":"8299a265813c86a465cc32755761abc9","indexName":"blogs","hits":{"per_page":10}}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="/css/content.css"><meta name="description" content="语言类型简述 TypeScript 解决了JavaScript类型系统的问题，大大提高代码的可靠程度   强类型与弱类型（类型安全）  强类型：在语言层面限制函数的实参类型必须与形参类型相同   弱类型：语言层面不会限制实参的类型    由于这种强弱类型之分根本不是某一个权威机构的定义，但是整体上认为：强类型有更强的类型约束，而弱类型中几乎没有什么约束。 也可以认为：强类型语言中不允许任意的隐式类">
<meta property="og:type" content="article">
<meta property="og:title" content="TypeScript语言">
<meta property="og:url" content="https://xxcijmz.top/blogs/d660c3e3/index.html">
<meta property="og:site_name" content="轻语馆">
<meta property="og:description" content="语言类型简述 TypeScript 解决了JavaScript类型系统的问题，大大提高代码的可靠程度   强类型与弱类型（类型安全）  强类型：在语言层面限制函数的实参类型必须与形参类型相同   弱类型：语言层面不会限制实参的类型    由于这种强弱类型之分根本不是某一个权威机构的定义，但是整体上认为：强类型有更强的类型约束，而弱类型中几乎没有什么约束。 也可以认为：强类型语言中不允许任意的隐式类">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/1.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/2.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/3.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/4.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/5.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/6.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/7.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/8.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/9.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/10.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/11.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/12.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/13.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/14.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/15.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/16.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/17.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/18.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/19.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/20.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/21.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/22.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/23.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/24.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/25.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/26.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/27.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/28.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/29.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/30.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/31.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/32.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/d660c3e3/33.jpg">
<meta property="article:published_time" content="2021-10-04T04:40:56.000Z">
<meta property="article:modified_time" content="2021-10-07T11:39:24.820Z">
<meta property="article:author" content="语轻星子">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xxcijmz.top/blogs/d660c3e3/1.jpg"><script src="/js/ui/mode.js"></script></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="语轻星子"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/xxc-yqxz/xxc-yqxz.github.io/images/avatar.jpg" alt="语轻星子"></a><div class="site-author-name"><a href="/about/">语轻星子</a></div><span class="site-name">轻语馆</span><sub class="site-subtitle">我也会加油，所以你也要加油，这是约定</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">35</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/xxc-yqxz/xxc-yqxz.github.io" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=894043590&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1379764422" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/269921139" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B%E7%AE%80%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">语言类型简述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flow"><span class="toc-number">2.</span> <span class="toc-text">Flow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript"><span class="toc-number">3.</span> <span class="toc-text">TypeScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="toc-number">3.1.</span> <span class="toc-text">快速上手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TS%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.3.</span> <span class="toc-text">TS原始类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TS%E6%A0%87%E5%87%86%E5%BA%93%E5%A3%B0%E6%98%8E"><span class="toc-number">3.4.</span> <span class="toc-text">TS标准库声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TS%E4%B8%AD%E6%96%87%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF"><span class="toc-number">3.5.</span> <span class="toc-text">TS中文错误消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-number">3.6.</span> <span class="toc-text">作用域问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.7.</span> <span class="toc-text">Object类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.8.</span> <span class="toc-text">数组类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.9.</span> <span class="toc-text">元组类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.10.</span> <span class="toc-text">枚举类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.11.</span> <span class="toc-text">函数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E7%B1%BB%E5%9E%8B-any"><span class="toc-number">3.12.</span> <span class="toc-text">任意类型(any)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD"><span class="toc-number">3.13.</span> <span class="toc-text">隐式类型推断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">3.14.</span> <span class="toc-text">类型断言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%EF%BC%88Interfaces%EF%BC%89"><span class="toc-number">3.15.</span> <span class="toc-text">接口（Interfaces）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%89%A9%E5%B1%95"><span class="toc-number">3.16.</span> <span class="toc-text">接口扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">3.17.</span> <span class="toc-text">类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.18.</span> <span class="toc-text">类的访问修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">3.19.</span> <span class="toc-text">类的只读属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E4%B8%8E%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.20.</span> <span class="toc-text">类与接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">3.21.</span> <span class="toc-text">抽象类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">3.22.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">3.23.</span> <span class="toc-text">类型声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8Vue%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%85%8D%E7%BD%AETypeScript"><span class="toc-number">3.24.</span> <span class="toc-text">在Vue项目中配置TypeScript</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E"><span class="toc-number">3.24.1.</span> <span class="toc-text">项目结构说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">3.24.2.</span> <span class="toc-text">定义组件的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EDecorator%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%AD%E6%B3%95"><span class="toc-number">3.24.3.</span> <span class="toc-text">关于Decorator装饰器语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.24.4.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/JS/" style="font-size: 26.4px; color: #8cbbd1">JS</a> <a href="/tags/Vue/" style="font-size: 30px; color: #8abcd1">Vue</a> <a href="/tags/eggjs/" style="font-size: 19.2px; color: #8fb8d0">eggjs</a> <a href="/tags/serverless/" style="font-size: 19.2px; color: #8fb8d0">serverless</a> <a href="/tags/uniapp/" style="font-size: 22.8px; color: #8eb9d0">uniapp</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15.6px; color: #91b6cf">小程序</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 15.6px; color: #91b6cf">工程化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 12px; color: #93b5cf">日记</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 22.8px; color: #8eb9d0">概念</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 12px; color: #93b5cf">部署</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://xxcijmz.top/blogs/d660c3e3/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="语轻星子"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="轻语馆"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">TypeScript语言</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-10-04 12:40:56" itemprop="dateCreated datePublished" datetime="2021-10-04T12:40:56+08:00">2021-10-04</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2021-10-07 19:39:24" itemprop="dateModified" datetime="2021-10-07T19:39:24+08:00">2021-10-07</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">7.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">31m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">大前端</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JS/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">JS</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/JS/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JS</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#5698c3;"><h2 id="语言类型简述"><a href="#语言类型简述" class="headerlink" title="语言类型简述"></a>语言类型简述</h2><blockquote>
<p>TypeScript 解决了JavaScript类型系统的问题，大大提高代码的可靠程度</p>
</blockquote>
<ul>
<li>强类型与弱类型（类型安全）</li>
</ul>
<p>强类型：在语言层面限制函数的实参类型必须与形参类型相同</p>
<img src="/blogs/d660c3e3/1.jpg" style="zoom:67%;" loading="lazy">

<p>弱类型：语言层面不会限制实参的类型</p>
<img src="/blogs/d660c3e3/2.jpg" style="zoom:67%;" loading="lazy">

<blockquote>
<p>由于这种强弱类型之分根本不是某一个权威机构的定义，但是整体上认为：强类型有更强的类型约束，而弱类型中几乎没有什么约束。</p>
<p>也可以认为：强类型语言中不允许任意的隐式类型转换，而弱类型允许任意的数据隐式类型转换</p>
</blockquote>
<div class="danger">


<blockquote>
<p>此处的类型转换是指在语言的语法层面的限制，若传入不同类型的值则在编译阶段就会报错，而不会等到运行阶段。</p>
<p>且要注意：变量类型允许随时改变的特点，不是强弱类型的差异。如Python就是一门强类型的语言。</p>
</blockquote>
</div>

<ul>
<li>静态类型与动态类型（类型检查）</li>
</ul>
<p>静态类型语言：一个变量声明时它的类型就是明确的。声明过后，它的类型就不允许再修改。</p>
<p>动态类型语言：运行阶段才能够明确变量的类型，而且变量的类型随时可以改变。</p>
<img src="/blogs/d660c3e3/3.jpg" style="zoom:67%;" loading="lazy">

<p>在动态类型语言中，变量是没有类型的，而变量中存放的值是有类型的。如JS。</p>
<ul>
<li>JS类型系统特征</li>
</ul>
<blockquote>
<p>弱类型且动态类型，虽然灵活却丢失了类型系统的可靠性。</p>
</blockquote>
<p>为何JS不设计成强类型且静态类型的语言？</p>
<ol>
<li>早期的JS应用简单</li>
<li>JS没有编译环节，而静态语言需要在编译阶段做类型检查，所以JS设计成静态语言没有意义。</li>
</ol>
<div class="warning">

<blockquote>
<p>在大规模应用的背景下，原先JS的优势变成了短板</p>
</blockquote>
</div>



<ul>
<li>JS弱类型产生的问题</li>
</ul>
<ol>
<li>JS中的代码由于没有编译阶段，所以若产生错误，要一直等到代码运行到错误的地方才会抛出异常。若测试中没有测试到错误行，则这个隐患便会一直留在代码当中。而若是强类型语言，则其会在编译时就报错，不用等到运行时。</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// JS 弱类型产生的问题</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// obj.foo()</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<ol start="2">
<li>当函数要求传入的值与实际调用函数传入的值类型不同时，会导致函数失去原有的功能·。而若在强类型语言中，这种写法会在语法层面报错。</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 200</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 100100</span></code></pre>

<ol start="3">
<li>由于JS中只允许使用字符串或Symbol类型的数据作为键，则当我们传入非字符串时会被转为字符串。这就导致了我们定义时用非字符串，调用时用字符串的情况发生。而若用强类型语言，定义时用非字符串就会在语法上报错。</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

obj<span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'true'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<div class="warning">

<blockquote>
<p>我们当然可以做约定来保证传入的数据类型，但项目不断扩大时就容易产生隐患，只要强制要求了才能实现保障。</p>
</blockquote>
</div>

<ul>
<li><p>强类型的优势</p>
<ul>
<li><p>错误更早暴露</p>
</li>
<li><p>代码更智能，编码更准确。(弱类型由于编译器无法判断是什么类型的数据，所以无法直接智能提示其内部成员)</p>
</li>
<li><p>重构更牢靠（当定义了一个方法被多处地方使用后，想要修改方法名，弱类型语言无法轻易修改，因为使用到的地方无法报错提示。而强类型语言在重新编译时就会立刻报出错误）</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> util <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">aaa</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'util func'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>减少不必要的类型判断</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!==</span> <span class="token string">'number'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> b <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'arguments must be a number'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
</li>
</ul>
<h2 id="Flow"><a href="#Flow" class="headerlink" title="Flow"></a>Flow</h2><blockquote>
<p>JavaScript 的类型检查器，使用类型注解的方式来限制数据类型。function sum(a:number,b:number){…}</p>
<p>在生产环境中，可以使用Babel等工具去掉此类型注解。</p>
<p>且Flow并不需要我们给每个变量都加类型注解，我们可以根据自己的需要添加。</p>
</blockquote>
<ul>
<li>快速上手</li>
</ul>
<ol>
<li>安装</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn add flow<span class="token operator">-</span>bin <span class="token operator">--</span>dev</code></pre>

<p>​    安装完后，可在bin目录下看到一个flow的可执行文件</p>
<p><img src="/blogs/d660c3e3/4.jpg" loading="lazy"></p>
<ol start="2">
<li><p>关闭VSCode中的JS验证，若为关闭flow语法会在JS文件中报错</p>
<p><img src="/blogs/d660c3e3/5.jpg" loading="lazy"></p>
</li>
<li><p>编写代码（注意代码开头要写   // @flow）</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// @flow</span>

<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> number<span class="token punctuation">,</span> b<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">&#125;</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span></code></pre></li>
<li><p>输入如下命名</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn flow init	<span class="token comment">// 生成flow配置文件</span>
yarn flow	<span class="token comment">// flow启动后台服务，监视文件</span></code></pre></li>
<li><p>查看编译结果</p>
<p><img src="/blogs/d660c3e3/6.jpg" loading="lazy"></p>
</li>
<li><p>停止flow服务</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn flow stop</code></pre></li>
</ol>
<ul>
<li>Flow编译移除注解</li>
</ul>
<blockquote>
<p>flow的类型注解并不是js语法，node环境下直接运行时会出错，所以我们需要自动移除掉类型注解</p>
</blockquote>
<ol>
<li><p>使用flow-remove-types</p>
<ol>
<li><p>安装</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn add flow<span class="token operator">-</span>remove<span class="token operator">-</span>types <span class="token operator">--</span>dev</code></pre></li>
<li><p>运行命名</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn flow<span class="token operator">-</span>remove<span class="token operator">-</span>types <span class="token punctuation">.</span>\Part_1\<span class="token number">06</span>_TS <span class="token operator">-</span>d dist</code></pre></li>
<li><p>在根目录下会出现dist目录，里面有转换后的代码</p>
<p><img src="/blogs/d660c3e3/7.jpg" loading="lazy"></p>
</li>
</ol>
</li>
<li><p>使用babel</p>
<ol>
<li><p>安装</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn add @babel<span class="token operator">/</span>core @babel<span class="token operator">/</span>cli @babel<span class="token operator">/</span>preset<span class="token operator">-</span>flow <span class="token operator">--</span>dev</code></pre></li>
<li><p>在根目录中新建.babelrc文件，并修改</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
    <span class="token string">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"@babel/preset-flow"</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>运行命令</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn babel <span class="token punctuation">.</span>\Part_1\<span class="token number">06</span>_TS <span class="token operator">-</span>d dist</code></pre></li>
<li><p>在根目录下会出现dist目录，里面有转换后的代码</p>
<p><img src="/blogs/d660c3e3/8.jpg" loading="lazy"></p>
</li>
</ol>
</li>
</ol>
<ul>
<li><p>Flow开发工具插件</p>
<ol>
<li>首先在VSCode中安装此插件</li>
</ol>
<p><img src="/blogs/d660c3e3/9.jpg" loading="lazy"></p>
<ol start="2">
<li><p>安装完后，便可以看到VSCode的状态栏显示插件运行状态，同时可以在代码中提示错误</p>
<p><img src="/blogs/d660c3e3/10.jpg" loading="lazy"></p>
</li>
</ol>
</li>
</ul>
<div class="warning">

<blockquote>
<p>修改完代码需要保存过后插件才能显示语法问题。</p>
</blockquote>
</div>

<ul>
<li>flow类型推断</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 类型推断
 *
 *  @flow
 */</span>

<span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> n
<span class="token punctuation">&#125;</span>

<span class="token function">square</span><span class="token punctuation">(</span><span class="token string">'100'</span><span class="token punctuation">)</span></code></pre>

<blockquote>
<p>此时我们没有做n的类型注解，但是flow仍然可以做类型推断（因为字符串类型是不可以做乘法的）</p>
</blockquote>
<p><img src="/blogs/d660c3e3/11.jpg" loading="lazy"></p>
<ul>
<li>flow类型注解</li>
</ul>
<blockquote>
<p>虽然flow可以做类型推断，但是做类型注解可以帮助我们更好的理解代码。因此尽可能做类型注解</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 类型注解
 *
 * @flow
 */</span>

<span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> n
<span class="token punctuation">&#125;</span>

<span class="token comment">// 标准变量的值类型</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">123</span>

<span class="token comment">// 标记函数的返回值类型</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> number <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token number">123</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 函数没有返回值时标记为void</span>
<span class="token keyword">function</span> <span class="token function">foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>原始类型</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 原始类型
 *
 * @flow
 */</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'foobar'</span>

<span class="token comment">// number 类型可以存放数字或NaN或Infinity(无穷大)</span>
<span class="token keyword">const</span> b1<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">NaN</span>
<span class="token keyword">const</span> b2<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">Infinity</span>

<span class="token comment">// boolean 类型可以存放 false或true</span>
<span class="token keyword">const</span> c<span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// true</span>

<span class="token comment">// null类型只能存放null本身</span>
<span class="token keyword">const</span> d<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">// 要标记变量为undefined，则将其标记为void</span>
<span class="token keyword">const</span> e<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>

<span class="token comment">// symbol类型只能存放Symbol类型</span>
<span class="token keyword">const</span> f<span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<ul>
<li>数组类型</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 数组类型
 *
 * @flow
 */</span>

<span class="token comment">// 方式一：Array&lt;number> 表示全部由数字组成的数组</span>
<span class="token keyword">const</span> arr1<span class="token operator">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 方式二：number[]  表示全部由数字组成的数组</span>
<span class="token keyword">const</span> arr2<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 方式三：[string, number]  表示数组只能存放两位元素，且第一位为字符串，第二位为数字（元组）</span>
<span class="token keyword">const</span> foo<span class="token operator">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span></code></pre>

<ul>
<li>对象类型</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 对象类型
 *
 * @flow
 */</span>

<span class="token comment">// &#123; foo: string, bar: number &#125; 表示当前对象必须有foo(string类型)、bar(number类型两个成员)，此外还可以添加别的成员(注意与TS区分，TS中不可以)</span>
<span class="token keyword">const</span> obj1<span class="token operator">:</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> string<span class="token punctuation">,</span> bar<span class="token operator">:</span> number <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> xxc<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span>

<span class="token comment">// &#123; foo?: string, bar: number &#125; 表示当前对象中的foo属性可有可无</span>
<span class="token keyword">const</span> obj2<span class="token operator">:</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> bar<span class="token operator">:</span> number <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> bar<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span>

<span class="token comment">// &#123; [string]: string &#125; 表示对象可以添加任意个数的键，但是键和值的类型都必须是字符串</span>
<span class="token keyword">const</span> obj3<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token operator">:</span> string <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
obj3<span class="token punctuation">.</span>key1 <span class="token operator">=</span> <span class="token string">'value1'</span>
<span class="token comment">// obj3.key2 = 100  // 报错</span></code></pre>

<ul>
<li>函数类型</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 函数类型
 *
 * @flow
 */</span>

<span class="token comment">// : (string, number) => void 表示回调函数的参数必须是一个string和一个number ，且没有返回值</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>	<span class="token comment">// 此处的callback作为参数，在foo函数中进行调用。</span>
<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<ul>
<li>特殊类型</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 特殊类型
 *
 * @flow
 */</span>

<span class="token comment">// :'foo' 表示 a 只能存放 'foo',此种写法一般不单独使用。而是配合'|'使用</span>
<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token operator">=</span> <span class="token string">'foo'</span>

<span class="token comment">// : 'success' | 'warning' | 'danger' 表示只能存放三种值的其中之一</span>
<span class="token keyword">const</span> type<span class="token operator">:</span> <span class="token string">'success'</span> <span class="token operator">|</span> <span class="token string">'warning'</span> <span class="token operator">|</span> <span class="token string">'danger'</span> <span class="token operator">=</span> <span class="token string">'success'</span>

<span class="token comment">// : string | number 表示只能存放类型为string或number的值</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> string <span class="token operator">|</span> number <span class="token operator">=</span> <span class="token string">'string'</span>

type StringOrNumber <span class="token operator">=</span> string <span class="token operator">|</span> number
<span class="token keyword">const</span> b1<span class="token operator">:</span> StringOrNumber <span class="token operator">=</span> <span class="token string">'string'</span>

<span class="token comment">// ===========================================</span>
<span class="token comment">// : ?number  表示可以接受number或null或undefined（maybe类型）</span>
<span class="token keyword">const</span> gender<span class="token operator">:</span> <span class="token operator">?</span>number <span class="token operator">=</span> <span class="token keyword">null</span></code></pre>

<ul>
<li>Mixed &amp; Any</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * Mixed Any
 *
 * @flow
 */</span>

<span class="token comment">// mixed 表示可以为任意类型的数据</span>
<span class="token keyword">function</span> <span class="token function">passMixed</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> mixed</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// value.substr(1)  // 报错</span>
    <span class="token comment">// const result = value * value // 报错</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        value<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> value <span class="token operator">*</span> value
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">passMixed</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>

<span class="token function">passMixed</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// ==================================</span>
<span class="token comment">// any 也表示可以为任意类型的数据</span>
<span class="token comment">// 但any表示的是弱类型数据，而mixed表示强类型数据。尽量不要使用any类型，any的产生是为了兼容老代码</span>
<span class="token keyword">function</span> <span class="token function">passAny</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    value<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> result <span class="token operator">=</span> value <span class="token operator">*</span> value
<span class="token punctuation">&#125;</span>
<span class="token function">passAny</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>

<span class="token function">passAny</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></code></pre>

<p><a target="_blank" rel="noopener" href="https://www.saltycrane.com/cheat-sheets/flow-type/latest/">更多类型点我查看</a></p>
<ul>
<li>运行环境API类型限制</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 运行环境 API
 *
 * @flow
 */</span>

<span class="token comment">// : HTMLElement | null  表示只能为HTML元素或null</span>
<span class="token keyword">const</span> element<span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span></code></pre>

<p><a target="_blank" rel="noopener" href="https://github.com/facebook/flow/tree/main/lib">更多类型点我查看</a></p>
<h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><blockquote>
<p>JavaScript的超集(superset)</p>
<p>TS中的类型系统与Flow类似</p>
<p>此外TS能够将ES6+的新特性转化，使得可以在一些老平台中运行，实现babel的功能。</p>
<p>任何一种JavaScript运行环境都支持</p>
<p>相比flow，功能更为强大，生态也更健全、更完善</p>
<p>TypeScript —- 前端领域中的第二语言</p>
</blockquote>
<p><img src="/blogs/d660c3e3/12.jpg" loading="lazy"></p>
<div class="warning">

<blockquote>
<p>缺点一：本身多了很多概念。但是其属于【渐进式】，我们完全可以使用JS语法先写，等TS语法掌握后再使用TS语法书写。</p>
<p>缺点二：项目初期，TS会增加一些成本。</p>
</blockquote>
</div>

<h3 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h3><ol>
<li>初始化项目</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn init <span class="token operator">--</span>yes</code></pre>

<ol start="2">
<li>安装依赖包</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn add typescript <span class="token operator">--</span>dev</code></pre>

<ol start="3">
<li>新建文件 01-getting-started.ts，并写入如下代码</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 可以完全按照 JavaScript 标准语法编写代码</span>

<span class="token keyword">const</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'TypeScript'</span><span class="token punctuation">)</span></code></pre>

<ol start="4">
<li>执行如下命令</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn tsc <span class="token number">01</span><span class="token operator">-</span>getting<span class="token operator">-</span>started<span class="token punctuation">.</span>ts</code></pre>

<p>此后便可以在项目文件目录中见到生成的同名 js 文件</p>
<p><img src="/blogs/d660c3e3/13.jpg" loading="lazy"></p>
<p>同时可以看到ts文件中代码都被转化为了ECMAScript3标准的代码</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 可以完全按照 JavaScript 标准语法编写代码</span>
<span class="token keyword">var</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello,"</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'TypeScript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<ol start="5">
<li>对ts文件进行类型限制书写（VSCode默认支持TS类型检查，不用等到编译就可以看到错误提示）</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 可以完全按照 JavaScript 标准语法编写代码</span>

<span class="token keyword">const</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'100'</span><span class="token punctuation">)</span></code></pre>



<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>生成配置文件命令：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">yarn tsc <span class="token operator">--</span>init</code></pre>

<p>执行完后，会在根目录生成tsconfig.json文件</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es2015"</span><span class="token punctuation">,</span>       <span class="token comment">// 编译后的js文件所采用的ECMAScript标准</span>
    <span class="token property">"module"</span><span class="token operator">:</span><span class="token string">"commonjs"</span><span class="token punctuation">,</span>		<span class="token comment">// 输出的代码会采用什么样的方式进行模块化</span>
    <span class="token property">"sourceMap"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>		<span class="token comment">// 开启源代码映射，这样就可以使用sourceMap文件调试ts源代码了</span>
    <span class="token property">"outDir"</span><span class="token operator">:</span><span class="token string">"dist"</span><span class="token punctuation">,</span>			<span class="token comment">// 编译结果输出到的文件夹</span>
    <span class="token property">"rootDir"</span><span class="token operator">:</span><span class="token string">"src"</span><span class="token punctuation">,</span>				<span class="token comment">// 源代码所在的文件夹</span>
    <span class="token property">"strict"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>			<span class="token comment">// 开启所有严格检查选项，严格模式下规定要对每个成员规定一个明确的类型（不能隐式推断为any）</span>
    <span class="token property">"strictNullChecks"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">/* 变量不能为空 */</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre>

<div class="danger">

<blockquote>
<p>注意：使用命令编译单个ts文件时，配置文件是不会生效的，只有使用yarn tsc时才会生效。且使用yarn tsc前须确保文件移动到了rootDir中。</p>
</blockquote>
</div>

<p><img src="/blogs/d660c3e3/14.jpg" loading="lazy"></p>
<h3 id="TS原始类型"><a href="#TS原始类型" class="headerlink" title="TS原始类型"></a>TS原始类型</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * 原始数据类型
 */</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">"foobar"</span>

<span class="token keyword">const</span> b<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">100</span>    <span class="token comment">// NaN Infinity</span>

<span class="token keyword">const</span> c<span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span>   <span class="token comment">// false</span>

<span class="token comment">// 与flow不同，ts中上面三种类型声明的值可以为undefined 或 null（tsconfig.json中"strict":false且没有开启"strictNullChecks": true,的情况下）</span>
<span class="token comment">// const d: string = null</span>

<span class="token comment">// void类型声明严格模式下（tsconfig.json中"strict":true）只能为undefined，否则可以为null或undefined</span>
<span class="token keyword">const</span> e<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>

<span class="token keyword">const</span> f<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token keyword">const</span> g<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>

<span class="token comment">// 此处要将symbol类型声明的值直接赋值Symbol()需要将tsconfig.json中的"target"改为"es2015",</span>
<span class="token keyword">const</span> h<span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>



<h3 id="TS标准库声明"><a href="#TS标准库声明" class="headerlink" title="TS标准库声明"></a>TS标准库声明</h3><blockquote>
<p>标准库就是内置对象所对应的声明</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 此处要将symbol类型声明的值直接赋值Symbol()需要将tsconfig.json中的"target"改为"es2015",</span>
<span class="token comment">// 因为如果target为es5，ts会引用es5的标准库，其中并没有Symbol()类型。而es2015中有。</span>
<span class="token keyword">const</span> h<span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Promise也同理</span>
Promise</code></pre>

<blockquote>
<p>修改引用标准库的方法</p>
</blockquote>
<ol>
<li>修改tsconfig.js中的target属性。</li>
<li>在tsconfig.js中新增lib选项</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
  <span class="token string">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token string">"lib"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"ES2015"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token operator">...</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<div class="danger">

<blockquote>
<p>若lib只像上方这样写，会导致ts原先导入的一些DOM库被覆盖掉了，此时使用console.log()等DOM操作就会报错。所以需要修改为如下写法</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">"lib"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"ES2015"</span><span class="token punctuation">,</span>
    <span class="token string">"DOM"</span>	<span class="token comment">/* DOM库中包含了DOM和BOM */</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre>

</div>

<h3 id="TS中文错误消息"><a href="#TS中文错误消息" class="headerlink" title="TS中文错误消息"></a>TS中文错误消息</h3><ol>
<li>控制台错误消息改为中文</li>
</ol>
<p>进行yarn tsc时添加如下配置项，即可提示中文的错误消息</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript">yarn tsc <span class="token operator">--</span>locale zh<span class="token operator">-</span><span class="token constant">CN</span></code></pre>

<p><img src="/blogs/d660c3e3/15.jpg" loading="lazy"></p>
<ol start="2">
<li><p>编辑器错误消息改为中文</p>
<p>进入首选项-&gt;设置中进行修改</p>
</li>
</ol>
<p><img src="/blogs/d660c3e3/16.jpg" loading="lazy"></p>
<p>​        修改完后可看到如下效果：</p>
<p><img src="/blogs/d660c3e3/17.jpg" loading="lazy"></p>
<h3 id="作用域问题"><a href="#作用域问题" class="headerlink" title="作用域问题"></a>作用域问题</h3><blockquote>
<p>在ts文件中，若定义了一个在其它ts文件中已经定义过的变量名，会报错。</p>
<p>因为ts文件中定义的变量是放在全局作用域中的，所以TS去编译时就会出现变量已声明的问题。</p>
</blockquote>
<p>解决方法：</p>
<ol>
<li>使用立即执行函数</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<ol start="2">
<li>使用esModule中的export，因为使用了export后该文件就被视为了一个模块，而模块是拥有专门的模块作用域的。</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>

<h3 id="Object类型"><a href="#Object类型" class="headerlink" title="Object类型"></a>Object类型</h3><blockquote>
<p>TS中的Object类型不是单纯指对象类型，而是指所有的非原始类型（对象、数组、函数）</p>
</blockquote>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// Object 类型</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>  <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token comment">// object的类型声明可以使用函数、对象、数组</span>
<span class="token keyword">const</span> foo<span class="token operator">:</span> <span class="token function-variable function">object</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// [] // &#123;&#125;</span>

<span class="token comment">// &#123;&#125; 的类型声明表示只能使用对象，且赋值类型与声明类型需完全一致，不多不少</span>
<span class="token keyword">const</span> obj<span class="token operator">:</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token string">'string'</span> <span class="token punctuation">&#125;</span></code></pre>

<h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 数组类型</span>

<span class="token comment">// : Array&lt;number>  表示一个纯数字组成的数组</span>
<span class="token keyword">const</span> arr1<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// : number[] 表示一个纯数字组成的数组</span>
<span class="token keyword">const</span> arr2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// ------------------------------------</span>
<span class="token comment">// 基本使用</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 如果是JS，此处需要加类型判断语句，判断每个值是否都为数字，而TS中只需要加number[]</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>prev<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> prev <span class="token operator">+</span> current
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>



<h3 id="元组类型"><a href="#元组类型" class="headerlink" title="元组类型"></a>元组类型</h3><blockquote>
<p>元组，元组就是固定长度和类型的数组        语法：[类型,类型,类型]</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 元组（Tuple）</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保其它示例没有成员冲突</span>

<span class="token comment">// : [number, string] 表名只能传一个数字和一个字符</span>
<span class="token keyword">const</span> tuple<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> string<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'zce'</span>
<span class="token punctuation">]</span>

<span class="token comment">// const age = tuple[0]</span>
<span class="token comment">// const name = tuple[1]</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> name<span class="token punctuation">]</span> <span class="token operator">=</span> tuple

<span class="token comment">// ----------------</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    foo<span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// obj也是一个元组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token comment">// 个人认为：只要是固定长度和类型的数组，就是元组</span></code></pre>

<h3 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 枚举（Enum）</span>
<span class="token comment">// 可以给一组数值起上一个更好理解的名字</span>
<span class="token comment">// 一个枚举中只会存在固定的值，不会存在超出范围的数值</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保其它示例没有成员冲突</span>

<span class="token comment">// 原始写法：使用对象来实现枚举的功能</span>
<span class="token comment">// const PostStatus = &#123;</span>
<span class="token comment">//     Draft: 0,</span>
<span class="token comment">//     Unpublished: 1,</span>
<span class="token comment">//     Published: 2</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// 使用枚举（注意枚举中要使用等号）</span>
<span class="token comment">// enum PostStatus &#123;</span>
<span class="token comment">//     Draft = 0,</span>
<span class="token comment">//     Unpublished = 1,</span>
<span class="token comment">//     Published = 2</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// 枚举中若不指定值，默认会从0开始累加</span>
<span class="token comment">// 如果给第一个值赋了初始值，后面的值就会在器基础之上进行累加 6->7->8</span>
<span class="token comment">// enum PostStatus &#123;</span>
<span class="token comment">//     Draft = 6,</span>
<span class="token comment">//     Unpublished,</span>
<span class="token comment">//     Published</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// 枚举的值也可以是字符串，但由于字符串无法自增长，所以需要给每个成员都初始化值。</span>
<span class="token keyword">enum</span> PostStatus <span class="token punctuation">&#123;</span>
    Draft <span class="token operator">=</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span>
    Unpublished <span class="token operator">=</span> <span class="token string">'bbb'</span><span class="token punctuation">,</span>
    Published <span class="token operator">=</span> <span class="token string">'ccc'</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 使用方式枚举与对象一样。XXX.xxx</span>
<span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token string">'Hello TypeScript'</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token string">'xxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="token punctuation">,</span>
    status<span class="token operator">:</span> PostStatus<span class="token punctuation">.</span>Draft  <span class="token comment">//1 //0</span>
<span class="token punctuation">&#125;</span></code></pre>

<div class="warning">

<blockquote>
<p>注意：枚举的值会编译为一个双向的键值对对象，这样枚举类型的数据，我们既可以通过键来获取值，也可以通过值来获取键。</p>
<p>这样我们就可以通过索引器的方式来获取枚举对象的名称：PostStatus[6] =&gt; Draft。</p>
<p>如果我们确定不会通过索引器的方式来获取枚举对象的名称，那么我们就可以使用常量枚举。</p>
</blockquote>
</div>

<p><img src="/blogs/d660c3e3/18.jpg" loading="lazy"></p>
<blockquote>
<p>常量枚举：</p>
<p><strong>const</strong> enum PostStatus{}</p>
<p>使用常量枚举后，编译后的文件将不存在枚举的编译结果，而使用枚举值的地方会变为一个具体数值</p>
</blockquote>
<p><img src="/blogs/d660c3e3/19.jpg" loading="lazy"></p>
<h3 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h3><blockquote>
<p>函数类型约束主要是对函数的输入输出进行类型限制（分为函数声明与函数表达式）</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 函数类型</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token comment">// 函数声明的类型约束</span>

<span class="token comment">/*
function func1(a: number, b: number): string &#123;
    return 'func1'
&#125;

func1(100, 200)

// 要保证形参与实参完全一致
// func1(100)  // 报错

// func1(100, 200, 300)    // 报错 */</span>

<span class="token comment">// =================================================</span>
<span class="token comment">/* 
// ? 表示可选参数，调用时可传可不传
// 也可以使用es6的默认参数来实现可选参数的效果
// 注意：无论可选参数还是默认参数都得放在参数列表最后
// function func1(a: number, b: number = 200): string &#123;
function func1(a: number, b?: number): string &#123;
    return 'func1'
&#125;

func1(100, 200)

func1(100) 
*/</span>

<span class="token comment">// =================================================</span>
<span class="token comment">/* 
// 可以使用es6的...rest来表示接收任意数量参数
function func1(a: number, b: number = 10, ...rest: number[]): string &#123;
    return 'func1'
&#125; 
*/</span>




<span class="token comment">// 函数表达式的类型约束</span>
<span class="token keyword">const</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> number<span class="token punctuation">,</span> b<span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">'func2'</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> <span class="token function-variable function">func3</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> number<span class="token punctuation">,</span> b<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function-variable function">string</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">'func3'</span>
<span class="token punctuation">&#125;</span></code></pre>



<h3 id="任意类型-any"><a href="#任意类型-any" class="headerlink" title="任意类型(any)"></a>任意类型(any)</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 任意类型（弱类型）</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">function</span> <span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>    <span class="token comment">// 本身JSON.stringify可以接收任意类型的参数，所以此处value应为任意类型的参数</span>
<span class="token punctuation">&#125;</span>

<span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>

<span class="token function">stringify</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> foo<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'string'</span>

foo <span class="token operator">=</span> <span class="token number">100</span>

<span class="token comment">// any类型是动态类型，语法上不会报错，轻易不使用</span></code></pre>

<h3 id="隐式类型推断"><a href="#隐式类型推断" class="headerlink" title="隐式类型推断"></a>隐式类型推断</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 隐式类型推断</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">18</span>    <span class="token comment">// 会被ts推断为Number类型</span>

<span class="token comment">// age = '123' // 报错，因为age已经推断为了Number类型</span>

<span class="token keyword">let</span> foo     <span class="token comment">// 会被ts推断为any类型</span>

foo <span class="token operator">=</span> <span class="token number">100</span>

foo <span class="token operator">=</span> <span class="token string">'string'</span>      <span class="token comment">// 不会报错，因为foo定义时确定为any类型，不会因为上面的赋值为100而改变</span>

<span class="token comment">// 建议为每个变量添加明确的类型</span></code></pre>

<h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><blockquote>
<p>在某些特殊的情况下，ts无法推断出一些变量的具体类型，导致我们无法使用变量</p>
</blockquote>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类型断言</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token comment">// 假定这个 nums 来自一个明确的接口</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>i <span class="token operator">=></span> i <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span>   <span class="token comment">// ts此处会推断res 为Number或undefined，因为它觉得有可能找不到</span>

<span class="token keyword">const</span> square <span class="token operator">=</span> res <span class="token operator">*</span> res    <span class="token comment">// 使用报错</span></code></pre>



<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> num1 <span class="token operator">=</span> res <span class="token keyword">as</span> <span class="token builtin">number</span>  <span class="token comment">// 使用as 做类型断言</span>

<span class="token keyword">const</span> num2 <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span>res    <span class="token comment">// 使用&lt;> 做类型断言，此种写法会与jsx中的标签尝试冲突</span></code></pre>

<div class="warning">

<blockquote>
<p>注意：类型断言并非类型转换，因为类型转换是在代码运行时的一个概念，而类型断言是代码编译过程中的一个概念，编译完成后也就不存在了。</p>
</blockquote>
</div>

<h3 id="接口（Interfaces）"><a href="#接口（Interfaces）" class="headerlink" title="接口（Interfaces）"></a>接口（Interfaces）</h3><blockquote>
<p>接口用来约束对象的结构，一个对象去实现一个接口，那么它必须要拥有接口所约束的所有成员。</p>
<p>接口代码编译后会消失</p>
</blockquote>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 接口</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span>       <span class="token comment">// 此处代码末尾可加分号也可不加</span>
    content<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">printPost</span><span class="token punctuation">(</span>post<span class="token operator">:</span> Post<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">printPost</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token string">'jmz'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>



<h3 id="接口扩展"><a href="#接口扩展" class="headerlink" title="接口扩展"></a>接口扩展</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 可选成员、只读成员、动态成员</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>   <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span>       <span class="token comment">// 此处代码末尾可加分号也可不加</span>
    content<span class="token operator">:</span> <span class="token builtin">string</span>
    subtitle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>       <span class="token comment">// ? 表示subtitle为可选成员，实际就是表示subtitle为string|undefined</span>
    <span class="token keyword">readonly</span> summary<span class="token operator">:</span> <span class="token builtin">string</span>     <span class="token comment">// readonly表示summary为只读成员，初始化后就不可再修改了</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> hello<span class="token operator">:</span> Post <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token string">'xxc'</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token string">'jmz'</span><span class="token punctuation">,</span>
    summary<span class="token operator">:</span> <span class="token string">'mrx'</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// hello.summary = 'xxc'    // 报错</span>

<span class="token comment">// ========================================</span>
<span class="token keyword">interface</span> <span class="token class-name">Cache</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// key不是固定名称，设置完后表示Cache中的值为动态成员，只要满足键值都为string类型即可</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> cache<span class="token operator">:</span> Cache <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

cache<span class="token punctuation">.</span>xxc <span class="token operator">=</span> <span class="token string">'123'</span>
cache<span class="token punctuation">.</span>xxc1 <span class="token operator">=</span> <span class="token string">'123'</span></code></pre>



<h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><blockquote>
<p>描述一类具体对象的抽象成员</p>
<p>ES6以前，JS都是通过函数+原型模拟实现的类。ES6开始JS中有了专门的class。</p>
<p>TS增强了class的相关语法</p>
</blockquote>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类（Class）</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>  <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>	<span class="token comment">// 此处也可以直接赋初值</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token comment">// 直接如此赋值会报错，ts中要求需要先在类中定义</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">&#125;</span>

    <span class="token function">sayHi</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<div class="warning">

<blockquote>
<p>ts中要求要先定义属性，才可在构造函数中进行赋值操作。</p>
</blockquote>
</div>



<h3 id="类的访问修饰符"><a href="#类的访问修饰符" class="headerlink" title="类的访问修饰符"></a>类的访问修饰符</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类的访问修饰符</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>  <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span>     <span class="token comment">// public 默认的类成员标识符</span>
    <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span>     <span class="token comment">// private 表示该属性只能在类的内部进行访问</span>
    <span class="token keyword">protected</span> gender<span class="token operator">:</span> <span class="token builtin">boolean</span>   <span class="token comment">// protected 表示该属性只能在类的内部或子类中访问</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">&#125;</span>

    <span class="token function">sayHi</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>msg<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 若构造函数被设置为了private，则该类无法被实例化或继承。只能在类的内部去创建实例</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tom<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token comment">// console.log(tom.age)    // 报错</span>
<span class="token comment">// console.log(tom.gender)     // 报错</span>

<span class="token comment">// const jack = new Student('xxc', 18)    // 报错</span>
Student<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'xxc'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span></code></pre>



<h3 id="类的只读属性"><a href="#类的只读属性" class="headerlink" title="类的只读属性"></a>类的只读属性</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类的只读属性</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>  <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token keyword">protected</span> <span class="token keyword">readonly</span> gender<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>     <span class="token comment">// 定义为readonly只读属性后，只能在声明时或构造函数中进行初始化，不能在声明后再在构造函数中修改值</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">&#125;</span>

    <span class="token function">sayHi</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>msg<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tom<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre>



<h3 id="类与接口"><a href="#类与接口" class="headerlink" title="类与接口"></a>类与接口</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类与接口</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">interface</span> <span class="token class-name">Eat</span> <span class="token punctuation">&#123;</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">Run</span> <span class="token punctuation">&#123;</span>
    <span class="token function">run</span><span class="token punctuation">(</span>distance<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Eat</span><span class="token punctuation">,</span> Run <span class="token punctuation">&#123;</span>  <span class="token comment">// 通过implements定义了要实现哪些接口后，如果类中没有实现接口中的方法就会报错</span>
    <span class="token comment">// 此处的food仍然要写string类型约束。</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">优雅的进餐: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>food<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">run</span><span class="token punctuation">(</span>distance<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">直立行走: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>distance<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Eat</span><span class="token punctuation">,</span> Run <span class="token punctuation">&#123;</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">呼噜呼噜的吃: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>food<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">run</span><span class="token punctuation">(</span>distance<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">爬行: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>distance<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<div class="warning">

<blockquote>
<p>注意：接口最好细化，去约束一个能力，然后让一个类同时去实现多个接口</p>
</blockquote>
</div>



<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 抽线类</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token comment">// 抽象类与接口类似，用来约束子类中必须要有某些成员，但是抽象类可以包含具体实现，而接口不包含</span>
<span class="token comment">// 一般比较大的类目都推荐用抽象类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>     <span class="token comment">// abstract 表示其为抽象类，且限制了该类只能用来继承不能通过new来创建实例</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">呼噜呼噜的吃: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>food<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">abstract</span> <span class="token function">run</span><span class="token punctuation">(</span>distance<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>    <span class="token comment">// 在方法前加 abstract 表示该方法为抽象方法，不需要方法体</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>
    <span class="token function">run</span><span class="token punctuation">(</span>distance<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'四脚爬行'</span><span class="token punctuation">,</span> distance<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">'嗯西马'</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></code></pre>

<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><blockquote>
<p>定义函数、接口、类时没有指定具体的类型，而是使用的时候再去指定具体类型。这种做法可以极大程度的复用我们的代码。</p>
</blockquote>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 泛型</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// 确保跟其它示例没有成员冲突</span>

<span class="token keyword">function</span> <span class="token function">createNumberArray</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 使用泛型的方式指明Array中的值全为number类型</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Array</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>   <span class="token comment">// es6的fill方法可以填充数组元素的值</span>
    <span class="token keyword">return</span> arr
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">createStringArray</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Array</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> arr
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 将泛型参数定义为T，然后将函数中不明确的类型参数都定义为T</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Array</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> arr
<span class="token punctuation">&#125;</span>

<span class="token comment">// const res = createNumberArray(3, 100)</span>
<span class="token comment">// res => [100, 100, 100]</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span></code></pre>



<h3 id="类型声明"><a href="#类型声明" class="headerlink" title="类型声明"></a>类型声明</h3><blockquote>
<p>一个成员在定义的时候因为种种原因没有声明一个明确的类型，那么我们在使用的时候就可以为其做一些类型声明。</p>
<p>产生的原因：为了考虑兼容一些普通的js模块</p>
</blockquote>
<pre class="language-type" data-language="type"><code class="language-type">&#x2F;&#x2F; 类型声明

import &#123; camelCase &#125; from &#39;lodash&#39;

declare function camelCase(input: string): string

const res &#x3D; camelCase(&#39;hello typed&#39;)

export &#123; &#125; &#x2F;&#x2F; 确保跟其它示例没有成员冲突</code></pre>

<div class="success">

<blockquote>
<p>一般的js库都有专门的类型声明模块，可以在提示的修复操作中看到。</p>
<p>同时，部分模块其内部就有类型声明文件，不用再专门安装类型声明模块。</p>
</blockquote>
</div>

<p><img src="/blogs/d660c3e3/20.jpg" loading="lazy"></p>
<h3 id="在Vue项目中配置TypeScript"><a href="#在Vue项目中配置TypeScript" class="headerlink" title="在Vue项目中配置TypeScript"></a>在Vue项目中配置TypeScript</h3><blockquote>
<p>两种情况:</p>
</blockquote>
<ul>
<li>全新项目:使用Vue CLI脚手架工具创建Vue 项目</li>
<li>已有项目:添加Vue官方配置的TypeScript适配插件</li>
</ul>
<blockquote>
<p>关于编辑器</p>
</blockquote>
<p>&emsp;&emsp;要使用TypeScript开发Vue应用程序，我们强烈建议您使用Visual Studio Code，它为TypeScript提供了极好的“开箱即用”支持。如果你正在使用单文件组件(SFC)，可以安装提供SFC支持以及其他更多实用功能的Vetur插件。<br>&emsp;&emsp;WebStorm同样为TypeScript和Vue提供了“开箱即用”的支持。</p>
<blockquote>
<p>全新项目</p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">vue create vue<span class="token operator">-</span><span class="token keyword">with</span><span class="token operator">-</span>ts</code></pre>

<p><img src="/blogs/d660c3e3/21.jpg" loading="lazy"><img src="/blogs/d660c3e3/22.jpg" loading="lazy"><img src="/blogs/d660c3e3/23.jpg" loading="lazy"><img src="/blogs/d660c3e3/24.jpg" loading="lazy"><img src="/blogs/d660c3e3/25.jpg" loading="lazy"><img src="/blogs/d660c3e3/26.jpg" loading="lazy"><img src="/blogs/d660c3e3/27.jpg" loading="lazy"><img src="/blogs/d660c3e3/28.jpg" loading="lazy"></p>
<p><img src="/blogs/d660c3e3/29.jpg" loading="lazy"></p>
<p>之后开始自动创建项目，然后cd vue-with-ts  +  npm run dev即可启动项目，最终看到如下页面</p>
<img src="/blogs/d660c3e3/30.jpg" style="zoom:50%;" loading="lazy">

<h4 id="项目结构说明"><a href="#项目结构说明" class="headerlink" title="项目结构说明"></a>项目结构说明</h4><blockquote>
<p>在package.json中的一些ts依赖包</p>
</blockquote>
<p><img src="/blogs/d660c3e3/31.jpg" loading="lazy"></p>
<p><img src="/blogs/d660c3e3/32.jpg" loading="lazy"></p>
<blockquote>
<p>可以看到项目中的所有js文件都变为了ts文件</p>
</blockquote>
<p><img src="/blogs/d660c3e3/33.jpg" loading="lazy"></p>
<blockquote>
<p>shims-vue.d.ts、shims-tsx.d.ts文件作用？</p>
</blockquote>
<p>&emsp;&emsp; ts文件默认不支持引入.vue、.tsx结尾的文件，这两个文件用于使得ts能够支持这两类文件的引入。</p>
<h4 id="定义组件的方式"><a href="#定义组件的方式" class="headerlink" title="定义组件的方式"></a>定义组件的方式</h4><blockquote>
<p>使用Options APIs</p>
</blockquote>
<ul>
<li>组件仍然可以使用以前的方式定义(导出组件选项对象，或者使用Vue.extend())</li>
<li>但是当我们导出的是一个普通的对象，此时TypeScript无法推断出对应的类型</li>
<li>至于VScode可以推断出类型成员的原因是因为我们使用了Vue插件</li>
<li>这个插件明确知道我们这里导出的是一个Vue对象</li>
<li>所以我们必须使用vue.extend()方法确保TypeScript 能够有正常的类型推断</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 使用ts写法，此时这个对象是extend方法的参数，具有类型验证效果</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">></span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// this.count++;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// ts语法检查不通过，会报错</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token comment">// 普通定义方式</span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 数字中并没有这个方法，所以这种调用方式就会报错</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<blockquote>
<p>使用Class APIs</p>
</blockquote>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://class-component.vuejs.org/">https://class-component.vuejs.org/</a></li>
</ul>
<p>&emsp;&emsp;在TypeScript下，Vue的组件可以使用一个继承自Vue类型的子类表示，这种类型需要使用Component装饰器去修饰</p>
<p>&emsp;&emsp;装饰器函数接收的参数就是以前的组件选项对象（data、props、methods之类）</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">></span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">"vue-class-component"</span><span class="token punctuation">;</span>

<span class="token comment">// 此种写法达成效果与传统写法一样，只是vue-class-component在内部做了一些处理。</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        size<span class="token operator">:</span>String
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> count<span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">private</span> text<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">'Click me'</span>

	<span class="token keyword">get</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span>

	<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token comment">// this.count.abc();	// 提示出错</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<blockquote>
<p>使用Class APIS + <a target="_blank" rel="noopener" href="https://github.com/kaorun343/vue-property-decorator">vue-property-decorator</a></p>
</blockquote>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>Vue<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> count<span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">private</span> text<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">'Click me'</span>
	@<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> readonly size<span class="token operator">?</span><span class="token operator">:</span>string
    
    <span class="token keyword">get</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span>

	<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">&#125;</span>

	<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'button is mounted'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>这种方式继续放大了class这种组件定义方法。</p>
<h4 id="关于Decorator装饰器语法"><a href="#关于Decorator装饰器语法" class="headerlink" title="关于Decorator装饰器语法"></a>关于Decorator装饰器语法</h4><p>参考文档：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/decorator">https://es6.ruanyifeng.com/#docs/decorator</a></li>
</ul>
<p>Decorator 提案经过了大幅修改，目前还没有定案，不知道语法会不会再变。所以建议了解即可，不建议在生产环境使用。</p>
<p>所以不建议使用Class APIS。而是使用Options APIS中的export default Vue.extend({ … })。</p>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ul>
<li>api/index.ts</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">&#123;</span>
    id<span class="token operator">:</span> <span class="token builtin">string</span>
    author_id<span class="token operator">:</span> <span class="token builtin">string</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span>
    content<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getPosts <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// axios返回的是Promise</span>
    <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        url<span class="token operator">:</span> <span class="token string">'https://cnodejs.org/api/v1/topics'</span><span class="token punctuation">,</span>
        method<span class="token operator">:</span> <span class="token string">'GET'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li><p>App.vue</p>
<ul>
<li><p>OptionsAPI</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getPosts<span class="token punctuation">,</span> Post <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/api/index"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		posts<span class="token operator">:</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		count<span class="token operator">:</span>number<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			posts<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			count<span class="token operator">:</span><span class="token number">0</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>posts <span class="token operator">=</span> posts<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></li>
<li><p>ClassAPI</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">></span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">"vue-class-component"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getPosts<span class="token punctuation">,</span> Post <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/api/index"</span><span class="token punctuation">;</span>

<span class="token comment">// 此种写法达成效果与传统写法一样，只是vue-class-component在内部做了一些处理。</span>
@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">&#123;</span>
	count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	posts<span class="token operator">:</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token comment">// this.count.abc();	// 提示出错</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>posts <span class="token operator">=</span> posts<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre></li>
</ul>
</li>
</ul>
<p>​        </p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>语轻星子</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://xxcijmz.top/blogs/d660c3e3/" title="TypeScript语言">https://xxcijmz.top/blogs/d660c3e3/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/blogs/db275d8a/" rel="prev" title="JavaScript性能优化"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">JavaScript性能优化</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/blogs/daac920/" rel="next" title="ECMA新特性"><span class="post-nav-text">ECMA新特性</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"MnqOxUn1tp2XfaBiRJqcPNC3-MdYXbMMI","appKey":"BUJAYYUt5IhdIDVVvHH8aHMx","placeholder":"来与我一起讨论吧","avatar":null,"pageSize":10,"visitor":false,"highlight":true,"recordIP":false,"enableQQ":true,"meta":["nick"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/blogs/d660c3e3/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">闽ICP备2021017107号-1</a></div><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 语轻星子</span></div><div class="live_time"><span>本博客已运行：</span><span id="display_live_time"></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-09-23T00:03:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#5698c3" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"dialog":{"enable":true},"log":false});</script></body></html>