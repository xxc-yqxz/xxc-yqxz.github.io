<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#5698c3"><meta name="author" content="语轻星子"><meta name="copyright" content="语轻星子"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>CodeWhy-Vue3-TS-学习笔记3 | 轻语馆</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#5698c3"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"xxcijmz.top","root":"/","title":"轻语馆","version":"1.6.2","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"algolia":{"appID":"I6Q6TFSWKC","apiKey":"8299a265813c86a465cc32755761abc9","indexName":"blogs","hits":{"per_page":10}}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="/css/content.css"><script src="//at.alicdn.com/t/font_3171041_jyp164m1jzi.js" async></script><meta name="description" content="TS语法精讲一 任何新技术的出现都是为了解决原有技术的某个痛点。  JavaScript是一门优秀的编程语言吗？  每个人可能观点并不完全一致，但是从很多角度来看，JavaScript是一门非常优秀的编程语言；   而且，可以说在很长一段时间内这个语言不会被代替，并且会在更多的领域被大家广泛使用；    著名的Atwood定律：  Stack Overflow的创立者之一的 Jeff Atwood">
<meta property="og:type" content="article">
<meta property="og:title" content="CodeWhy-Vue3-TS-学习笔记3">
<meta property="og:url" content="https://xxcijmz.top/blogs/3c70d866/index.html">
<meta property="og:site_name" content="轻语馆">
<meta property="og:description" content="TS语法精讲一 任何新技术的出现都是为了解决原有技术的某个痛点。  JavaScript是一门优秀的编程语言吗？  每个人可能观点并不完全一致，但是从很多角度来看，JavaScript是一门非常优秀的编程语言；   而且，可以说在很长一段时间内这个语言不会被代替，并且会在更多的领域被大家广泛使用；    著名的Atwood定律：  Stack Overflow的创立者之一的 Jeff Atwood">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/1.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/2.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/3.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/4.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/5.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/6.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/7.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/8.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/9.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/10.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/11.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/12.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/14.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/16.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/17.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/18.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/19.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/20.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/21.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/22.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/23.jpg">
<meta property="og:image" content="https://xxcijmz.top/blogs/3c70d866/.jpg">
<meta property="article:published_time" content="2022-01-25T10:24:22.000Z">
<meta property="article:modified_time" content="2022-02-16T06:34:19.241Z">
<meta property="article:author" content="语轻星子">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xxcijmz.top/blogs/3c70d866/1.jpg"><script src="/js/ui/mode.js"></script></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="语轻星子"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/xxc-yqxz/xxc-yqxz.github.io/images/avatar.jpg" alt="语轻星子"></a><div class="site-author-name"><a href="/about/">语轻星子</a></div><span class="site-name">轻语馆</span><sub class="site-subtitle">我也会加油，所以你也要加油，这是约定</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">49</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">17</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">18</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/xxc-yqxz/xxc-yqxz.github.io" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=894043590&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1379764422" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/269921139" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/demoShow/" title="布局练习" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-css"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TS%E8%AF%AD%E6%B3%95%E7%B2%BE%E8%AE%B2%E4%B8%80"><span class="toc-number">1.</span> <span class="toc-text">TS语法精讲一</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E7%9A%84%E7%97%9B%E7%82%B9"><span class="toc-number">1.1.</span> <span class="toc-text">JavaScript 的痛点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.</span> <span class="toc-text">类型带来的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%80%9D%E7%BB%B4%E7%9A%84%E7%BC%BA%E5%A4%B1"><span class="toc-number">1.3.</span> <span class="toc-text">类型思维的缺失</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E6%B7%BB%E5%8A%A0%E7%B1%BB%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.4.</span> <span class="toc-text">JavaScript 添加类型约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86TypeScript"><span class="toc-number">1.5.</span> <span class="toc-text">认识TypeScript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.6.</span> <span class="toc-text">TypeScript 的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript-%E7%9A%84%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83"><span class="toc-number">1.7.</span> <span class="toc-text">TypeScript 的编译环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript-%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">1.8.</span> <span class="toc-text">TypeScript 的运行环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">1.9.</span> <span class="toc-text">变量的声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.10.</span> <span class="toc-text">声明变量的关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC"><span class="toc-number">1.11.</span> <span class="toc-text">变量的类型推导</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TS%E8%AF%AD%E6%B3%95%E7%B2%BE%E8%AE%B2%E4%BA%8C"><span class="toc-number">2.</span> <span class="toc-text">TS语法精讲二</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E5%92%8CTypeScript%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">JavaScript 和TypeScript的数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%B1%BB%E5%9E%8B-number-%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">JavaScript类型 - number 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%B1%BB%E5%9E%8B-boolean-%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">JavaScript类型 - boolean 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%B1%BB%E5%9E%8B-string%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.</span> <span class="toc-text">JavaScript类型 - string类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%B1%BB%E5%9E%8B-Array%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.5.</span> <span class="toc-text">JavaScript类型 - Array类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%B1%BB%E5%9E%8B-Object%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.6.</span> <span class="toc-text">JavaScript类型 - Object类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B-any%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.7.</span> <span class="toc-text">TypeScript类型 - any类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B-unknown%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.8.</span> <span class="toc-text">TypeScript类型 - unknown类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B-void%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.9.</span> <span class="toc-text">TypeScript类型 - void类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B-never%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.10.</span> <span class="toc-text">TypeScript类型 - never类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B-tuple%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.11.</span> <span class="toc-text">TypeScript类型 - tuple类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.12.</span> <span class="toc-text">tuple的应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.13.</span> <span class="toc-text">函数的参数和返回值类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">2.14.</span> <span class="toc-text">匿名函数的参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.15.</span> <span class="toc-text">对象类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.16.</span> <span class="toc-text">可选类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.17.</span> <span class="toc-text">联合类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B%E8%A1%A5%E5%85%85"><span class="toc-number">2.18.</span> <span class="toc-text">可选类型补充</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-number">2.19.</span> <span class="toc-text">类型别名</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TS%E8%AF%AD%E6%B3%95%E7%B2%BE%E8%AE%B2%E4%B8%89"><span class="toc-number">3.</span> <span class="toc-text">TS语法精讲三</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">3.1.</span> <span class="toc-text">类型断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">3.2.</span> <span class="toc-text">非空类型断言!</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E9%93%BE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.3.</span> <span class="toc-text">可选链的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.4.</span> <span class="toc-text">?? 和 !! 的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.5.</span> <span class="toc-text">字面量类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E6%8E%A8%E7%90%86"><span class="toc-number">3.6.</span> <span class="toc-text">字面量推理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E7%BC%A9%E5%B0%8F"><span class="toc-number">3.7.</span> <span class="toc-text">类型缩小</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof"><span class="toc-number">3.7.1.</span> <span class="toc-text">typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E7%AD%89%E7%BC%A9%E5%B0%8F"><span class="toc-number">3.7.2.</span> <span class="toc-text">平等缩小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instance-of"><span class="toc-number">3.7.3.</span> <span class="toc-text">instance of</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#in"><span class="toc-number">3.7.4.</span> <span class="toc-text">in</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript-%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.8.</span> <span class="toc-text">TypeScript 函数类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.9.</span> <span class="toc-text">参数的可选类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">3.10.</span> <span class="toc-text">参数的默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0"><span class="toc-number">3.11.</span> <span class="toc-text">剩余参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E6%8E%A8%E5%AF%BC%E7%9A%84this%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.12.</span> <span class="toc-text">可推导的this类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E7%A1%AE%E5%AE%9A%E7%9A%84this%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.13.</span> <span class="toc-text">不确定的this类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TS%E8%AF%AD%E6%B3%95%E7%B2%BE%E8%AE%B2%E5%9B%9B"><span class="toc-number">4.</span> <span class="toc-text">TS语法精讲四</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E9%87%8D%E8%BD%BD"><span class="toc-number">4.1.</span> <span class="toc-text">函数的重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">4.2.</span> <span class="toc-text">联合类型与函数重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">4.3.</span> <span class="toc-text">认识类的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.4.</span> <span class="toc-text">类的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">4.5.</span> <span class="toc-text">类的继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%A4%9A%E6%80%81"><span class="toc-number">4.6.</span> <span class="toc-text">类的多态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">4.7.</span> <span class="toc-text">类的成员修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7-readonly"><span class="toc-number">4.8.</span> <span class="toc-text">只读属性 readonly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#getter-setter"><span class="toc-number">4.9.</span> <span class="toc-text">getter &#x2F; setter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="toc-number">4.10.</span> <span class="toc-text">静态成员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%BC%94%E7%BB%83"><span class="toc-number">4.11.</span> <span class="toc-text">抽象类演练</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.12.</span> <span class="toc-text">类的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">4.13.</span> <span class="toc-text">接口的声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.14.</span> <span class="toc-text">索引类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.15.</span> <span class="toc-text">函数类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%BB%A7%E6%89%BF"><span class="toc-number">4.16.</span> <span class="toc-text">接口继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.17.</span> <span class="toc-text">交叉类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%92%8Ctype%E5%8C%BA%E5%88%AB"><span class="toc-number">4.18.</span> <span class="toc-text">interface和type区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TS%E8%AF%AD%E6%B3%95%E7%B2%BE%E8%AE%B2%E4%BA%94"><span class="toc-number">5.</span> <span class="toc-text">TS语法精讲五</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="toc-number">5.1.</span> <span class="toc-text">字面量赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.2.</span> <span class="toc-text">TypeScript枚举类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%B3%9B%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">认识泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A1%A5%E5%85%85"><span class="toc-number">5.4.</span> <span class="toc-text">泛型的基本补充</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">5.5.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">5.6.</span> <span class="toc-text">泛型类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.7.</span> <span class="toc-text">泛型约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">5.8.</span> <span class="toc-text">模块化开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-number">5.9.</span> <span class="toc-text">类型的查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">5.10.</span> <span class="toc-text">内置类型声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">5.11.</span> <span class="toc-text">外部定义类型声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">5.12.</span> <span class="toc-text">自定义类型声明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E7%B1%BB"><span class="toc-number">5.12.1.</span> <span class="toc-text">声明变量、函数、类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%A8%A1%E5%9D%97"><span class="toc-number">5.12.2.</span> <span class="toc-text">声明模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="toc-number">5.13.</span> <span class="toc-text">声明文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">5.14.</span> <span class="toc-text">声明命名空间</span></a></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/JavaScript/" style="font-size: 27px; color: #8cbbd1">JavaScript</a> <a href="/tags/React/" style="font-size: 24px; color: #8dbad0">React</a> <a href="/tags/TypeScript/" style="font-size: 15px; color: #92b6cf">TypeScript</a> <a href="/tags/Vite/" style="font-size: 12px; color: #93b5cf">Vite</a> <a href="/tags/Vue/" style="font-size: 30px; color: #8abcd1">Vue</a> <a href="/tags/Vue3/" style="font-size: 15px; color: #92b6cf">Vue3</a> <a href="/tags/Webpack/" style="font-size: 15px; color: #92b6cf">Webpack</a> <a href="/tags/eggjs/" style="font-size: 18px; color: #90b7d0">eggjs</a> <a href="/tags/serverless/" style="font-size: 18px; color: #90b7d0">serverless</a> <a href="/tags/uniapp/" style="font-size: 21px; color: #8fb9d0">uniapp</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15px; color: #92b6cf">小程序</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 15px; color: #92b6cf">工程化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 12px; color: #93b5cf">日记</a> <a href="/tags/%E6%97%A5%E8%AF%AD/" style="font-size: 12px; color: #93b5cf">日语</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 21px; color: #8fb9d0">概念</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 12px; color: #93b5cf">部署</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px; color: #92b6cf">面试</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 15px; color: #92b6cf">项目</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://xxcijmz.top/blogs/3c70d866/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="语轻星子"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="轻语馆"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">CodeWhy-Vue3-TS-学习笔记3</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2022-01-25 18:24:22" itemprop="dateCreated datePublished" datetime="2022-01-25T18:24:22+08:00">2022-01-25</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2022-02-16 14:34:19" itemprop="dateModified" datetime="2022-02-16T14:34:19+08:00">2022-02-16</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">15.6k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">62m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/CodeWhy/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">CodeWhy</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/CodeWhy/Vue3-TS/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Vue3+TS</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/TypeScript/" style="--text-color:#317AC6"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">TypeScript</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#5698c3;"><h1 id="TS语法精讲一"><a href="#TS语法精讲一" class="headerlink" title="TS语法精讲一"></a>TS语法精讲一</h1><ul>
<li><p><strong>任何新技术的出现都是为了解决原有技术的某个痛点。</strong></p>
</li>
<li><p><strong>JavaScript是一门优秀的编程语言吗？</strong></p>
<ul>
<li><p>每个人可能观点并不完全一致，但是从很多角度来看，JavaScript是一门非常优秀的编程语言； </p>
</li>
<li><p>而且，可以说在很长一段时间内这个语言不会被代替，并且会在更多的领域被大家广泛使用；</p>
</li>
</ul>
</li>
<li><p><strong>著名的Atwood定律：</strong></p>
<ul>
<li><p>Stack Overflow的创立者之一的 <strong>Jeff Atwood</strong> 在2007年提出了著名的 <strong>Atwood定律</strong>。 </p>
</li>
<li><p>any application that can be written in JavaScript, will eventually be written in JavaScript.</p>
</li>
<li><p>任何可以使用JavaScript来实现的应用都最终都会使用JavaScript实现。</p>
</li>
</ul>
</li>
<li><p>其实我们已经看到了，这句话正在一步步被应验：</p>
<ul>
<li><p>Web端的开发我们一直都是使用JavaScript； </p>
</li>
<li><p>移动端开发可以借助于ReactNative、Weex、Uniapp等框架实现跨平台开发；</p>
</li>
<li><p>小程序端的开发也是离不开JavaScript； </p>
</li>
<li><p>桌面端应用程序我们可以借助于Electron来开发；</p>
</li>
<li><p>服务器端开发可以借助于Node环境使用JavaScript来开发。</p>
</li>
</ul>
</li>
</ul>
<h2 id="JavaScript-的痛点"><a href="#JavaScript-的痛点" class="headerlink" title="JavaScript 的痛点"></a>JavaScript 的痛点</h2><ul>
<li><p>随着近几年前端领域的快速发展，让JavaScript迅速被普及和受广大开发者的喜爱，借助于JavaScript本身的强大，也让使用JavaScript开发的人员越来越多。 </p>
</li>
<li><p><strong>优秀的JavaScript没有缺点吗？</strong></p>
<ul>
<li><p>其实上由于各种历史因素，JavaScript语言本身存在很多的缺点； </p>
</li>
<li><p>比如ES5以及之前的使用的var关键字关于作用域的问题；</p>
</li>
<li><p>比如最初JavaScript设计的数组类型并不是连续的内存空间； </p>
</li>
<li><p>比如直到今天JavaScript也没有加入类型检测这一机制；</p>
</li>
</ul>
</li>
<li><p><strong>JavaScript正在慢慢变好</strong></p>
<ul>
<li><p>不可否认的是，JavaScript正在慢慢变得越来越好，无论是从底层设计还是应用层面。</p>
</li>
<li><p>ES6、7、8等的推出，每次都会让这门语言更加现代、更加安全、更加方便。 </p>
</li>
<li><p>但是直到今天，JavaScript在类型检测上依然是毫无进展（为什么类型检测如此重要，我后面会聊到）。</p>
</li>
</ul>
</li>
</ul>
<h2 id="类型带来的问题"><a href="#类型带来的问题" class="headerlink" title="类型带来的问题"></a>类型带来的问题</h2><ul>
<li><p>首先你需要知道，编程开发中我们有一个共识：<strong>错误出现的越早越好</strong></p>
<ul>
<li><p>能在<strong>写代码的时候</strong>发现错误，就不要在<strong>代码编译时</strong>再发现（IDE的优势就是在代码编写过程中帮助我们发现错误）。</p>
</li>
<li><p>能在<strong>代码编译期间</strong>发现错误，就不要在<strong>代码运行期间</strong>再发现（类型检测就可以很好的帮助我们做到这一点）。</p>
</li>
<li><p>能在开发阶段发现错误，就不要在测试期间发现错误，能在测试期间发现错误，就不要在上线后发现错误。</p>
</li>
</ul>
</li>
<li><p>现在我们想探究的就是如何在 <strong>代码编译期间</strong> 发现代码的错误：</p>
<ul>
<li>JavaScript可以做到吗？不可以，我们来看下面这段经常可能出现的代码问题。</li>
</ul>
</li>
</ul>
<p><img src="/blogs/3c70d866/1.jpg" loading="lazy"></p>
<ul>
<li><p><strong>这是我们一个非常常见的错误：</strong></p>
<ul>
<li><p>这个错误很大的原因就是因为JavaScript没有对我们传入的参数进行任何的限制，只能等到运行期间才发现这个错误； </p>
</li>
<li><p>并且当这个错误产生时，会影响后续代码的继续执行，也就是整个项目都因为一个小小的错误而深入崩溃； </p>
</li>
</ul>
</li>
<li><p><strong>当然，你可能会想：我怎么可能犯这样低级的错误呢？</strong></p>
<ul>
<li><p>当我们写像我们上面这样的简单的demo时，这样的错误很容易避免，并且当出现错误时，也很容易检查出来；</p>
</li>
<li><p>但是当我们开发一个大型项目时呢？你能保证自己一定不会出现这样的问题吗？而且如果我们是调用别人的类库，又如何知道让我们传入的到底是什么样的参数呢？ </p>
</li>
</ul>
</li>
<li><p>但是，如果我们可以给JavaScript加上很多限制，在开发中就可以很好的避免这样的问题了： </p>
<ul>
<li><p>比如我们的getLength函数中str是一个必传的类型，调用者没有传编译期间就会报错；</p>
</li>
<li><p>比如我们要求它的必须是一个String类型，传入其他类型就直接报错；</p>
</li>
<li><p>那么就可以知道很多的错误问题在编译期间就被发现，而不是等到运行时再去发现和修改；</p>
</li>
</ul>
</li>
</ul>
<h2 id="类型思维的缺失"><a href="#类型思维的缺失" class="headerlink" title="类型思维的缺失"></a>类型思维的缺失</h2><ul>
<li><p>我们已经简单体会到没有类型检查带来的一些问题，JavaScript因为从设计之初就没有考虑类型的约束问题，所以造成了前端开发人员关于<strong>类型思维的缺失</strong>： </p>
<ul>
<li><p><strong>前端开发人员</strong>通常不关心变量或者参数是什么类型的，如果在必须确定类型时，我们往往需要使用各种判断验证； </p>
</li>
<li><p>从其他方向转到前端的人员，也会因为没有类型约束，而总是担心自己的代码不安全，不够健壮； </p>
</li>
</ul>
</li>
<li><p>所以我们经常会说JavaScript<strong>不适合开发大型项目</strong>，因为当项目一旦庞大起来，这种宽松的类型约束会带来非常多的安全隐患，多人员开发它们之间也没有<strong>良好的类型契约</strong>。 </p>
<ul>
<li><p>比如当我们去实现一个核心类库时，如果没有类型约束，那么需要对别人传入的参数进行各种验证来保证我们代码的健壮性； </p>
</li>
<li><p>比如我们去调用别人的函数，对方没有对函数进行任何的注释，我们只能去看里面的逻辑来理解这个函数需要传入什么参数，返回值是什么类型；</p>
</li>
</ul>
</li>
</ul>
<h2 id="JavaScript-添加类型约束"><a href="#JavaScript-添加类型约束" class="headerlink" title="JavaScript 添加类型约束"></a>JavaScript 添加类型约束</h2><ul>
<li><p><strong>为了弥补JavaScript类型约束上的缺陷，增加类型约束，很多公司推出了自己的方案：</strong></p>
<ul>
<li><p>2014年，Facebook推出了flow来对JavaScript进行类型检查； </p>
</li>
<li><p>同年，Microsoft微软也推出了TypeScript1.0版本；</p>
</li>
<li><p>他们都致力于为JavaScript提供类型检查； </p>
</li>
</ul>
</li>
<li><p>而现在，无疑<strong>TypeScript已经完全胜出</strong>： </p>
<ul>
<li><p>Vue2.x的时候采用的就是flow来做类型检查； </p>
</li>
<li><p>Vue3.x已经全线转向TypeScript，98.3%使用TypeScript进行了重构； </p>
</li>
<li><p>而Angular在很早期就使用TypeScript进行了项目重构并且需要使用TypeScript来进行开发；</p>
</li>
<li><p>而甚至Facebook公司一些自己的产品也在使用TypeScript； </p>
</li>
</ul>
</li>
<li><p>学习TypeScript不仅仅可以为我们的代码增加类型约束，而且可以培养我们前端程序员具备类型思维。</p>
</li>
</ul>
<h2 id="认识TypeScript"><a href="#认识TypeScript" class="headerlink" title="认识TypeScript"></a>认识TypeScript</h2><ul>
<li><p>虽然我们已经知道TypeScript是干什么的了，也知道它解决了什么样的问题，但是我们还是需要全面的来认识一下TypeScript到底是什么？</p>
</li>
<li><p><strong>我们来看一下TypeScript在GitHub和官方上对自己的定义：</strong></p>
<ul>
<li><p>GitHub说法：TypeScript is a superset of JavaScript that compiles to clean JavaScript output.</p>
</li>
<li><p>TypeScript官网：TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.</p>
</li>
<li><p>翻译一下：TypeScript是拥有类型的JavaScript超集，它可以编译成普通、干净、完整的JavaScript代码。</p>
</li>
</ul>
</li>
<li><p>怎么理解上面的话呢？</p>
<ul>
<li><p>我们可以将TypeScript理解成加强版的JavaScript。 </p>
</li>
<li><p>JavaScript所拥有的特性，TypeScript全部都是支持的，并且它紧随ECMAScript的标准，所以ES6、ES7、ES8等新语法标准，它都是支持的；</p>
</li>
<li><p>并且在语言层面上，不仅仅增加了类型约束，而且包括一些语法的扩展，比如枚举类型（Enum）、元组类型（Tuple）等；</p>
</li>
<li><p>TypeScript在实现新特性的同时，总是保持和ES标准的同步甚至是领先； </p>
</li>
<li><p>并且TypeScript最终会被编译成JavaScript代码，所以你并不需要担心它的兼容性问题，在编译时也不需要借助于Babel这样的工具； </p>
</li>
<li><p>所以，我们可以把TypeScript理解成更加强大的JavaScript，不仅让JavaScript更加安全，而且给它带来了诸多好用的好用特性；</p>
</li>
</ul>
</li>
</ul>
<h2 id="TypeScript-的特点"><a href="#TypeScript-的特点" class="headerlink" title="TypeScript 的特点"></a>TypeScript 的特点</h2><ul>
<li><p>官方对TypeScript有几段特点的描述，我觉得非常到位（虽然有些官方，了解一下），我们一起来分享一下：</p>
</li>
<li><p><strong>始于JavaScript，归于JavaScript</strong></p>
<ul>
<li><p>TypeScript从今天数以百万计的JavaScript开发者所熟悉的语法和语义开始。使用现有的JavaScript代码，包括流行的JavaScript库，并从JavaScript代码中调用TypeScript代码；</p>
</li>
<li><p>TypeScript可以编译出纯净、 简洁的JavaScript代码，并且可以运行在任何浏览器上、Node.js环境中和任何支持ECMAScript 3（或更高版本）的JavaScript引擎中； </p>
</li>
</ul>
</li>
<li><p><strong>TypeScript是一个强大的工具，用于构建大型项目</strong></p>
<ul>
<li><p>类型允许JavaScript开发者在开发JavaScript应用程序时使用高效的开发工具和常用操作比如静态检查和代码重构； </p>
</li>
<li><p>类型是可选的，类型推断让一些类型的注释使你的代码的静态验证有很大的不同。类型让你定义软件组件之间的接口和洞察现有JavaScript库的行为； </p>
</li>
</ul>
</li>
<li><p><strong>拥有先进的 JavaScript</strong></p>
<ul>
<li><p>TypeScript提供最新的和不断发展的JavaScript特性，包括那些来自2015年的ECMAScript和未来的提案中的特性，比如异步功能和 Decorators，以帮助建立健壮的组件； </p>
</li>
<li><p>这些特性为高可信应用程序开发时是可用的，但是会被编译成简洁的ECMAScript3（或更新版本）的JavaScript；</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>正是因为有这些特性，TypeScript目前已经在很多地方被应用：</p>
<ul>
<li><p>Angular源码在很早就使用TypeScript来进行了重写，并且开发Angular也需要掌握TypeScript； </p>
</li>
<li><p>Vue3源码也采用了TypeScript进行重写，在前面阅读源码时我们看到大量TypeScript的语法； </p>
</li>
<li><p>包括目前已经变成最流行的编辑器VSCode也是使用TypeScript来完成的；</p>
</li>
<li><p>包括在React中已经使用的ant-design的UI库，也大量使用TypeScript来编写；</p>
</li>
<li><p>目前公司非常流行Vue3+TypeScript、React+TypeScript的开发模式； </p>
</li>
<li><p>包括小程序开发，也是支持TypeScript的；</p>
</li>
</ul>
</li>
</ul>
<h2 id="TypeScript-的编译环境"><a href="#TypeScript-的编译环境" class="headerlink" title="TypeScript 的编译环境"></a>TypeScript 的编译环境</h2><ul>
<li><p>在前面我们提到过，TypeScript最终会被编译成JavaScript来运行，所以我们需要搭建对应的环境： </p>
<ul>
<li>我们需要在电脑上安装TypeScript，这样就可以通过TypeScript的Compiler将其编译成JavaScript； </li>
</ul>
<p><img src="/blogs/3c70d866/2.jpg" loading="lazy"></p>
</li>
<li><p>所以，我们先可以进行全局的安装：</p>
</li>
</ul>
<pre class="language-none"><code class="language-none"># 安装命令
npm install typescript -g

# 查看版本
tsc --version</code></pre>

<h2 id="TypeScript-的运行环境"><a href="#TypeScript-的运行环境" class="headerlink" title="TypeScript 的运行环境"></a>TypeScript 的运行环境</h2><ul>
<li><p>如果我们每次为了查看TypeScript代码的运行效果，都通过经过两个步骤的话就太繁琐了：</p>
<ul>
<li><p>第一步：通过tsc编译TypeScript到JavaScript代码；</p>
</li>
<li><p>第二步：在浏览器或者Node环境下运行JavaScript代码；</p>
</li>
</ul>
</li>
<li><p>是否可以简化这样的步骤呢？</p>
<ul>
<li><p>比如编写了TypeScript之后可以直接运行在浏览器上？</p>
</li>
<li><p>比如编写了TypeScript之后，直接通过node的命令来执行？</p>
</li>
</ul>
</li>
<li><p>上面提到的两种方式，可以通过两个解决方案来完成：</p>
<ul>
<li><p>方式一：通过webpack，配置本地的TypeScript编译环境和开启一个本地服务，可以直接运行在浏览器上；</p>
</li>
<li><p>方式二：通过ts-node库，为TypeScript的运行提供执行环境；</p>
</li>
</ul>
</li>
<li><p>方式一：webpack配置</p>
<ol>
<li>首先进入一个项目，使用 <code>npm init</code>进行初始化管理</li>
<li>安装如下 webpack 依赖</li>
</ol>
<pre class="language-none"><code class="language-none">npm install webpack webpack-cli -D
npm install webpack-dev-server -D
npm install html-webpack-plugin -D</code></pre>

<ol start="3">
<li>安装如下 ts 文件编译依赖</li>
</ol>
<pre class="language-none"><code class="language-none">npm install ts-loader typescript -D</code></pre>

<ol start="4">
<li>通过 <code>tsc --init</code> 初始化项目的 ts 配置文件</li>
<li>新建 webpack.config.js ，来配置 ts 文件编译规则：</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/main.ts'</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token string">"bundle.js"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    resolve<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".ts"</span><span class="token punctuation">,</span> <span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".cjs"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                loader<span class="token operator">:</span> <span class="token string">'ts-loader'</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            template<span class="token operator">:</span> <span class="token string">'./index.html'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre>

<ol start="6">
<li>在 package.json 中配置启动脚本</li>
</ol>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --mode=production"</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code></pre>

<ol start="7">
<li>执行 <code>npm run build</code> 执行命令，生成对应的 js 文件后，新建一个 html 文件，引入 js 文件。便可在浏览器打开查看效果</li>
</ol>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./dist/bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></li>
<li><p>方式二：安装ts-node</p>
<pre class="language-none"><code class="language-none">npm install ts-node -g</code></pre>
<ul>
<li>另外ts-node需要依赖 tslib 和 @types/node 两个包： </li>
</ul>
<pre class="language-none"><code class="language-none">npm install tslib @types&#x2F;node -g</code></pre>

<ul>
<li>现在，我们可以直接通过 ts-node 来运行TypeScript的代码：</li>
</ul>
<pre class="language-none"><code class="language-none">ts-node math.ts</code></pre></li>
</ul>
<h2 id="变量的声明"><a href="#变量的声明" class="headerlink" title="变量的声明"></a>变量的声明</h2><ul>
<li><p>我们已经强调过很多次，在TypeScript中定义变量需要指定 <strong>标识符</strong> 的类型。 </p>
</li>
<li><p>所以完整的声明格式如下： </p>
<ul>
<li><p>声明了类型后TypeScript就会进行类型检测，声明的类型可以称之为类型注解； </p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span><span class="token operator">/</span><span class="token keyword">let</span><span class="token operator">/</span><span class="token keyword">const</span> 标识符<span class="token operator">:</span> 数据类型 <span class="token operator">=</span> 赋值<span class="token punctuation">;</span></code></pre></li>
</ul>
</li>
<li><p>比如我们声明一个message，完整的写法如下：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// string: TypeScript 中的字符串类型</span>
<span class="token comment">// String：JavaScript 的字符串包装类的类型</span>
<span class="token keyword">const</span> message<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">"Hello World"</span></code></pre>

<ul>
<li><p>注意：这里的string是小写的，和String是有区别的 </p>
</li>
<li><p>string是TypeScript中定义的字符串类型，String是ECMAScript中定义的一个类</p>
</li>
</ul>
</li>
<li><p>如果我们给message赋值其他类型的值，那么就会报错：</p>
<p><img src="/blogs/3c70d866/3.jpg" loading="lazy"></p>
</li>
</ul>
<h2 id="声明变量的关键字"><a href="#声明变量的关键字" class="headerlink" title="声明变量的关键字"></a>声明变量的关键字</h2><ul>
<li>在TypeScript定义变量（标识符）和ES6之后一致，可以使用var、let、const来定义。 </li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> name<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">"why"</span>
<span class="token keyword">let</span> age<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">const</span> height<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">1.88</span></code></pre>

<ul>
<li>当然，在tslint中并不推荐使用var来声明变量： <ul>
<li>可见，在TypeScript中并不建议再使用var关键字了，主要原因和ES6升级后let和var的区别是一样的，var是没有块级作用域的，会引起很多的问题，这里不再展开探讨。</li>
</ul>
</li>
</ul>
<h2 id="变量的类型推导"><a href="#变量的类型推导" class="headerlink" title="变量的类型推导"></a>变量的类型推导</h2><ul>
<li><p>在开发中，有时候为了方便起见我们并不会在声明每一个变量时都写上对应的数据类型，我们更希望可以通过TypeScript本身的特性帮助我们推断出对应的变量类型： </p>
<p><img src="/blogs/3c70d866/4.jpg" loading="lazy"></p>
</li>
<li><p>如果我们给message赋值123： </p>
<p><img src="/blogs/3c70d866/5.jpg" loading="lazy"></p>
</li>
<li><p>这是因为在一个变量第一次赋值时，会根据后面的赋值内容的类型，来推断出变量的类型：</p>
<ul>
<li>上面的message就是因为后面赋值的是一个string类型，所以message虽然没有明确的说明，但是依然是一个string类型</li>
</ul>
</li>
</ul>
<h1 id="TS语法精讲二"><a href="#TS语法精讲二" class="headerlink" title="TS语法精讲二"></a>TS语法精讲二</h1><h2 id="JavaScript-和TypeScript的数据类型"><a href="#JavaScript-和TypeScript的数据类型" class="headerlink" title="JavaScript 和TypeScript的数据类型"></a>JavaScript 和TypeScript的数据类型</h2><ul>
<li>我们经常说TypeScript是JavaScript的一个超集：</li>
</ul>
<p><img src="/blogs/3c70d866/6.jpg" loading="lazy"></p>
<h2 id="JavaScript类型-number-类型"><a href="#JavaScript类型-number-类型" class="headerlink" title="JavaScript类型 - number 类型"></a>JavaScript类型 - number 类型</h2><ul>
<li><p>数字类型是我们开发中经常使用的类型，TypeScript和JavaScript一样，不区分整数类型（int）和浮点型（double），统一为number类型。 </p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> num<span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">123</span>
num <span class="token operator">=</span> <span class="token number">222</span></code></pre></li>
<li><p>如果你学习过ES6应该知道，ES6新增了二进制和八进制的表示方法，而TypeScript也是支持二进制、八进制、十六进制的表示：</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> num1<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> num2<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0b111</span>    <span class="token comment">// 二进制</span>
<span class="token keyword">let</span> num3<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0o456</span>    <span class="token comment">// 八进制</span>
<span class="token keyword">let</span> num4<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0x123abcdef</span>    <span class="token comment">// 十六进制</span></code></pre></li>
</ul>
<h2 id="JavaScript类型-boolean-类型"><a href="#JavaScript类型-boolean-类型" class="headerlink" title="JavaScript类型 - boolean 类型"></a>JavaScript类型 - boolean 类型</h2><ul>
<li>boolean类型只有两个取值：true和false，非常简单</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> flag<span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span>
flag <span class="token operator">=</span> <span class="token boolean">false</span>
flag <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">></span> <span class="token number">30</span></code></pre>



<h2 id="JavaScript类型-string类型"><a href="#JavaScript类型-string类型" class="headerlink" title="JavaScript类型 - string类型"></a>JavaScript类型 - string类型</h2><ul>
<li>string类型是字符串类型，可以使用单引号或者双引号表示：</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> message1<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'hello world'</span>
<span class="token keyword">let</span> message2<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">"Hello World"</span></code></pre>

<ul>
<li>同时也支持ES6的模板字符串来拼接变量和字符串：</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"why"</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token number">1.88</span>

<span class="token keyword">let</span> message3 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> age:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> height:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message3<span class="token punctuation">)</span></code></pre>



<h2 id="JavaScript类型-Array类型"><a href="#JavaScript类型-Array类型" class="headerlink" title="JavaScript类型 - Array类型"></a>JavaScript类型 - Array类型</h2><ul>
<li>数组类型的定义也非常简单，有两种方式：</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> names<span class="token operator">:</span>Array<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 不推荐（在 react jsx 中有冲突 &lt;div>&lt;/div>）</span>
<span class="token keyword">const</span> names2<span class="token operator">:</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 推荐 </span>

names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span></code></pre>

<ul>
<li><p>如果添加其他类型到数组中，那么会报错：</p>
<p><img src="/blogs/3c70d866/7.jpg" loading="lazy"></p>
</li>
</ul>
<h2 id="JavaScript类型-Object类型"><a href="#JavaScript类型-Object类型" class="headerlink" title="JavaScript类型 - Object类型"></a>JavaScript类型 - Object类型</h2><ul>
<li>object对象类型可以用于描述一个对象：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> info<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>但是从info中我们不能获取数据，也不能设置数据，因为编译过程中会认为其是一个 object 类型，而原始的 object 类型是没有 name 属性的：</li>
</ul>
<p><img src="/blogs/3c70d866/8.jpg" loading="lazy"></p>
<ul>
<li>所以 object 类型最好让其做类型推导，而不是我们自己手动添加类型。</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> info<span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre>



<p>##JavaScript类型 - null和undefined类型</p>
<ul>
<li><p>在 JavaScript 中，undefined 和 null 是两个基本数据类型。</p>
</li>
<li><p>在TypeScript中，它们各自的类型也是undefined和null，也就意味着它们既是实际的值，也是自己的类型：</p>
</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> n1<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>    <span class="token comment">// null 类型只有一个值：null</span>
<span class="token keyword">let</span> n2<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>     <span class="token comment">// undefined 类型只有一个值：undefined</span></code></pre>



<p>##JavaScript类型 - Symbol类型</p>
<ul>
<li><p>在ES5中，如果我们是不可以在对象中添加相同的属性名称的，比如下面的做法： </p>
<p><img src="/blogs/3c70d866/9.jpg" loading="lazy"></p>
</li>
<li><p>通常我们的做法是定义两个不同的属性名字：比如identity1和identity2。 </p>
</li>
<li><p>但是我们也可以通过symbol来定义相同的名称，因为Symbol函数返回的是不同的值：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> title1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> title2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span>title1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">"程序员"</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>title2<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">"老师"</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="TypeScript类型-any类型"><a href="#TypeScript类型-any类型" class="headerlink" title="TypeScript类型 - any类型"></a>TypeScript类型 - any类型</h2><ul>
<li><p>在某些情况下，我们确实无法确定一个变量的类型，并且可能它会发生一些变化，这个时候我们可以使用any类型（类似于Dart语言中的dynamic类型）。</p>
</li>
<li><p>any类型有点像一种讨巧的TypeScript手段：</p>
<ul>
<li><p>我们可以对any类型的变量进行任何的操作，包括获取不存在的属性、方法；</p>
</li>
<li><p>我们给一个any类型的变量赋值任何的值，比如数字、字符串的值；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 当进行一些类型断言 as any</span>
<span class="token comment">// 在不想给某些JavaScript 添加具体的数据类型时（跟原生的JavaScript一样）</span>
<span class="token keyword">let</span> message<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span>

message <span class="token operator">=</span> <span class="token number">123</span>
message <span class="token operator">=</span> <span class="token boolean">true</span>
message <span class="token operator">=</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></code></pre></li>
<li><p>如果对于某些情况的处理过于繁琐不希望添加规定的类型注解，或者在引入一些第三方库时，缺失了类型注解，这个时候我们可以使用any： </p>
<ul>
<li>包括在Vue源码中，也会使用到any来进行某些类型的适配；</li>
</ul>
</li>
</ul>
<h2 id="TypeScript类型-unknown类型"><a href="#TypeScript类型-unknown类型" class="headerlink" title="TypeScript类型 - unknown类型"></a>TypeScript类型 - unknown类型</h2><ul>
<li><p>unknown是TypeScript中比较特殊的一种类型，它用于描述类型不确定的变量。</p>
</li>
<li><p>什么意思呢？我们来看下面的场景：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">'abc'</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token number">123</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">// unknown 类型可以赋值给any和unknown类型</span>
<span class="token comment">// any 类型可以赋值给任意类型</span>
<span class="token comment">// let result: any</span>
<span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    result <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    result <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> message<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> result

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="TypeScript类型-void类型"><a href="#TypeScript类型-void类型" class="headerlink" title="TypeScript类型 - void类型"></a>TypeScript类型 - void类型</h2><ul>
<li><p>void通常用来指定一个函数是没有返回值的，那么它的返回值就是void类型：</p>
<ul>
<li>我们可以将null和undefined赋值给void类型，也就是函数可以返回null或者undefined</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token operator">:</span> number<span class="token punctuation">,</span> num2<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>这个函数我们没有写任何类型，那么它默认返回值的类型就是void的，我们也可以显示的来指定返回值是void：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="TypeScript类型-never类型"><a href="#TypeScript类型-never类型" class="headerlink" title="TypeScript类型 - never类型"></a>TypeScript类型 - never类型</h2><ul>
<li><p>never 表示永远不会发生值的类型，比如一个函数：</p>
<ul>
<li><p>如果一个函数中是一个死循环或者抛出一个异常，那么这个函数会返回东西吗？</p>
</li>
<li><p>不会，那么写void类型或者其他类型作为返回值类型都不合适，我们就可以使用never类型；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 死循环</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>never有什么样的应用场景呢？这里我们举一个例子：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> message<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token keyword">case</span> <span class="token string">'string'</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"string处理方式处理message"</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">case</span> <span class="token string">'number'</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'number处理方式处理message'</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token comment">// 保证他人不会为message添加其它的数据类型</span>
            <span class="token keyword">const</span> check<span class="token operator">:</span><span class="token builtin">never</span> <span class="token operator">=</span> message
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="TypeScript类型-tuple类型"><a href="#TypeScript类型-tuple类型" class="headerlink" title="TypeScript类型 - tuple类型"></a>TypeScript类型 - tuple类型</h2><ul>
<li><p>tuple是元组类型，很多语言中也有这种数据类型，比如Python、Swift等。 </p>
</li>
<li><p>那么tuple和数组有什么区别呢？</p>
<ul>
<li><p>首先，数组中通常建议存放相同类型的元素，不同类型的元素是不推荐放在数组中。（可以放在对象或者元组中）</p>
</li>
<li><p>其次，元组中每个元素都有自己特性的类型，根据索引值获取到的值可以确定对应的类型；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 1.数组的弊端：没办法确定拿到的元素到底是什么类型</span>
<span class="token keyword">const</span> info<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">1.88</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>length<span class="token punctuation">)</span>

<span class="token comment">// 2.元组的特点</span>
<span class="token keyword">const</span> info<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">1.88</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>length<span class="token punctuation">)</span>  <span class="token comment">// 报错</span></code></pre>

<p><img src="/blogs/3c70d866/10.jpg" loading="lazy"></p>
</li>
</ul>
<h2 id="tuple的应用场景"><a href="#tuple的应用场景" class="headerlink" title="tuple的应用场景"></a>tuple的应用场景</h2><ul>
<li><p>那么tuple在什么地方使用的是最多的呢？</p>
<ul>
<li>tuple通常可以作为返回的值，在使用的时候会非常的方便；</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// hook：useState</span>

<span class="token keyword">function</span> <span class="token function">useState</span><span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> currentState <span class="token operator">=</span> state

    <span class="token keyword">const</span> <span class="token function-variable function">changeState</span> <span class="token operator">=</span> <span class="token punctuation">(</span>newState<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        currentState <span class="token operator">=</span> newState
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// const arr: any[] = [currentState, changeState]   // 这么写的话 counter 与 setCounter 都会变为any类型</span>
    <span class="token keyword">const</span> arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newState<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>currentState<span class="token punctuation">,</span> changeState<span class="token punctuation">]</span>

    <span class="token keyword">return</span> arr
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>counter<span class="token punctuation">,</span> setCounter<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>title<span class="token punctuation">,</span> setTitle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p><strong>优化版：</strong></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> currentState <span class="token operator">=</span> state

    <span class="token keyword">const</span> <span class="token function-variable function">changeState</span> <span class="token operator">=</span> <span class="token punctuation">(</span>newState<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        currentState <span class="token operator">=</span> newState
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">const</span> arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newState<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>currentState<span class="token punctuation">,</span> changeState<span class="token punctuation">]</span>

    <span class="token keyword">return</span> arr
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>counter<span class="token punctuation">,</span> setCounter<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>title<span class="token punctuation">,</span> setTitle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<h2 id="函数的参数和返回值类型"><a href="#函数的参数和返回值类型" class="headerlink" title="函数的参数和返回值类型"></a>函数的参数和返回值类型</h2><ul>
<li><p>函数是JavaScript非常重要的组成部分，TypeScript允许我们指定函数的参数和返回值的类型。</p>
</li>
<li><p><strong>参数的类型注解</strong></p>
<ul>
<li>声明函数时，可以在每个参数后添加类型注解，以声明函数接受的参数类型：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">&#125;</span>

<span class="token comment">// sum(123)     // 报错， TS 中函数参数个数要保证一样</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span></code></pre></li>
</ul>
<ul>
<li><p>我们也可以添加返回值的类型注解，这个注解出现在函数列表的后面：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>和变量的类型注解一样，我们通常情况下不需要返回类型注解，因为TypeScript会根据 return 返回值推断函数的返回类型：</p>
<ul>
<li>某些第三方库处于方便理解，会明确指定返回类型，但是这个看个人喜好；</li>
</ul>
</li>
</ul>
<h2 id="匿名函数的参数"><a href="#匿名函数的参数" class="headerlink" title="匿名函数的参数"></a>匿名函数的参数</h2><ul>
<li><p>匿名函数与函数声明会有一些不同：</p>
<ul>
<li><p>当一个函数出现在TypeScript可以确定该函数会被如何调用的地方时；</p>
</li>
<li><p>该函数的参数会自动指定类型；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 通常情况下，在定义一个函数时，都会给参数加上类型注解的</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"cba"</span><span class="token punctuation">,</span> <span class="token string">"nba"</span><span class="token punctuation">]</span>

<span class="token comment">// item根据上下文的环境推断出来，这个时候可以不添加类型注解</span>
<span class="token comment">// 上下文中的函数，可以不添加类型注解</span>
names<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></li>
<li><p>我们并没有指定item的类型，但是item是一个string类型：</p>
<ul>
<li><p>这是因为TypeScript会根据forEach函数的类型以及数组的类型推断出item的类型；</p>
</li>
<li><p>这个过程称之为上下文类型（<em>contextual typing</em>），因为函数执行的上下文可以帮助确定参数和返回值的类型；</p>
</li>
</ul>
</li>
</ul>
<h2 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h2><ul>
<li><p>如果我们希望限定一个函数接受的参数是一个对象，这个时候要如何限定呢？</p>
<ul>
<li>我们可以使用对象类型；</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">printPoint</span><span class="token punctuation">(</span>point<span class="token operator">:</span> <span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></li>
<li><p>在这里我们使用了一个对象来作为类型：</p>
<ul>
<li><p>在对象我们可以添加属性，并且告知TypeScript该属性需要是什么类型；</p>
</li>
<li><p>属性之间可以使用 , 或者 ; 来分割，最后一个分隔符是可选的；</p>
</li>
<li><p>每个属性的类型部分也是可选的，如果不指定，那么就是any类型；</p>
</li>
</ul>
</li>
</ul>
<h2 id="可选类型"><a href="#可选类型" class="headerlink" title="可选类型"></a>可选类型</h2><ul>
<li><p>对象类型也可以指定哪些属性是可选的，可以在属性的后面添加一个<code>?</code>：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">printPoint</span><span class="token punctuation">(</span>point<span class="token operator">:</span> <span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> z<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 没传值时为 undefined</span>
<span class="token punctuation">&#125;</span>

<span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">111</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></li>
</ul>
<h2 id="联合类型"><a href="#联合类型" class="headerlink" title="联合类型"></a>联合类型</h2><ul>
<li><p>TypeScript的类型系统允许我们使用多种运算符，从现有类型中构建新类型。</p>
</li>
<li><p>我们来使用第一种组合类型的方法：联合类型（Union Type） </p>
<ul>
<li><p>联合类型是由两个或者多个其他类型组成的类型；</p>
</li>
<li><p>表示可以是这些类型中的任何一个值；</p>
</li>
<li><p>联合类型中的每一个类型被称之为联合成员（union’s <em>members</em>）；</p>
</li>
</ul>
</li>
<li><p>传入给一个联合类型的值是非常简单的：只要保证是联合类型中的某一个类型的值即可 </p>
<ul>
<li><p>但是我们拿到这个值之后，我们应该如何使用它呢？因为它可能是任何一种类型。</p>
</li>
<li><p>比如我们拿到的值可能是string或者number，我们就不能对其调用string上的一些方法；</p>
</li>
</ul>
</li>
<li><p>那么我们怎么处理这样的问题呢？</p>
<ul>
<li><p>我们需要使用缩小（narrow）联合（后续我们还会专门讲解缩小相关的功能）；</p>
</li>
<li><p>TypeScript可以根据我们缩小的代码结构，推断出更加具体的类型</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// number|string 联合类型</span>
<span class="token keyword">function</span> <span class="token function">printID</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 使用联合类型的值时，需要特别的小心</span>
    <span class="token comment">// narrow：缩小</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> id <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token comment">// TypeScript 帮助确定id一定是 string 类型</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">printID</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token function">printID</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span>
<span class="token function">printID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre>



<h2 id="可选类型补充"><a href="#可选类型补充" class="headerlink" title="可选类型补充"></a>可选类型补充</h2><ul>
<li>事实上，可选类型可以看做是 类型 和 undefined 的联合类型：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 让一个参数本身是可选的</span>
<span class="token comment">// 一个参数是一个可选类型的时候，它其实类似于是这个参数是 类型|undefined 的联合类型，但是语法上有些区别</span>
<span class="token comment">// function foo(message?: string) &#123;</span>
<span class="token comment">//     console.log(message)     // 不传时为 undefined</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// 此时可以不用明确的传入 undefined</span>
<span class="token comment">// foo()</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token operator">|</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 此时需要明确的传入 undefined</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>



<h2 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h2><ul>
<li><p>在前面，我们通过在类型注解中编写 对象类型 和 联合类型，但是当我们想要多次在其他地方使用时，就要编写多次。 </p>
</li>
<li><p>比如我们可以给对象类型起一个别名：</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// type 用于定义类型别名(type alias)</span>
<span class="token keyword">type</span> <span class="token class-name">IDType</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>
<span class="token keyword">type</span> <span class="token class-name">PointType</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    x<span class="token operator">:</span> <span class="token builtin">number</span>
    y<span class="token operator">:</span> <span class="token builtin">number</span>
    z<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">printId</span><span class="token punctuation">(</span>id<span class="token operator">:</span> IDType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">printPoint</span><span class="token punctuation">(</span>point<span class="token operator">:</span> PointType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
    
<span class="token punctuation">&#125;</span></code></pre>





<h1 id="TS语法精讲三"><a href="#TS语法精讲三" class="headerlink" title="TS语法精讲三"></a>TS语法精讲三</h1><h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2><ul>
<li><p>有时候TypeScript无法获取具体的类型信息，这个我们需要使用类型断言（Type Assertions）。</p>
<ul>
<li>比如我们通过 document.getElementById，TypeScript只知道该函数会返回 HTMLElement ，但并不知道它具体的类型：</li>
<li>或者将子类创建的对象当成参数传入时，若参数规定要用父类类型，可以使用 as 将其转为子类类型。</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 1.类型断言 as</span>
<span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLImageElement
el<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"url地址"</span>


<span class="token comment">// 2.Person是Student的父类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">studying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>p <span class="token keyword">as</span> Student<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">studying</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span></code></pre></li>
<li><p>TypeScript只允许类型断言转换为 更具体 或者 不太具体 的类型版本，此规则可防止不可能的强制转换：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">"Hello World"</span>
<span class="token comment">// const num:number = message as number    // 报错</span>
<span class="token keyword">const</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>message <span class="token keyword">as</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">number</span></code></pre></li>
</ul>
<h2 id="非空类型断言"><a href="#非空类型断言" class="headerlink" title="非空类型断言!"></a>非空类型断言!</h2><ul>
<li><p>当我们编写下面的代码时，在执行ts的编译阶段会报错：</p>
<ul>
<li>这是因为传入的message有可能是为undefined的，这个时候是不能执行方法的；</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// message? -> undefined | string</span>
<span class="token keyword">function</span> <span class="token function">printMessageLength</span><span class="token punctuation">(</span>message<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>但是，我们确定传入的参数是有值的，这个时候我们可以使用非空类型断言： </p>
<ul>
<li>非空断言使用的是 ! ，表示可以确定某个标识符是有值的，跳过ts在编译阶段对它的检测；</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// message? -> undefined | string</span>
<span class="token keyword">function</span> <span class="token function">printMessageLength</span><span class="token punctuation">(</span>message<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 方法一：</span>
    <span class="token comment">// if(message)&#123;</span>
    <span class="token comment">//     console.log(message.length)</span>
    <span class="token comment">// &#125;</span>

    <span class="token comment">// 方法二：</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token operator">!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="可选链的使用"><a href="#可选链的使用" class="headerlink" title="可选链的使用"></a>可选链的使用</h2><ul>
<li><p>可选链事实上并不是TypeScript独有的特性，它是ES11（ES2020）中增加的特性：</p>
<ul>
<li><p>可选链使用可选链操作符 ?.； </p>
</li>
<li><p>它的作用是当对象的属性不存在时，会短路，直接返回undefined，如果存在，那么才会继续执行； </p>
</li>
<li><p>虽然可选链操作是ECMAScript提出的特性，但是和TypeScript一起使用更合适；</p>
</li>
<li><p>使用可选链可以减少很多逻辑判断</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    friends<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token builtin">string</span>
        age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
        girlFriend<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span> <span class="token builtin">string</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> info<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    friends<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span>
        girlFriend<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span> <span class="token string">"lily"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// console.log(info.friends!.name)      // 强行让 friends 存在，不安全</span>
     
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friends<span class="token operator">?.</span>age<span class="token punctuation">)</span> <span class="token comment">// ?. 表示info里如有没有 friends ，则后面代码不执行，返回undefined。有值则继续执行。</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friends<span class="token operator">?.</span>name<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friends<span class="token operator">?.</span>girlFriend<span class="token operator">?.</span>name<span class="token punctuation">)</span>    

<span class="token comment">// 通过使用可选链，便可以减少像下方这样的判断</span>
<span class="token comment">// if (info.friends) &#123;</span>
<span class="token comment">//     console.log(info.friends.name)</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// if (info.friends.age) &#123; </span>
<span class="token comment">//     console.log(info.friends.age)</span>
<span class="token comment">// &#125;</span></code></pre>





<h2 id="和-的作用"><a href="#和-的作用" class="headerlink" title="?? 和 !! 的作用"></a>?? 和 !! 的作用</h2><ul>
<li><p>有时候我们还会看到 !! 和 ?? 操作符，这些都是做什么的呢？</p>
</li>
<li><p>!!操作符：</p>
<ul>
<li><p>将一个其他类型转换成boolean类型；</p>
</li>
<li><p>类似于Boolean(变量)的方式；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">"Hello World"</span>

<span class="token comment">// const flag = Boolean(message)</span>
<span class="token comment">// console.log(flag)   // true</span>

<span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>message

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span></code></pre></li>
<li><p>??操作符：</p>
</li>
<li><p>它是ES11增加的新特性；</p>
</li>
<li><p><strong>空值合并操作符</strong>（??）是一个逻辑操作符，当操作符的左侧是 null 或者 undefined 时，返回其右侧操作数，否则返回左侧操作数；(可达到类似三目运算符的效果)</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token keyword">const</span> content <span class="token operator">=</span> message <span class="token operator">??</span> <span class="token string">"你好啊,XXC"</span>     <span class="token comment">// message 不为null 时，返回message，否则返回 后面字符串</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span></code></pre>

<h2 id="字面量类型"><a href="#字面量类型" class="headerlink" title="字面量类型"></a>字面量类型</h2><ul>
<li><p>除了前面我们所讲过的类型之外，也可以使用字面量类型（literal types）：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 字面量类型必须与它的值保持一致</span>
<span class="token keyword">const</span> message<span class="token operator">:</span> <span class="token string">"Hello World"</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span>

<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token number">123</span> <span class="token operator">=</span> <span class="token number">123</span></code></pre></li>
<li><p>那么这样做有什么意义呢？</p>
<ul>
<li>默认情况下这么做是没有太大的意义的，但是我们可以将多个类型联合在一起；</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 字面量类型的意义：就是必须结合联合类型</span>
<span class="token keyword">type</span> <span class="token class-name">AlignMent</span> <span class="token operator">=</span> <span class="token string">'left'</span> <span class="token operator">|</span> <span class="token string">'right'</span> <span class="token operator">|</span> <span class="token string">'center'</span>
<span class="token keyword">let</span> align<span class="token operator">:</span> AlignMent <span class="token operator">=</span> <span class="token string">"left"</span>
align <span class="token operator">=</span> <span class="token string">'right'</span>
align <span class="token operator">=</span> <span class="token string">'center'</span>

<span class="token comment">// align = 'hehehe' // 报错</span></code></pre></li>
</ul>
<h2 id="字面量推理"><a href="#字面量推理" class="headerlink" title="字面量推理"></a>字面量推理</h2><ul>
<li><p>我们来看下面的代码：</p>
<p><img src="/blogs/3c70d866/11.jpg" loading="lazy"></p>
</li>
<li><p>这是因为我们的对象再进行字面量推理的时候，info其实是一个 {url: string, method: string}，而method 是一个字面量类型，所以我们没办法将一个 string 赋值给一个 字面量 类型。可使用以下方法进行解决</p>
<ul>
<li><p>方法一：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Request</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> Method
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> options<span class="token operator">:</span> Request <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"https://www.coderwhy.org/abc"</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span>
<span class="token punctuation">&#125;</span>

<span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>url<span class="token punctuation">,</span> options<span class="token punctuation">.</span>method<span class="token punctuation">)</span></code></pre></li>
<li><p>方法二：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"https://www.coderwhy.org/abc"</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span>
<span class="token punctuation">&#125;</span>

<span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>url<span class="token punctuation">,</span> options<span class="token punctuation">.</span>method <span class="token keyword">as</span> Method<span class="token punctuation">)</span></code></pre></li>
<li><p>方法三（字面量推理）：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"https://www.coderwhy.org/abc"</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
 
<span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>url<span class="token punctuation">,</span> options<span class="token punctuation">.</span>method<span class="token punctuation">)</span></code></pre></li>
</ul>
</li>
</ul>
<h2 id="类型缩小"><a href="#类型缩小" class="headerlink" title="类型缩小"></a>类型缩小</h2><ul>
<li><p>什么是类型缩小呢？</p>
<ul>
<li><p>类型缩小的英文是 Type Narrowing； </p>
</li>
<li><p>我们可以通过类似于 typeof padding === “number” 的判断语句，来改变TypeScript的执行路径；</p>
</li>
<li><p>在给定的执行路径中，我们可以缩小比声明时更小的类型，这个过程称之为 缩小; </p>
</li>
<li><p>而我们编写的 typeof padding === “number 可以称之为 类型保护（type guards）；</p>
</li>
</ul>
</li>
<li><p>常见的类型保护有如下几种：</p>
<ul>
<li><p>typeof</p>
</li>
<li><p>平等缩小（比如===、!==） </p>
</li>
<li><p>instanceof</p>
</li>
<li><p>in</p>
</li>
<li><p>等等…</p>
</li>
</ul>
</li>
</ul>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><ul>
<li>在 TypeScript 中，检查返回的值typeof是一种类型保护：因为 TypeScript 对如何typeof操作不同的值进行编码。</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 1.typeof的类型缩小</span>
<span class="token keyword">type</span> <span class="token class-name">IDType</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">function</span> <span class="token function">printId</span><span class="token punctuation">(</span>id<span class="token operator">:</span> IDType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> id <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 此处id 一定为 string类型</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>     <span class="token comment">// 此处 id 一定为 number 类型</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="平等缩小"><a href="#平等缩小" class="headerlink" title="平等缩小"></a>平等缩小</h3><ul>
<li>我们可以使用Switch或者相等的一些运算符来表达相等性（比如===, !==, ==, and != ）：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 2.平等的类型缩小(=== == !== != switch)</span>
<span class="token keyword">type</span> <span class="token class-name">Direction</span> <span class="token operator">=</span> <span class="token string">"left"</span> <span class="token operator">|</span> <span class="token string">"right"</span> <span class="token operator">|</span> <span class="token string">"top"</span> <span class="token operator">|</span> <span class="token string">"bottom"</span>
<span class="token keyword">function</span> <span class="token function">printDirection</span><span class="token punctuation">(</span>direction<span class="token operator">:</span> Direction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 1. if 判断</span>
    <span class="token comment">// if(direction==="left")&#123;</span>
    <span class="token comment">//     console.log(direction)</span>
    <span class="token comment">// &#125;else if(direction==="right")&#123;</span>
    <span class="token comment">//     console.log(direction)</span>
    <span class="token comment">// &#125;</span>

    <span class="token comment">// 2. switch 判断</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>direction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="instance-of"><a href="#instance-of" class="headerlink" title="instance of"></a>instance of</h3><ul>
<li>JavaScript 有一个运算符来检查一个值是否是另一个值的“实例”：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 3. instanceof（判断某一个对象是否为另一个对象的实例）</span>
<span class="token keyword">function</span> <span class="token function">printTime</span><span class="token punctuation">(</span>time<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Date<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">&#123;</span>
    <span class="token function">studying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">&#123;</span>
    <span class="token function">teaching</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">work</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Student <span class="token operator">|</span> Teacher<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        p<span class="token punctuation">.</span><span class="token function">studying</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        p<span class="token punctuation">.</span><span class="token function">teaching</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><ul>
<li>Javascript 有一个运算符，用于确定对象是否具有带名称的属性：in运算符<ul>
<li>如果指定的属性在指定的对象或其原型链中，则<strong>in 运算符</strong>返回true；</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 4. in</span>

<span class="token keyword">type</span> <span class="token class-name">Fish</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token function-variable function">swimming</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">&#125;</span>

<span class="token keyword">type</span> <span class="token class-name">Dog</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token function-variable function">running</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">walk</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Fish <span class="token operator">|</span> Dog<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'swimming'</span> <span class="token keyword">in</span> animal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        animal<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        animal<span class="token punctuation">.</span><span class="token function">running</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> fish<span class="token operator">:</span> Fish <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"swimming"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h2 id="TypeScript-函数类型"><a href="#TypeScript-函数类型" class="headerlink" title="TypeScript 函数类型"></a>TypeScript 函数类型</h2><ul>
<li><p>在JavaScript开发中，函数是重要的组成部分，并且函数可以作为一等公民（可以作为参数，也可以作为返回值进行传递）。 </p>
</li>
<li><p>那么在使用函数的过程中，函数是否也可以有自己的类型呢？</p>
<ul>
<li>我们可以编写函数类型的表达式（Function Type Expressions），来表示函数类型；</li>
</ul>
<p><img src="/blogs/3c70d866/12.jpg" loading="lazy"></p>
</li>
<li><p>在上面的语法中 (num1: number, num2: number) =&gt; void，代表的就是一个函数类型：</p>
<ul>
<li><p>接收两个参数的函数：num1和num2，并且都是number类型；</p>
</li>
<li><p>并且这个函数是没有返回值的，所以是void； (void 可以表示返回值为任何类型)</p>
</li>
</ul>
</li>
<li><p>在某些语言中，可能参数名称num1和num2是可以省略，但是TypeScript是不可以的：</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 2.定义常量时，编写函数的类型</span>
<span class="token comment">// 此处 num1:number 不能省略成 number ，否则会被认为 值为number ，类型为 any 的函数。</span>
<span class="token comment">// 此处的 num1,num2 并不影响实际传参的名词</span>
<span class="token keyword">type</span> <span class="token class-name">AddFnType</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token keyword">const</span> add<span class="token operator">:</span> <span class="token function-variable function">AddFnType</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> a2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a1 <span class="token operator">+</span> a2
<span class="token punctuation">&#125;</span></code></pre>



<ul>
<li>函数类型的案例</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span>n1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> n2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a1<span class="token punctuation">,</span> a2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a1 <span class="token operator">+</span> a2
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span>

<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a1<span class="token punctuation">,</span> a2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a1 <span class="token operator">*</span> a2
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span></code></pre>

<h2 id="参数的可选类型"><a href="#参数的可选类型" class="headerlink" title="参数的可选类型"></a>参数的可选类型</h2><ul>
<li>我们可以指定某个参数是可选的： </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 可选类型是必须写在必选类型的后面的</span>
<span class="token comment">// y -> undefined | number</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span></code></pre>

<ul>
<li><p>这个时候这个参数y依然是有类型的，它是什么类型呢？ number | undefined</p>
</li>
<li><p>另外可选类型需要在必传参数的后面：</p>
</li>
</ul>
<h2 id="参数的默认值"><a href="#参数的默认值" class="headerlink" title="参数的默认值"></a>参数的默认值</h2><ul>
<li>从ES6开始，JavaScript是支持默认参数的，TypeScript也是支持默认参数的： </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 建议将有默认值的参数放在后面</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span></code></pre>

<ul>
<li>这个时候y的类型其实是 undefined 和 number 类型的联合。</li>
<li>函数参数推荐书写顺序：必传参数 - 有默认值的参数 - 可选参数</li>
</ul>
<h2 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h2><ul>
<li>从ES6开始，JavaScript也支持剩余参数，剩余参数语法允许我们将一个不定数量的参数放到一个数组中。</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>initalNum<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token operator">...</span>nums<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> total <span class="token operator">=</span> initalNum
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> num <span class="token keyword">of</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        total <span class="token operator">+=</span> num
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> total
<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<h2 id="可推导的this类型"><a href="#可推导的this类型" class="headerlink" title="可推导的this类型"></a>可推导的this类型</h2><ul>
<li><p>TypeScript是如何处理this呢？我们先来看一个例子： </p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" eating"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

info<span class="token punctuation">.</span><span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li>
<li><p>上面的代码是可以正常运行的，也就是TypeScript在编译时，认为我们的this是可以正确去使用的：</p>
<ul>
<li>TypeScript认为函数 eating有一个对应的this的外部对象 info，所以在使用时，就会把this当做该对象。</li>
</ul>
</li>
</ul>
<h2 id="不确定的this类型"><a href="#不确定的this类型" class="headerlink" title="不确定的this类型"></a>不确定的this类型</h2><ul>
<li><p>但是对于某些情况来说，我们并不知道this到底是什么？ </p>
</li>
<li><p>这段代码运行会报错的：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    eating<span class="token operator">:</span> eating
<span class="token punctuation">&#125;</span>
info<span class="token punctuation">.</span><span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<ul>
<li><p>这里我们再次强调一下，TypeScript进行类型检测的目的是让我们的代码更加的安全；</p>
</li>
<li><p>所以这里对于 eating的调用来说，我们虽然将其放到了info中，通过info去调用，this依然是指向info对象的；</p>
</li>
<li><p>但是对于TypeScript编译器来说，这个代码是非常不安全的，因为我们也有可能直接调用函数，或者通过别的对象来调用函数；</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>这个时候，通常TypeScript会要求我们明确的指定this的类型：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">ThisType</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">eating</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> ThisType<span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" eating"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    eating<span class="token operator">:</span> eating
<span class="token punctuation">&#125;</span>

<span class="token comment">// 隐式绑定</span>
info<span class="token punctuation">.</span><span class="token function">eating</span><span class="token punctuation">(</span><span class="token string">"hahaha"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 显式绑定</span>
<span class="token function">eating</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"kobe"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"hehehe"</span><span class="token punctuation">)</span>
<span class="token function">eating</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"james"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"heiheihei"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li>
</ul>
<h1 id="TS语法精讲四"><a href="#TS语法精讲四" class="headerlink" title="TS语法精讲四"></a>TS语法精讲四</h1><h2 id="函数的重载"><a href="#函数的重载" class="headerlink" title="函数的重载"></a>函数的重载</h2><ul>
<li><p>在TypeScript中，如果我们编写了一个add函数，希望可以对字符串和数字类型进行相加，应该如何编写呢？ </p>
</li>
<li><p>我们可能会这样来编写，但是其实是错误的： </p>
<p><img src="/blogs/3c70d866/14.jpg" loading="lazy"></p>
</li>
<li><p>那么这个代码应该如何去编写呢？</p>
<ul>
<li><p>在TypeScript中，我们可以去编写不同的重载签名（<em>overload signatures</em>）来表示函数可以以不同的方式进行调用；</p>
</li>
<li><p>一般是编写两个或者以上的重载签名，再去编写一个通用的函数以及实现；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 函数的重载：函数的名称相同，但是参数不同的几个函数，就是函数的重载</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>   <span class="token comment">// 没函数体</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> num1 <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> num2 <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> num1<span class="token punctuation">.</span>length <span class="token operator">+</span> num2<span class="token punctuation">.</span>length
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"xxc"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span>

<span class="token comment">// 在函数的重载中，实现函数是不能直接被调用的</span>
<span class="token comment">// add(&#123; name: "why" &#125;, &#123; age: 18 &#125;)    // 报错</span></code></pre>

<ul>
<li><p>在我们调用add的时候，它会根据我们传入的参数类型来决定执行函数体时，到底执行哪一个函数的重载签名；</p>
</li>
<li><p><strong>但是注意，有实现体的函数，是不能直接被调用的。</strong></p>
</li>
</ul>
<h2 id="联合类型与函数重载"><a href="#联合类型与函数重载" class="headerlink" title="联合类型与函数重载"></a>联合类型与函数重载</h2><ul>
<li><p>我们现在有一个需求：定义一个函数，可以传入字符串或者数组，获取它们的长度。 </p>
</li>
<li><p>这里有两种实现方案：</p>
<ul>
<li><p>方案一：使用联合类型来实现；</p>
</li>
<li><p>方案二：实现函数重载来实现；</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 实现方式一：联合类型</span>
<span class="token comment">// 如果可以使用联合类型方便简单实现的条件下，尽量使用联合类型，否则就使用函数的重载</span>
<span class="token comment">// function getLength(args: string | any[]) &#123;</span>
<span class="token comment">//     return args.length</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// console.log(getLength("abc"))</span>

<span class="token comment">// console.log(getLength([123, 456, 789]))</span>

<span class="token comment">// 实现方式二：函数的重载</span>
<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span>length
<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">,</span> <span class="token number">789</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li>
<li><p>在开发中我们选择使用哪一种呢？</p>
<ul>
<li>在可能的情况下，尽量选择使用联合类型来实现；</li>
</ul>
</li>
</ul>
<h2 id="认识类的使用"><a href="#认识类的使用" class="headerlink" title="认识类的使用"></a>认识类的使用</h2><ul>
<li><p>在早期的JavaScript开发中（ES5）我们需要通过函数和原型链来实现类和继承，从ES6开始，引入了class关键字，可以更加方便的定义和使用类。</p>
</li>
<li><p>TypeScript作为JavaScript的超集，也是支持使用class关键字的，并且还可以对类的属性和方法等进行静态类型检测。</p>
</li>
<li><p>实际上在JavaScript的开发过程中，我们更加习惯于函数式编程：</p>
<ul>
<li><p>比如React开发中，目前更多使用的函数组件以及结合Hook的开发模式；</p>
</li>
<li><p>比如在Vue3开发中，目前也更加推崇使用 Composition API； </p>
</li>
</ul>
</li>
<li><p>但是在封装某些业务的时候，类具有更强大封装性，所以我们也需要掌握它们。 </p>
</li>
<li><p>类的定义我们通常会使用class关键字：</p>
<ul>
<li><p>在面向对象的世界里，任何事物都可以使用类的结构来描述； </p>
</li>
<li><p>类中包含特有的属性和方法；</p>
</li>
</ul>
</li>
</ul>
<h2 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h2><ul>
<li><strong>我们来定义一个Person类：</strong></li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>    <span class="token comment">// 属性初始化必须赋值或在构造函数中赋值，否则会报错</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 在 ts 中，此处的 this.xxx 的属性必须现在外部先定义（与js不同）</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" eating"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span></code></pre>

<ul>
<li><p>使用class关键字来定义一个类；</p>
</li>
<li><p>我们可以声明一些类的属性：在类的内部声明类的属性以及对应的类型</p>
<ul>
<li><p>如果类型没有声明，那么它们默认是any的；</p>
</li>
<li><p>我们也可以给属性设置初始化值；</p>
</li>
<li><p>在默认的strictPropertyInitialization模式下面我们的属性是必须初始化的，如果没有初始化，那么编译时就会报错；</p>
<ul>
<li><p>如果我们在strictPropertyInitialization模式下确实不希望给属性初始化，可以使用 name!: string语法；</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript">name<span class="token operator">!</span><span class="token operator">:</span><span class="token builtin">string</span></code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>类可以有自己的构造函数constructor，当我们通过new关键字创建一个实例时，构造函数会被调用；</p>
</li>
<li><p>构造函数不需要返回任何值，默认返回当前创建出来的实例；</p>
</li>
<li><p>类中可以有自己的函数，定义的函数称之为方法；</p>
</li>
</ul>
<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><ul>
<li><p>面向对象的其中一大特性就是继承，继承不仅仅可以减少我们的代码量，也是多态的使用前提。 </p>
</li>
<li><p>我们使用extends关键字来实现继承，子类中使用super来访问父类。</p>
</li>
<li><p>我们来看一下Student类继承自Person： </p>
<ul>
<li><p>Student类可以有自己的属性和方法，并且会继承Person的属性和方法；</p>
</li>
<li><p>在构造函数中，我们可以通过super来调用父类的构造方法，对父类中的属性进行初始化；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">&#125;</span>

    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eating'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    sno<span class="token operator">:</span> <span class="token builtin">number</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> sno<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 调用父类的构造器</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>    <span class="token comment">// 此处使用 super 需要保证 父类中有写对应的constructor</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sno <span class="token operator">=</span> sno
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 子类对父类进行重写</span>
    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"student eating"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">studying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"studying"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>sno<span class="token punctuation">)</span>
stu<span class="token punctuation">.</span><span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>

<h2 id="类的多态"><a href="#类的多态" class="headerlink" title="类的多态"></a>类的多态</h2><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>
    <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal running'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>
    <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"dog running"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Fish</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>
    <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fish swimming"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// animal:dog/fish</span>
<span class="token comment">// 多态的目的是为了写出更加具备通用性的代码，若此处不用多态，而用 函数重载 或 联合类型，都会更加麻烦</span>
<span class="token keyword">function</span> <span class="token function">makeActions</span><span class="token punctuation">(</span>animals<span class="token operator">:</span> Animal<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    animals<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>animals <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        animals<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 此处会执行重写之后的方法（父类的引用指向子类对象）</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">makeActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Fish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>



<h2 id="类的成员修饰符"><a href="#类的成员修饰符" class="headerlink" title="类的成员修饰符"></a>类的成员修饰符</h2><ul>
<li><p>在TypeScript中，类的属性和方法支持三种修饰符： public、private、protected</p>
<ul>
<li><p>public 修饰的是在任何地方可见、公有的属性或方法，默认编写的属性就是public的；</p>
</li>
<li><p>private 修饰的是仅在同一类中可见、私有的属性或方法；</p>
</li>
<li><p>protected 修饰的是仅在类自身及子类中可见、受保护的属性或方法；</p>
</li>
</ul>
</li>
<li><p>public是默认的修饰符，也是可以直接访问的，我们这里来演示一下protected和private。</p>
</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> name<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">""</span>

    <span class="token comment">// 封装了两个方法，通过方法来访问name</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">&#125;</span>

    <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> newName
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(p.name)      // 无法直接访问，会报错</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>

<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// protected：在类内部和子类中可以访问</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">protected</span> name<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">"123"</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(p.name)      // 无法直接访问，会报错</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>



<h2 id="只读属性-readonly"><a href="#只读属性-readonly" class="headerlink" title="只读属性 readonly"></a>只读属性 readonly</h2><ul>
<li>如果有一个属性我们不希望外界可以任意的修改，只希望确定值后直接使用，那么可以使用readonly：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 1.只读属性是可以在构造器中赋值的，赋值之后就不可以修改了</span>
    <span class="token comment">// 2.属性本身不能进行修改，但是如果它是对象类型，对象中的属性是可以修改的</span>
    <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"123"</span>
    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token keyword">readonly</span> friend<span class="token operator">?</span><span class="token operator">:</span> Person
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> friend<span class="token operator">?</span><span class="token operator">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>friend <span class="token operator">=</span> friend
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"xxc"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"kobe"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>friend<span class="token punctuation">)</span>

<span class="token comment">// p.friend = new Person('james')   // 不可以直接修改 friend</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>friend<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    p<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span>	<span class="token comment">// 可以进行修改</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// p.name = "123"   // 无法修改，修改会报错</span></code></pre>



<h2 id="getter-setter"><a href="#getter-setter" class="headerlink" title="getter / setter"></a>getter / setter</h2><ul>
<li>在前面一些私有属性我们是不能直接访问的，或者某些属性我们想要监听它的获取(getter)和设置(setter)的过程，这个时候我们可以使用存取器。</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> _name<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 访问器 setter/getter</span>
    <span class="token comment">// setter</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> newName
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// getter</span>
    <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"123"</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>



<h2 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h2><ul>
<li><p>前面我们在类中定义的成员和方法都属于对象级别的, 在开发中, 我们有时候也需要定义类级别的成员和方法。 </p>
</li>
<li><p>在TypeScript中通过关键字static来定义：</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// class Person &#123;</span>
<span class="token comment">//     // 下面这些都是实例成员，必须通过实例来获取</span>
<span class="token comment">//     name: string = ""</span>
<span class="token comment">//     age: number = 12</span>
<span class="token comment">// &#125;</span>

<span class="token comment">// const p = new Person()</span>
<span class="token comment">// p.name = "123"</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 静态成员：可以直接通过类名来进行调用</span>
    <span class="token keyword">static</span> time<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"20:00"</span>

    <span class="token keyword">static</span> <span class="token function">attendClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"去学习~"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Student<span class="token punctuation">.</span>time<span class="token punctuation">)</span>
Student<span class="token punctuation">.</span><span class="token function">attendClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>

<h2 id="抽象类演练"><a href="#抽象类演练" class="headerlink" title="抽象类演练"></a>抽象类演练</h2><ul>
<li><p>我们知道，继承是多态使用的前提。</p>
<ul>
<li><p>所以在定义很多通用的<strong>调用接口时, 我们通常会让调用者传入父类，通过多态来实现更加灵活的调用方式。</strong></p>
</li>
<li><p><strong>但是，父类本身可能并不需要对某些方法进行具体的实现，所以父类中定义的方法,，我们可以定义为抽象方法。</strong></p>
</li>
</ul>
</li>
<li><p><strong>什么是 抽象方法? 在TypeScript中没有具体实现的方法(没有方法体)，就是抽象方法。</strong></p>
<ul>
<li><p>抽象方法，必须存在于抽象类中；但是抽象类中也可以定义非抽象方法。</p>
</li>
<li><p>抽象类是使用abstract声明的类；</p>
</li>
</ul>
</li>
<li><p>抽象类有如下的特点：</p>
<ul>
<li><p>抽象类是不能被实例的话（也就是不能通过new创建） </p>
</li>
<li><p>抽象方法必须被子类实现，否则该类必须是一个抽象类；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">makeArea</span><span class="token punctuation">(</span>shape<span class="token operator">:</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> shape<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">abstract</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> width<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">number</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 子类若继承抽象类，则必须实现抽象类的方法</span>
    <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> r<span class="token operator">:</span> <span class="token builtin">number</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token number">3.14</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">makeArea</span><span class="token punctuation">(</span>rectangle<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">makeArea</span><span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// console.log(new Shape());   // 会报错，因为抽象类不能被实例化</span>

<span class="token comment">// makeArea(123)    // 会报错</span></code></pre>



<h2 id="类的类型"><a href="#类的类型" class="headerlink" title="类的类型"></a>类的类型</h2><ul>
<li> 类本身也是可以作为一种数据类型的：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"123"</span>

    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> p1<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 对象中的属性必须与类一致</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 使用场景</span>
<span class="token keyword">function</span> <span class="token function">printPerson</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 当参数为类类型时，既可以传递一个类实例，也可传递一个与类属性一致的对象</span>
<span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span> <span class="token function-variable function">eating</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// 这种对象也可称为 对象的字面量</span></code></pre>

<h2 id="接口的声明"><a href="#接口的声明" class="headerlink" title="接口的声明"></a>接口的声明</h2><ul>
<li>在前面我们通过type可以用来声明一个对象类型，对象的另外一种声明方式就是通过接口来声明： </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 通过类型别名来声明对象类型</span>
<span class="token comment">// type InfoType = &#123; name: string, age: number &#125;</span>

<span class="token comment">// 另外一种方式声明对象类型：接口 interface</span>
<span class="token comment">// 接口与类型别名效果类似，可按个人爱好选择使用，不过推荐使用接口</span>
<span class="token comment">// 同时，接口定义时有一个规范：在接口名前加 “I”</span>
<span class="token comment">// 在其中可以定义可选类型，也可以定义只读属性</span>
<span class="token keyword">interface</span> <span class="token class-name">IInfoType</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    friend<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> info<span class="token operator">:</span> IInfoType <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friend<span class="token operator">?.</span>name<span class="token punctuation">)</span></code></pre>

<h2 id="索引类型"><a href="#索引类型" class="headerlink" title="索引类型"></a>索引类型</h2><ul>
<li>前面我们使用interface来定义对象类型，这个时候其中的属性名、类型、方法都是确定的，但是有时候我们会遇到类似下面的对象：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 通过 interface 来定义索引类型</span>
<span class="token keyword">interface</span> <span class="token class-name">IndexLanguage</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> frontLanguage<span class="token operator">:</span> IndexLanguage <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"HTML"</span><span class="token punctuation">,</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"CSS"</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"JavaScript"</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token operator">:</span> <span class="token string">"Vuejs"</span><span class="token punctuation">,</span>
    <span class="token comment">// "abc":"123"  // 报错</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">ILanguageYear</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> languageYear<span class="token operator">:</span> ILanguageYear <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string">"C"</span><span class="token operator">:</span> <span class="token number">1972</span><span class="token punctuation">,</span>
    <span class="token string">"Java"</span><span class="token operator">:</span> <span class="token number">1995</span><span class="token punctuation">,</span>
    <span class="token string">"JavaScript"</span><span class="token operator">:</span> <span class="token number">1996</span><span class="token punctuation">,</span>
    <span class="token string">"TypeScript"</span><span class="token operator">:</span> <span class="token number">2014</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>可以通过 interface 来定义索引类型，保证对象中的键值对类型固定。</li>
</ul>
<h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><ul>
<li>前面我们都是通过interface来定义对象中普通的属性和方法的，实际上它也可以用来定义函数类型： </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// type CalcFn = (n1: number, n2: number) => number</span>

<span class="token comment">// 可调用的接口</span>
<span class="token keyword">interface</span> <span class="token class-name">CalcFn</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>n1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> n2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function-variable function">calcFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>n1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> n2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">calcFn</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> add<span class="token operator">:</span> <span class="token function-variable function">CalcFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> num1 <span class="token operator">*</span> num2
<span class="token punctuation">&#125;</span>

<span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> add<span class="token punctuation">)</span></code></pre>

<ul>
<li>当然，除非特别的情况，还是推荐大家使用类型别名来定义函数。</li>
</ul>
<h2 id="接口继承"><a href="#接口继承" class="headerlink" title="接口继承"></a>接口继承</h2><ul>
<li>接口和类一样是可以进行继承的，也是使用extends关键字：<ul>
<li>并且我们会发现，接口是支持多继承的（类不支持多继承）</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">ISwim</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">swimming</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">IFly</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">flying</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">IAction</span> <span class="token keyword">extends</span> <span class="token class-name">ISwim</span><span class="token punctuation">,</span> IFly <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> action<span class="token operator">:</span> IAction <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></code></pre>

<ul>
<li><p>接口定义后，也是可以被类实现的：</p>
<ul>
<li><p>如果被一个类实现，那么在之后需要传入接口的地方，都可以将这个类传入；</p>
</li>
<li><p>这就是面向接口开发；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">ISwim</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">swimming</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">IEat</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">eating</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token comment">// 继承：只能实现单继承</span>
<span class="token comment">// 实现：实现接口，可以实现多个接口</span>
<span class="token keyword">class</span> <span class="token class-name">Fish</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">ISwim</span><span class="token punctuation">,</span> IEat <span class="token punctuation">&#123;</span>
    <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Fish Swimming"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">eating</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Fish Eating"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">ISwim</span> <span class="token punctuation">&#123;</span>
    <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Person Swimming"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 编写一些公共的API：面向接口编程</span>
<span class="token comment">// function swimAction(swimable: Fish) &#123;       // 若要求传入 Fish 类型，则不具备通用性</span>
<span class="token keyword">function</span> <span class="token function">swimAction</span><span class="token punctuation">(</span>swimable<span class="token operator">:</span> ISwim<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 此时可以改为要求传入 ISwim 接口类型的数据</span>
    swimable<span class="token punctuation">.</span><span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 1. 所有实现了接口的类对应的对象，都是可以传入的</span>
<span class="token function">swimAction</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Fish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">swimAction</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 2. 符合接口类型的对象字面量，也可以传入</span>
<span class="token function">swimAction</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token function-variable function">swimming</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>





<h2 id="交叉类型"><a href="#交叉类型" class="headerlink" title="交叉类型"></a>交叉类型</h2><ul>
<li><p>前面我们学习了联合类型：</p>
<ul>
<li>联合类型表示多个类型中一个即可 </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">WhyType</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">Direction</span> <span class="token operator">=</span> <span class="token string">"left"</span> <span class="token operator">|</span> <span class="token string">"right"</span> <span class="token operator">|</span> <span class="token string">"center"</span></code></pre></li>
<li><p>还有另外一种类型合并，就是交叉类型（Intersection Types）：</p>
<ul>
<li><p>交叉类似表示需要满足多个类型的条件； </p>
</li>
<li><p>交叉类型使用 &amp; 符号； </p>
</li>
</ul>
</li>
<li><p>我们来看下面的交叉类型：</p>
<ul>
<li><p>表达的含义是number和string要同时满足； </p>
</li>
<li><p>但是有同时满足是一个number又是一个string的值吗？其实是没有的，所以MyType其实是一个never类型；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">WType</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">&amp;</span> <span class="token builtin">string</span>     <span class="token comment">// 这样写没有任何意义，此时 WType 会被认为是 never 类型</span></code></pre>



<ul>
<li><p>所以，在开发中，我们进行交叉时，通常是对对象类型进行交叉的：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">ISwim</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">swimming</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">IFly</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">flying</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">type</span> <span class="token class-name">MyType1</span> <span class="token operator">=</span> ISwim <span class="token operator">|</span> IFly
<span class="token keyword">type</span> <span class="token class-name">MyType2</span> <span class="token operator">=</span> ISwim <span class="token operator">&amp;</span> IFly

<span class="token keyword">const</span> obj<span class="token operator">:</span> MyType1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 实现 MyType1 类型，要求只要实现两个接口中一个接口的方法即可</span>
    <span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj2<span class="token operator">:</span> MyType2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 实现 MyType2 类型，要求两个接口中的方法都要实现</span>
    <span class="token function">flying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">swimming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="interface和type区别"><a href="#interface和type区别" class="headerlink" title="interface和type区别"></a>interface和type区别</h2><ul>
<li><p>我们会发现interface和type都可以用来定义对象类型，那么在开发中定义对象类型时，到底选择哪一个呢？</p>
<ul>
<li>如果是定义非对象类型，通常推荐使用type，比如Alignment、一些Function； </li>
</ul>
</li>
<li><p>如果是定义对象类型，那么他们是有区别的：</p>
<ul>
<li><p>interface 可以重复的对某个接口来定义属性和方法，最终所有的属性和方法会合并；</p>
</li>
<li><p>而type定义的是别名，别名是不能重复的；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IFoo</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">interface</span> <span class="token class-name">IFoo</span> <span class="token punctuation">&#123;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 定义接口时，若名称相同，会将所有属性合并</span>
<span class="token keyword">const</span> foo<span class="token operator">:</span> IFoo <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 在安装 ts 时，其内部的 lib 文件夹中，为我们定义了一些 Math/Date/Dom相关API 的类型</span>
<span class="token comment">// document.getElementById('app') as HTMLDivElement</span>
<span class="token comment">// window.addEventListener</span>

<span class="token comment">// 而我们可以通过定义同名接口为其内部组添加对应属性</span>
<span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">&#123;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

window<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token keyword">type</span> <span class="token class-name">IBar</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// type IBar = &#123;    // type 定义的类型别名不能重名，否则会报错。</span>

<span class="token comment">// &#125;</span></code></pre>



<h1 id="TS语法精讲五"><a href="#TS语法精讲五" class="headerlink" title="TS语法精讲五"></a>TS语法精讲五</h1><h2 id="字面量赋值"><a href="#字面量赋值" class="headerlink" title="字面量赋值"></a>字面量赋值</h2><ul>
<li>我们来看下面的代码：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    height<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">1.88</span><span class="token punctuation">,</span>
    address<span class="token operator">:</span> <span class="token string">"广州市"</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// freshness 擦除，在类型检测时会将 info 中多余的属性擦除，擦除后剩余的属性如果能满足类型要求，则允许赋值。</span>
<span class="token keyword">const</span> p<span class="token operator">:</span> IPerson <span class="token operator">=</span> info

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">printInfo</span><span class="token punctuation">(</span>person<span class="token operator">:</span> IPerson<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token comment">// console.log(person.address)      // 不能输出 address ，会报错</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// printInfo(&#123;          // 报错</span>
<span class="token comment">//     name:"why",</span>
<span class="token comment">//     age:18,</span>
<span class="token comment">//     height:1.88,</span>
<span class="token comment">//     address:"广州市"</span>
<span class="token comment">// &#125;)</span>

<span class="token function">printInfo</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span></code></pre>



<ul>
<li>这是因为TypeScript在字面量直接赋值的过程中，为了进行类型推导会进行严格的类型限制。<ul>
<li>但是之后如果我们是将一个 变量标识符 赋值给其他的变量时，会进行freshness擦除操作。</li>
</ul>
</li>
</ul>
<h2 id="TypeScript枚举类型"><a href="#TypeScript枚举类型" class="headerlink" title="TypeScript枚举类型"></a>TypeScript枚举类型</h2><ul>
<li><p>枚举类型是为数不多的TypeScript特性有的特性之一：</p>
<ul>
<li><p>枚举其实就是将一组可能出现的值，一个个列举出来，定义在一个类型中，这个类型就是枚举类型；</p>
</li>
<li><p>枚举允许开发者定义一组命名常量，常量可以是数字、字符串类型；</p>
</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Direction <span class="token punctuation">&#123;</span>
    <span class="token constant">LEFT</span><span class="token punctuation">,</span>
    <span class="token constant">RIGHT</span><span class="token punctuation">,</span>
    <span class="token constant">TOP</span><span class="token punctuation">,</span>
    <span class="token constant">BOTTOM</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">turnDirection</span><span class="token punctuation">(</span>direction<span class="token operator">:</span> Direction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>direction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span><span class="token constant">LEFT</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"改变角色的方向向左"</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span><span class="token constant">RIGHT</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"改变角色的方向向右"</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span><span class="token constant">TOP</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"改变角色的方向向上"</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span><span class="token constant">BOTTOM</span><span class="token operator">:</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"改变角色的方向向下"</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">const</span> foo<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> direction<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">turnDirection</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span><span class="token constant">LEFT</span><span class="token punctuation">)</span>
<span class="token function">turnDirection</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span><span class="token constant">RIGHT</span><span class="token punctuation">)</span>
<span class="token function">turnDirection</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span><span class="token constant">TOP</span><span class="token punctuation">)</span>
<span class="token function">turnDirection</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span><span class="token constant">BOTTOM</span><span class="token punctuation">)</span></code></pre>

<ul>
<li><p>枚举类型默认是有值的，比如上面的枚举，默认值是这样的： </p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Direction <span class="token punctuation">&#123;</span>
    <span class="token constant">LEFT</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token constant">RIGHT</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token constant">TOP</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token constant">BOTTOM</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">&#125;</span></code></pre></li>
<li><p>当然，我们也可以给枚举其他值：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Direction <span class="token punctuation">&#123;</span>
    <span class="token constant">LEFT</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token constant">RIGHT</span><span class="token punctuation">,</span>
    <span class="token constant">TOP</span><span class="token punctuation">,</span>
    <span class="token constant">BOTTOM</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>这个时候会从100进行递增；</li>
</ul>
</li>
<li><p>我们也可以给他们赋值其他的类型：</p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Direction <span class="token punctuation">&#123;</span>
    <span class="token constant">LEFT</span> <span class="token operator">=</span> <span class="token string">"LEFT"</span><span class="token punctuation">,</span>
    <span class="token constant">RIGHT</span> <span class="token operator">=</span> <span class="token string">"RIGHT"</span><span class="token punctuation">,</span>
    <span class="token constant">TOP</span> <span class="token operator">=</span> <span class="token string">"TOP"</span><span class="token punctuation">,</span>
    <span class="token constant">BOTTOM</span> <span class="token operator">=</span> <span class="token string">"BOTTOM"</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ul>
<h2 id="认识泛型"><a href="#认识泛型" class="headerlink" title="认识泛型"></a>认识泛型</h2><ul>
<li><p>软件工程的主要目的是构建不仅仅明确和一致的API，还要让你的代码具有很强的可重用性：</p>
<ul>
<li><p>比如我们可以通过函数来封装一些API，通过传入不同的函数参数，让函数帮助我们完成不同的操作；</p>
</li>
<li><p>但是对于参数的类型是否也可以参数化呢？</p>
</li>
</ul>
</li>
<li><p>什么是<strong>类型的参数化</strong>？</p>
<ul>
<li>我们来提一个需求：封装一个函数，传入一个参数，并且返回这个参数；</li>
</ul>
</li>
<li><p>如果我们是TypeScript的思维方式，要考虑这个参数和返回值的类型需要一致： </p>
</li>
</ul>
<p><img src="/blogs/3c70d866/16.jpg" loading="lazy"></p>
<ul>
<li><p>上面的代码虽然实现了，但是不适用于其他类型，比如string、boolean、Person等类型：</p>
<p><img src="/blogs/3c70d866/17.jpg" loading="lazy"></p>
</li>
<li><p>虽然any是可以的，但是定义为any的时候，我们其实已经丢失了类型信息：</p>
<ul>
<li><p>比如我们传入的是一个number，那么我们希望返回的可不是any类型，而是number类型；</p>
</li>
<li><p>所以，我们需要在函数中可以捕获到参数的类型是number，并且同时使用它来作为返回值的类型；</p>
</li>
</ul>
</li>
<li><p>我们需要在这里使用一种特性的变量 - 类型变量（type variable），它作用于类型，而不是值：</p>
<p><img src="/blogs/3c70d866/18.jpg" loading="lazy"></p>
</li>
<li><p><strong>这里我们可以使用两种方式来调用它：</strong> </p>
<ul>
<li><p>方式一：通过 &lt;类型&gt; 的方式将类型传递给函数； </p>
</li>
<li><p>方式二：通过类型推到，自动推到出我们传入变量的类型：</p>
<ul>
<li>在这里会推导出它们是 字面量类型的，因为字面量类型对于我们的函数也是适用的</li>
</ul>
<p><img src="/blogs/3c70d866/19.jpg" loading="lazy"></p>
</li>
</ul>
</li>
</ul>
<h2 id="泛型的基本补充"><a href="#泛型的基本补充" class="headerlink" title="泛型的基本补充"></a>泛型的基本补充</h2><ul>
<li>当然我们也可以传入多个类型： </li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">foo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>arg1<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> arg2<span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">,</span> arg3<span class="token operator">:</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token generic-function"><span class="token function">foo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span></code></pre>

<ul>
<li><p>平时在开发中我们可能会看到一些常用的名称：</p>
<ul>
<li><p>T：Type的缩写，类型</p>
</li>
<li><p>K、V：key和value的缩写，键值对</p>
</li>
<li><p>E：Element的缩写，元素</p>
</li>
<li><p>O：Object的缩写，对象</p>
</li>
</ul>
</li>
</ul>
<h2 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h2><ul>
<li>在定义接口的时候我们也可以使用泛型：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 接口是没有类型推导的，不过我们可以给其设置默认类型</span>
<span class="token keyword">interface</span> <span class="token class-name">IPerson<span class="token operator">&lt;</span><span class="token constant">T1</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">T2</span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token constant">T1</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token constant">T2</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p<span class="token operator">:</span> IPerson<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span></code></pre>



<h2 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h2><ul>
<li>我们也可以编写一个泛型类：</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Point<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span>
    x<span class="token operator">:</span> <span class="token constant">T</span>
    y<span class="token operator">:</span> <span class="token constant">T</span>
    z<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
        <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token string">"1.33.2"</span><span class="token punctuation">,</span> <span class="token string">"2.22.3"</span><span class="token punctuation">,</span> <span class="token string">"4.22.1"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token string">"1.33.2"</span><span class="token punctuation">,</span> <span class="token string">"2.22.3"</span><span class="token punctuation">,</span> <span class="token string">"4.22.1"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p3<span class="token operator">:</span> Point<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token string">"1.33.2"</span><span class="token punctuation">,</span> <span class="token string">"2.22.3"</span><span class="token punctuation">,</span> <span class="token string">"4.22.1"</span><span class="token punctuation">)</span>

<span class="token comment">// 数组的定义中，也可以用到类似泛型类的写法</span>
<span class="token keyword">const</span> names1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"cba"</span><span class="token punctuation">,</span> <span class="token string">"nba"</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> names2<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"cba"</span><span class="token punctuation">,</span> <span class="token string">"nba"</span><span class="token punctuation">]</span>     <span class="token comment">// 不推荐(react jsx &lt;>)</span></code></pre>

<h2 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h2><ul>
<li><p>有时候我们希望传入的类型有某些共性，但是这些共性可能不是在同一种类型中：</p>
<ul>
<li><p>比如string和array都是有length的，或者某些对象也是会有length属性的；</p>
</li>
<li><p>那么只要是拥有length的属性都可以作为我们的参数类型，那么应该如何操作呢？</p>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">ILength</span> <span class="token punctuation">&#123;</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 通过让泛型继承接口的方式，让其拥有一些类型约束</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getLength</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> ILength<span class="token operator">></span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> arg<span class="token punctuation">.</span>length
<span class="token punctuation">&#125;</span>

<span class="token function">getLength</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>
<span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"cba"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> length<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></li>
</ul>
<h2 id="模块化开发"><a href="#模块化开发" class="headerlink" title="模块化开发"></a>模块化开发</h2><ul>
<li><p>TypeScript支持两种方式来控制我们的作用域： </p>
<ul>
<li><p>模块化：每个文件可以是一个独立的模块，支持ES Module，也支持CommonJS； </p>
</li>
<li><p>命名空间：通过namespace来声明一个命名空间</p>
<ul>
<li>命名空间在TypeScript早期时，称之为内部模块，主要目的是将一个模块内部再进行作用域的划分，防止一些命名冲突的问题。</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 想要在另外的模块中使用命名空间，需要将对应的命名空间导出</span>
<span class="token keyword">export</span> <span class="token keyword">namespace</span> time <span class="token punctuation">&#123;</span>
    <span class="token comment">// 命名空间中的内容想要在外部使用，需要导出</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">format</span><span class="token punctuation">(</span>time<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"2222-02-22"</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">namespace</span> price <span class="token punctuation">&#123;</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">format</span><span class="token punctuation">(</span>price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"99.99"</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

time<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>
price<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span></code></pre></li>
</ul>
<h2 id="类型的查找"><a href="#类型的查找" class="headerlink" title="类型的查找"></a>类型的查找</h2><ul>
<li><p>之前我们所有的typescript中的类型，几乎都是我们自己编写的，但是我们也有用到一些其他的类型： </p>
<p><img src="/blogs/3c70d866/20.jpg" loading="lazy"></p>
</li>
<li><p>大家是否会奇怪，我们的HTMLImageElement类型来自哪里呢？甚至是document为什么可以有getElementById的方法呢？</p>
</li>
<li><p>其实这里就涉及到typescript对类型的管理和查找规则了。</p>
</li>
<li><p>我们这里先给大家介绍另外的一种typescript文件：.d.ts文件</p>
<ul>
<li><p>我们之前编写的typescript文件都是 .ts 文件，这些文件最终会输出 .js 文件，也是我们通常编写代码的地方；</p>
</li>
<li><p>还有另外一种文件 .d.ts 文件，它是用来做类型的声明(declare)。 它仅仅用来做类型检测，告知typescript我们有哪些类型；</p>
</li>
</ul>
</li>
<li><p>那么typescript会在哪里查找我们的类型声明呢？</p>
<ul>
<li><p>内置类型声明；</p>
</li>
<li><p>外部定义类型声明；</p>
</li>
<li><p>自己定义类型声明；</p>
</li>
</ul>
</li>
</ul>
<h2 id="内置类型声明"><a href="#内置类型声明" class="headerlink" title="内置类型声明"></a>内置类型声明</h2><ul>
<li><p>内置类型声明是typescript自带的、帮助我们内置了JavaScript运行时的一些标准化API的声明文件；</p>
<ul>
<li>包括比如Math、Date等内置类型，也包括DOM API，比如Window、Document等；</li>
</ul>
</li>
<li><p>内置类型声明通常在我们安装typescript的环境中会带有的；</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoft/TypeScript/tree/main/lib">https://github.com/microsoft/TypeScript/tree/main/lib</a></li>
</ul>
</li>
</ul>
<h2 id="外部定义类型声明"><a href="#外部定义类型声明" class="headerlink" title="外部定义类型声明"></a>外部定义类型声明</h2><ul>
<li><p>外部类型声明通常是我们使用一些库（比如第三方库）时，需要的一些类型声明。</p>
</li>
<li><p><strong>这些库通常有两种类型声明方式：</strong></p>
<ul>
<li><p>方式一：在自己库中进行类型声明（编写.d.ts文件），比如axios</p>
</li>
<li><p>方式二：通过社区的一个公有库DefinitelyTyped存放类型声明文件 </p>
<ul>
<li><p>该库的GitHub地址：<a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped/">https://github.com/DefinitelyTyped/DefinitelyTyped/</a></p>
</li>
<li><p>该库查找声明安装方式的地址：<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/dt/search?search=">https://www.typescriptlang.org/dt/search?search=</a> </p>
</li>
<li><p>比如我们安装react的类型声明： npm i @types/react –save-dev</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="自定义类型声明"><a href="#自定义类型声明" class="headerlink" title="自定义类型声明"></a>自定义类型声明</h2><ul>
<li><p>什么情况下需要自己来定义声明文件呢？</p>
<ul>
<li><p>情况一：我们使用的第三方库是一个纯的JavaScript库，没有对应的声明文件；比如lodash</p>
</li>
<li><p>情况二：我们给自己的代码中声明一些类型，方便在其他地方直接进行使用；</p>
</li>
</ul>
</li>
</ul>
<h3 id="声明变量、函数、类"><a href="#声明变量、函数、类" class="headerlink" title="声明变量、函数、类"></a>声明变量、函数、类</h3><p><strong>coderwhy.d.ts</strong></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 声明变量/函数/类</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> whyName<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> whyAge<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> whyHeight<span class="token operator">:</span> <span class="token builtin">number</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">whyFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>

<span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>声明后，如果我们在 index.html定义了对应的数据，便可以直接在 ts 文件中应用这些变量、函数、类。</p>
<h3 id="声明模块"><a href="#声明模块" class="headerlink" title="声明模块"></a>声明模块</h3><ul>
<li><p>我们也可以声明模块，比如lodash模块默认不能使用的情况，可以自己来声明这个模块： </p>
</li>
<li><p>声明模块的语法: declare module ‘模块名’ {}。 </p>
<ul>
<li>在声明模块的内部，我们可以通过 export 导出对应库的类、函数等；</li>
</ul>
</li>
</ul>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 声明模块</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'lodash'</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>声明后，便可在 ts 文件中使用 lodash 的 join 方法</li>
</ul>
<h2 id="声明文件"><a href="#声明文件" class="headerlink" title="声明文件"></a>声明文件</h2><ul>
<li><p>在某些情况下，我们也可以声明文件：</p>
<ul>
<li><p>比如在开发vue的过程中，默认是不识别我们的.vue文件的，那么我们就需要对其进行文件的声明；</p>
</li>
<li><p>比如在开发中我们使用了 jpg 这类图片文件，默认typescript也是不支持的，也需要对其进行声明；</p>
</li>
</ul>
</li>
</ul>
<p><img src="/blogs/3c70d866/21.jpg" loading="lazy"></p>
<h2 id="声明命名空间"><a href="#声明命名空间" class="headerlink" title="声明命名空间"></a>声明命名空间</h2><ul>
<li><p>比如我们在index.html中直接引入了jQuery： </p>
</li>
<li><p>CDN地址： <a target="_blank" rel="noopener" href="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js">https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js</a></p>
</li>
<li><p>我们可以进行命名空间的声明： </p>
<p><img src="/blogs/3c70d866/22.jpg" loading="lazy"></p>
</li>
<li><p>在main.ts中就可以使用了：</p>
<p><img src="/blogs/3c70d866/23.jpg" loading="lazy"></p>
</li>
</ul>
<p><img src="/blogs/3c70d866/.jpg" loading="lazy"></p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>语轻星子</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://xxcijmz.top/blogs/3c70d866/" title="CodeWhy-Vue3-TS-学习笔记3">https://xxcijmz.top/blogs/3c70d866/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/blogs/f3f94af8/" rel="prev" title="CodeWhy-JavaScript高级-学习笔记1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">CodeWhy-JavaScript高级-学习笔记1</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/blogs/4b77e8f0/" rel="next" title="CodeWhy-Vue3-TS-学习笔记2"><span class="post-nav-text">CodeWhy-Vue3-TS-学习笔记2</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div><div id="valine-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"MnqOxUn1tp2XfaBiRJqcPNC3-MdYXbMMI","appKey":"BUJAYYUt5IhdIDVVvHH8aHMx","placeholder":"来与我一起讨论吧","avatar":null,"pageSize":10,"visitor":false,"highlight":true,"recordIP":false,"enableQQ":true,"meta":["nick"],"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/blogs/3c70d866/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">闽ICP备2021017107号-1</a></div><div class="copyright"><span>&copy; 2021 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 语轻星子</span></div><div class="live_time"><span>本博客已运行：</span><span id="display_live_time"></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-09-23T00:03:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#5698c3" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"dialog":{"enable":true},"log":false});</script></body></html>